<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>AlcapDAQ: midas/utils/mcnaf.c Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<h1>midas/utils/mcnaf.c</h1><a href="mcnaf_8c.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">/********************************************************************\</span>
<a name="l00002"></a>00002 <span class="comment"></span>
<a name="l00003"></a>00003 <span class="comment"> Name:         mcnaf.c</span>
<a name="l00004"></a>00004 <span class="comment"> Created by:   Pierre-Andre Amaudruz</span>
<a name="l00005"></a>00005 <span class="comment"> </span>
<a name="l00006"></a>00006 <span class="comment">  Contents:     CAMAC utility</span>
<a name="l00007"></a>00007 <span class="comment"></span>
<a name="l00008"></a>00008 <span class="comment">    $Log: mcnaf.c,v $</span>
<a name="l00009"></a>00009 <span class="comment">    Revision 1.1.1.1  2005/06/20 23:37:38  mucap</span>
<a name="l00010"></a>00010 <span class="comment">    Importing release 1.9.5 of the MIDAS source code as distributed by PSI.</span>
<a name="l00011"></a>00011 <span class="comment">    (Next, I&apos;ll commit our local customizations.)</span>
<a name="l00012"></a>00012 <span class="comment"></span>
<a name="l00013"></a>00013 <span class="comment">    Revision 1.20  2004/01/08 08:40:11  midas</span>
<a name="l00014"></a>00014 <span class="comment">    Implemented standard indentation</span>
<a name="l00015"></a>00015 <span class="comment"></span>
<a name="l00016"></a>00016 <span class="comment">    Revision 1.19  2003/05/09 07:40:05  midas</span>
<a name="l00017"></a>00017 <span class="comment">    Added extra parameter to cm_get_environment</span>
<a name="l00018"></a>00018 <span class="comment"></span>
<a name="l00019"></a>00019 <span class="comment">    Revision 1.18  2003/04/23 23:08:19  pierre</span>
<a name="l00020"></a>00020 <span class="comment">    Fixed compiler warning</span>
<a name="l00021"></a>00021 <span class="comment"></span>
<a name="l00022"></a>00022 <span class="comment">    Revision 1.17  2002/06/05 04:12:23  pierre</span>
<a name="l00023"></a>00023 <span class="comment">    pass cmd_flag arg, remove printf</span>
<a name="l00024"></a>00024 <span class="comment"></span>
<a name="l00025"></a>00025 <span class="comment">    Revision 1.16  2002/06/05 04:07:30  pierre</span>
<a name="l00026"></a>00026 <span class="comment">    fix @ job</span>
<a name="l00027"></a>00027 <span class="comment"></span>
<a name="l00028"></a>00028 <span class="comment">    Revision 1.15  2001/07/20 00:49:29  pierre</span>
<a name="l00029"></a>00029 <span class="comment">    - Added -c option and -c @filename.</span>
<a name="l00030"></a>00030 <span class="comment"></span>
<a name="l00031"></a>00031 <span class="comment">    Revision 1.14  2000/11/02 17:54:58  pierre</span>
<a name="l00032"></a>00032 <span class="comment">    - Fix job repeat, uses command RxWx.</span>
<a name="l00033"></a>00033 <span class="comment"></span>
<a name="l00034"></a>00034 <span class="comment">    Revision 1.13  2000/09/14 20:23:45  pierre</span>
<a name="l00035"></a>00035 <span class="comment">    -Add cm_get_environment()</span>
<a name="l00036"></a>00036 <span class="comment"></span>
<a name="l00037"></a>00037 <span class="comment">    Revision 1.12  2000/08/10 07:49:25  midas</span>
<a name="l00038"></a>00038 <span class="comment">    Added client name together with frontend name in cam_init_rpc</span>
<a name="l00039"></a>00039 <span class="comment"></span>
<a name="l00040"></a>00040 <span class="comment">    Revision 1.11  2000/07/25 14:11:33  midas</span>
<a name="l00041"></a>00041 <span class="comment">    Changed &quot;&amp;&quot; to &quot;&amp;&amp;&quot;</span>
<a name="l00042"></a>00042 <span class="comment"></span>
<a name="l00043"></a>00043 <span class="comment">    Revision 1.10  2000/04/18 22:07:31  pierre</span>
<a name="l00044"></a>00044 <span class="comment">    - added cam_lam_clear private function.</span>
<a name="l00045"></a>00045 <span class="comment">    - fix cc_services for N &gt;= 28</span>
<a name="l00046"></a>00046 <span class="comment"></span>
<a name="l00047"></a>00047 <span class="comment">    Revision 1.9  1999/12/08 00:04:48  pierre</span>
<a name="l00048"></a>00048 <span class="comment">    - Fix mcstd _r, _sa functions</span>
<a name="l00049"></a>00049 <span class="comment"></span>
<a name="l00050"></a>00050 <span class="comment">    Revision 1.8  1998/11/23 16:17:37  pierre</span>
<a name="l00051"></a>00051 <span class="comment">    Fix bug: double CAMAC call since [P] implementation (visible in camacrpc)</span>
<a name="l00052"></a>00052 <span class="comment">    CVS:-----------------------------------------------------------------------</span>
<a name="l00053"></a>00053 <span class="comment"></span>
<a name="l00054"></a>00054 <span class="comment">    Revision 1.7  1998/11/20 14:29:31  pierre</span>
<a name="l00055"></a>00055 <span class="comment">    Added [P] cmd for MCStd commands (2nd level)</span>
<a name="l00056"></a>00056 <span class="comment"></span>
<a name="l00057"></a>00057 <span class="comment">    Revision 1.5  1998/10/23 14:21:51  midas</span>
<a name="l00058"></a>00058 <span class="comment">    - Modified version scheme from 1.06 to 1.6.0</span>
<a name="l00059"></a>00059 <span class="comment">    - cm_get_version() now returns versino as string</span>
<a name="l00060"></a>00060 <span class="comment"></span>
<a name="l00061"></a>00061 <span class="comment">    Revision 1.4  1998/10/13 16:56:53  pierre</span>
<a name="l00062"></a>00062 <span class="comment">    -PAA- Add log header</span>
<a name="l00063"></a>00063 <span class="comment">             </span>
<a name="l00064"></a>00064 <span class="comment">\********************************************************************/</span>
<a name="l00065"></a>00065 <span class="preprocessor">#include &lt;stdio.h&gt;</span>
<a name="l00066"></a>00066 <span class="preprocessor">#include &quot;<a class="code" href="midas_8h.html">midas.h</a>&quot;</span>
<a name="l00067"></a>00067 <span class="preprocessor">#include &quot;<a class="code" href="msystem_8h.html">msystem.h</a>&quot;</span>
<a name="l00068"></a>00068 <span class="preprocessor">#include &quot;<a class="code" href="mcstd_8h.html">mcstd.h</a>&quot;</span>
<a name="l00069"></a>00069 
<a name="l00070"></a>00070 <span class="comment">/* internal definitions */</span>
<a name="l00071"></a><a class="code" href="mcnaf_8c.html#a93bc48140590e845b99df4b377f87887">00071</a> <span class="preprocessor">#define  D16   16</span>
<a name="l00072"></a><a class="code" href="mcnaf_8c.html#aca2d0324d94ff7c5bdde49fbd02eaafb">00072</a> <span class="preprocessor"></span><span class="preprocessor">#define  D24   24</span>
<a name="l00073"></a><a class="code" href="mcnaf_8c.html#a8e8f11caf539de9555d07b4e7ef5b1da">00073</a> <span class="preprocessor"></span><span class="preprocessor">#define  LOOP   1</span>
<a name="l00074"></a><a class="code" href="mcnaf_8c.html#ad24e2b54375e12474e65ebf7175988fb">00074</a> <span class="preprocessor"></span><span class="preprocessor">#define  QUIT   2</span>
<a name="l00075"></a><a class="code" href="mcnaf_8c.html#ae8a798ec5e0449028e485688e8241b5e">00075</a> <span class="preprocessor"></span><span class="preprocessor">#define  HELP   3</span>
<a name="l00076"></a><a class="code" href="mcnaf_8c.html#a688a4adbb87520a2b68681bd6bfb199e">00076</a> <span class="preprocessor"></span><span class="preprocessor">#define  SKIP   4</span>
<a name="l00077"></a><a class="code" href="mcnaf_8c.html#a1d614984ce3fdc4a597f42b672111421">00077</a> <span class="preprocessor"></span><span class="preprocessor">#define  JOB    5</span>
<a name="l00078"></a><a class="code" href="mcnaf_8c.html#a4ccc9878008def89d325d0bb7efdbd6b">00078</a> <span class="preprocessor"></span><span class="preprocessor">#define  CHECK  6</span>
<a name="l00079"></a><a class="code" href="mcnaf_8c.html#ada74e7db007a68e763f20c17f2985356">00079</a> <span class="preprocessor"></span><span class="preprocessor">#define  READ   7</span>
<a name="l00080"></a><a class="code" href="mcnaf_8c.html#ac44f650e9af953a1c16b21e7b54f8a39">00080</a> <span class="preprocessor"></span><span class="preprocessor">#define  MCSTD 77</span>
<a name="l00081"></a><a class="code" href="mcnaf_8c.html#a34b04bd23b07b485921a728ad0805ac4">00081</a> <span class="preprocessor"></span><span class="preprocessor">#define  MAIN  78</span>
<a name="l00082"></a>00082 <span class="preprocessor"></span>
<a name="l00083"></a><a class="code" href="mcnaf_8c.html#aacc97c2a278d1e4c19a52392ba2cf646">00083</a> <span class="preprocessor">#define  CAM_OFF     100</span>
<a name="l00084"></a><a class="code" href="mcnaf_8c.html#ab41e7d090ad705582b6ebee61d5a4bf2">00084</a> <span class="preprocessor"></span><span class="preprocessor">#define  CAM16I      CAM_OFF+29</span>
<a name="l00085"></a><a class="code" href="mcnaf_8c.html#a0ce18c4e7ee95b78feab2ca4edbae98e">00085</a> <span class="preprocessor"></span><span class="preprocessor">#define  CAM24I      CAM_OFF+28</span>
<a name="l00086"></a><a class="code" href="mcnaf_8c.html#a6972b3d8cfa1d94915282f5a5d664bc2">00086</a> <span class="preprocessor"></span><span class="preprocessor">#define  CAM16I_Q    CAM_OFF+27</span>
<a name="l00087"></a><a class="code" href="mcnaf_8c.html#a9c520127dd3c23dc0c1a43d4cad6dd7b">00087</a> <span class="preprocessor"></span><span class="preprocessor">#define  CAM24I_Q    CAM_OFF+26</span>
<a name="l00088"></a><a class="code" href="mcnaf_8c.html#adb4518b308264ac7423af058a0283235">00088</a> <span class="preprocessor"></span><span class="preprocessor">#define  CAM16I_R    CAM_OFF+25</span>
<a name="l00089"></a><a class="code" href="mcnaf_8c.html#a625a1b013593af57d8e1b907ba20f8e6">00089</a> <span class="preprocessor"></span><span class="preprocessor">#define  CAM24I_R    CAM_OFF+24</span>
<a name="l00090"></a><a class="code" href="mcnaf_8c.html#a60948af9fd72b71df21fae76e92b0403">00090</a> <span class="preprocessor"></span><span class="preprocessor">#define  CAM16I_RQ   CAM_OFF+23</span>
<a name="l00091"></a><a class="code" href="mcnaf_8c.html#abb7017e58b7de76572cf7a22f0fca3d9">00091</a> <span class="preprocessor"></span><span class="preprocessor">#define  CAM24I_RQ   CAM_OFF+22</span>
<a name="l00092"></a><a class="code" href="mcnaf_8c.html#a019e9ca72470744fe4e9d81cda310334">00092</a> <span class="preprocessor"></span><span class="preprocessor">#define  CAM16I_SA   CAM_OFF+21</span>
<a name="l00093"></a><a class="code" href="mcnaf_8c.html#aace69d13ee6302bad3daa6e6691b60a0">00093</a> <span class="preprocessor"></span><span class="preprocessor">#define  CAM24I_SA   CAM_OFF+20</span>
<a name="l00094"></a><a class="code" href="mcnaf_8c.html#af7bb97723def7791d1b659a8952cec6a">00094</a> <span class="preprocessor"></span><span class="preprocessor">#define  CAM16I_SN   CAM_OFF+19</span>
<a name="l00095"></a><a class="code" href="mcnaf_8c.html#abd64bbfb47a37e0f94a159f0f9faf80e">00095</a> <span class="preprocessor"></span><span class="preprocessor">#define  CAM24I_SN   CAM_OFF+18</span>
<a name="l00096"></a>00096 <span class="preprocessor"></span>
<a name="l00097"></a><a class="code" href="mcnaf_8c.html#a3fafeea977e5f291cdfd873871f1ca96">00097</a> <span class="preprocessor">#define  CAM16O      CAM_OFF+17</span>
<a name="l00098"></a><a class="code" href="mcnaf_8c.html#a72a4d0de0ec6ceaff27544e3340416a4">00098</a> <span class="preprocessor"></span><span class="preprocessor">#define  CAM24O      CAM_OFF+16</span>
<a name="l00099"></a><a class="code" href="mcnaf_8c.html#ae3848a582ae307875cf15b10f95e27c0">00099</a> <span class="preprocessor"></span><span class="preprocessor">#define  CAM16O_Q    CAM_OFF+15</span>
<a name="l00100"></a><a class="code" href="mcnaf_8c.html#aaef8b7e205e05a3cfa7d7d60ae5f2485">00100</a> <span class="preprocessor"></span><span class="preprocessor">#define  CAM24O_Q    CAM_OFF+14</span>
<a name="l00101"></a><a class="code" href="mcnaf_8c.html#acdafde48d0d85219a0ce0e8c45928e07">00101</a> <span class="preprocessor"></span><span class="preprocessor">#define  CAM16O_R    CAM_OFF+13</span>
<a name="l00102"></a><a class="code" href="mcnaf_8c.html#ad4dd268eaf9608a332e7101dc3c1e23d">00102</a> <span class="preprocessor"></span><span class="preprocessor">#define  CAM24O_R    CAM_OFF+12</span>
<a name="l00103"></a>00103 <span class="preprocessor"></span>
<a name="l00104"></a><a class="code" href="mcnaf_8c.html#a6194e1dd654982ebec2542e609dca443">00104</a> <span class="preprocessor">#define  CAMC        CAM_OFF+11</span>
<a name="l00105"></a><a class="code" href="mcnaf_8c.html#a3b634d4e84d22f456c4caaae9eec63ce">00105</a> <span class="preprocessor"></span><span class="preprocessor">#define  CAMC_Q      CAM_OFF+10</span>
<a name="l00106"></a><a class="code" href="mcnaf_8c.html#a056329a6a2c73c5d684f6b531bab1938">00106</a> <span class="preprocessor"></span><span class="preprocessor">#define  CAMC_SA     CAM_OFF+9</span>
<a name="l00107"></a><a class="code" href="mcnaf_8c.html#a11951c538307d574741b5631053bf4d4">00107</a> <span class="preprocessor"></span><span class="preprocessor">#define  CAMC_SN     CAM_OFF+8</span>
<a name="l00108"></a>00108 <span class="preprocessor"></span>
<a name="l00109"></a><a class="code" href="mcnaf_8c.html#aeec415dd6e4d3e2721667e6baa701cbb">00109</a> <span class="preprocessor">#define  CAM_LAM_ENABLE     CAM_OFF+7</span>
<a name="l00110"></a><a class="code" href="mcnaf_8c.html#aaee7db4dd9cb926de173b2046371d341">00110</a> <span class="preprocessor"></span><span class="preprocessor">#define  CAM_LAM_READ       CAM_OFF+6</span>
<a name="l00111"></a><a class="code" href="mcnaf_8c.html#a0a902ce466d0e38dfed3ed3ee4240572">00111</a> <span class="preprocessor"></span><span class="preprocessor">#define  CAM_LAM_DISABLE    CAM_OFF+5</span>
<a name="l00112"></a><a class="code" href="mcnaf_8c.html#a4e3ce7957f7d09c9844fdb1346276fa6">00112</a> <span class="preprocessor"></span><span class="preprocessor">#define  CAM_LAM_CLEAR      CAM_OFF+4</span>
<a name="l00113"></a><a class="code" href="mcnaf_8c.html#abe9f8f0a3e88a5bf10f6a8e0a98e43df">00113</a> <span class="preprocessor"></span><span class="preprocessor">#define  CAM_INHIBIT_CLEAR  CAM_OFF+3</span>
<a name="l00114"></a><a class="code" href="mcnaf_8c.html#a9cfa9fdf4a16e52eba4529c9759f67bd">00114</a> <span class="preprocessor"></span><span class="preprocessor">#define  CAM_INHIBIT_SET    CAM_OFF+2</span>
<a name="l00115"></a><a class="code" href="mcnaf_8c.html#abe76efd99e45a425c8f5f615e5113892">00115</a> <span class="preprocessor"></span><span class="preprocessor">#define  CAM_CRATE_CLEAR    CAM_OFF+1</span>
<a name="l00116"></a><a class="code" href="mcnaf_8c.html#adb615edf3dbb592e92a6cdca0c54fe4d">00116</a> <span class="preprocessor"></span><span class="preprocessor">#define  CAM_CRATE_ZINIT    CAM_OFF+0</span>
<a name="l00117"></a>00117 <span class="preprocessor"></span>
<a name="l00118"></a>00118 <span class="comment">/* MCStd command list */</span>
<a name="l00119"></a><a class="code" href="mcnaf_8c.html#a996450d9c3838d537cb6567cf1d5dc98">00119</a> <span class="keywordtype">char</span> <a class="code" href="mcnaf_8c.html#a996450d9c3838d537cb6567cf1d5dc98">MCStd</a>[31][32] = {
<a name="l00120"></a>00120    <span class="stringliteral">&quot;CAM_CRATE_ZINIT&quot;</span>, <span class="stringliteral">&quot;CAM_CRATE_CLEAR&quot;</span>, <span class="stringliteral">&quot;CAM_INHIBIT_SET&quot;</span>, <span class="stringliteral">&quot;CAM_INHIBIT_CLEAR&quot;</span>,
<a name="l00121"></a>00121    <span class="stringliteral">&quot;CAM_LAM_CLEAR&quot;</span>, <span class="stringliteral">&quot;CAM_LAM_DISABLE&quot;</span>, <span class="stringliteral">&quot;CAM_LAM_READ&quot;</span>, <span class="stringliteral">&quot;CAM_LAM_ENABLE&quot;</span>,
<a name="l00122"></a>00122    <span class="stringliteral">&quot;CAMC_SN&quot;</span>, <span class="stringliteral">&quot;CAMC_SA&quot;</span>, <span class="stringliteral">&quot;CAMC_Q&quot;</span>, <span class="stringliteral">&quot;CAMC&quot;</span>,
<a name="l00123"></a>00123    <span class="stringliteral">&quot;CAM24O_R&quot;</span>, <span class="stringliteral">&quot;CAM16O_R&quot;</span>, <span class="stringliteral">&quot;CAM24O_Q&quot;</span>, <span class="stringliteral">&quot;CAM16O_Q&quot;</span>, <span class="stringliteral">&quot;CAM24O&quot;</span>, <span class="stringliteral">&quot;CAM16O&quot;</span>,
<a name="l00124"></a>00124    <span class="stringliteral">&quot;CAM24I_SN&quot;</span>, <span class="stringliteral">&quot;CAM16I_SN&quot;</span>, <span class="stringliteral">&quot;CAM24I_SA&quot;</span>, <span class="stringliteral">&quot;CAM16I_SA&quot;</span>,
<a name="l00125"></a>00125    <span class="stringliteral">&quot;CAM24I_RQ&quot;</span>, <span class="stringliteral">&quot;CAM16I_RQ&quot;</span>, <span class="stringliteral">&quot;CAM24I_R&quot;</span>, <span class="stringliteral">&quot;CAM16I_R&quot;</span>,
<a name="l00126"></a>00126    <span class="stringliteral">&quot;CAM24I_Q&quot;</span>, <span class="stringliteral">&quot;CAM16I_Q&quot;</span>, <span class="stringliteral">&quot;CAM24I&quot;</span>, <span class="stringliteral">&quot;CAM16I&quot;</span>, <span class="stringliteral">&quot;&quot;</span>
<a name="l00127"></a>00127 };
<a name="l00128"></a>00128 
<a name="l00129"></a>00129 <span class="comment">/* structure for CAMAC definition */</span>
<a name="l00130"></a><a class="code" href="structCAMAC.html">00130</a> <span class="keyword">typedef</span> <span class="keyword">struct </span>{
<a name="l00131"></a><a class="code" href="structCAMAC.html#a156e77a64da2521168877579abb9a42d">00131</a>    <a class="code" href="lrs1190_8c.html#a6877c9d7ac317ac3415ee1a1f92302a0">INT</a> m;
<a name="l00132"></a><a class="code" href="structCAMAC.html#aefb054917e43eda17ed5285db99a11a3">00132</a>    <a class="code" href="lrs1190_8c.html#a6877c9d7ac317ac3415ee1a1f92302a0">INT</a> b;
<a name="l00133"></a><a class="code" href="structCAMAC.html#a0fbdd1f69529ffff5a8bdb6526322847">00133</a>    <a class="code" href="lrs1190_8c.html#a6877c9d7ac317ac3415ee1a1f92302a0">INT</a> <a class="code" href="patch__mevb_8cpp.html#adce6024c3a1b29c5fcede88815f9b152">c</a>;
<a name="l00134"></a><a class="code" href="structCAMAC.html#af3cdaa27f11a77ff191b5563831bb78e">00134</a>    <a class="code" href="lrs1190_8c.html#a6877c9d7ac317ac3415ee1a1f92302a0">INT</a> <a class="code" href="camac_8c.html#a76f11d9a0a47b94f72c2d0e77fb32240">n</a>;
<a name="l00135"></a><a class="code" href="structCAMAC.html#ac6cabc96f365ddd4ebc714beb08ee699">00135</a>    <a class="code" href="lrs1190_8c.html#a6877c9d7ac317ac3415ee1a1f92302a0">INT</a> a;
<a name="l00136"></a><a class="code" href="structCAMAC.html#aae6e7c86e84b3b9b29d0edb6e771e688">00136</a>    <a class="code" href="lrs1190_8c.html#a6877c9d7ac317ac3415ee1a1f92302a0">INT</a> f;
<a name="l00137"></a><a class="code" href="structCAMAC.html#a49b737121cd00e6c70ba9a6a620e4396">00137</a>    <a class="code" href="unionWORD.html">WORD</a> d16;
<a name="l00138"></a><a class="code" href="structCAMAC.html#af4cb0066afa8946eb9252ceaecf0e794">00138</a>    <a class="code" href="group__mvmestdinclude.html#ga798af1e30bc65f319c1a246cecf59e39">DWORD</a> d24;
<a name="l00139"></a><a class="code" href="structCAMAC.html#a13304cee3e2c1c6ac0e02437b8b56830">00139</a>    <a class="code" href="lrs1190_8c.html#a6877c9d7ac317ac3415ee1a1f92302a0">INT</a> r;
<a name="l00140"></a><a class="code" href="structCAMAC.html#a11024b379368770387cd8edc356655a5">00140</a>    <a class="code" href="lrs1190_8c.html#a6877c9d7ac317ac3415ee1a1f92302a0">INT</a> w;
<a name="l00141"></a><a class="code" href="structCAMAC.html#a8edb79d88bf90eb62348a682be2bc1e6">00141</a>    <a class="code" href="lrs1190_8c.html#a6877c9d7ac317ac3415ee1a1f92302a0">INT</a> q;
<a name="l00142"></a><a class="code" href="structCAMAC.html#a3d1c990617c960b0d87599f6f7338b81">00142</a>    <a class="code" href="lrs1190_8c.html#a6877c9d7ac317ac3415ee1a1f92302a0">INT</a> x;
<a name="l00143"></a>00143 } <a class="code" href="structCAMAC.html">CAMAC</a>;
<a name="l00144"></a>00144 
<a name="l00145"></a>00145 
<a name="l00146"></a>00146 <span class="comment">/* Default CAMAC definition */</span>
<a name="l00147"></a><a class="code" href="mcnaf_8c.html#a313eb8df4654ce3ba73e975deb3c0ab3">00147</a> <a class="code" href="structCAMAC.html">CAMAC</a> <a class="code" href="mcnaf_8c.html#a313eb8df4654ce3ba73e975deb3c0ab3">Prompt</a>[2] = { {24, 0, 0, 1, 2, 0, 0, 0, 1, 0, 0, 0},
<a name="l00148"></a>00148 {0}
<a name="l00149"></a>00149 };
<a name="l00150"></a>00150 
<a name="l00151"></a>00151 <span class="comment">/* Default job file name */</span>
<a name="l00152"></a><a class="code" href="mcnaf_8c.html#a981c8e81f267b372f7af464d90b59549">00152</a> <span class="keywordtype">char</span> <a class="code" href="mcnaf_8c.html#a981c8e81f267b372f7af464d90b59549">job_name</a>[128] = <span class="stringliteral">&quot;cnaf.cnf&quot;</span>;
<a name="l00153"></a>00153 
<a name="l00154"></a><a class="code" href="mcnaf_8c.html#a8cd567d23219ba7fc83280cf20caf1c2">00154</a> <a class="code" href="group__midasincludecode.html#ga0e1bcf128ad8422667adffd1dea59791">HNDLE</a> <a class="code" href="mucap__compress_8cpp.html#ab1f60c53f74e806a3b9f687af38d7421">hDB</a>, <a class="code" href="mevb_8cpp.html#a8cd567d23219ba7fc83280cf20caf1c2">hKey</a>, <a class="code" href="camacrpc_8c.html#a42c1b988d32310a2f5db9535276a8af0">hConn</a>;
<a name="l00155"></a><a class="code" href="mcnaf_8c.html#ab104363964676ab454d20e78c053ea33">00155</a> FILE *<a class="code" href="mcnaf_8c.html#ab104363964676ab454d20e78c053ea33">pF</a>;
<a name="l00156"></a><a class="code" href="mcnaf_8c.html#ada551dc6d7d3f7a2e79c7aac1fc7e308">00156</a> <a class="code" href="group__midasincludecode.html#ga239c7f0d40651c3e419c5b9651507d14">BOOL</a> <a class="code" href="mcnaf_8c.html#ada551dc6d7d3f7a2e79c7aac1fc7e308">jobflag</a>;
<a name="l00157"></a><a class="code" href="mcnaf_8c.html#addeb24c60c6b386335a9d77338c6e334">00157</a> <span class="keywordtype">char</span> <a class="code" href="lrs1821_8c.html#a83a7514b5202f841d4b7a22b2eaece9c">addr</a>[128];
<a name="l00158"></a>00158 
<a name="l00159"></a>00159 <span class="comment">/* prototype */</span>
<a name="l00160"></a>00160 <a class="code" href="lrs1190_8c.html#a6877c9d7ac317ac3415ee1a1f92302a0">INT</a> <a class="code" href="mcnaf_8c.html#a29ce2fda593383fc41e2e359ac2ff277">cnafsub</a>(<a class="code" href="group__midasincludecode.html#ga239c7f0d40651c3e419c5b9651507d14">BOOL</a>, <span class="keywordtype">char</span> *);
<a name="l00161"></a>00161 <span class="keywordtype">void</span> <a class="code" href="mcnaf_8c.html#a43cf938c1b3665df5579686ca9bd0afd">help_page</a>(<a class="code" href="lrs1190_8c.html#a6877c9d7ac317ac3415ee1a1f92302a0">INT</a> which);
<a name="l00162"></a>00162 <a class="code" href="lrs1190_8c.html#a6877c9d7ac317ac3415ee1a1f92302a0">INT</a> <a class="code" href="mcnaf_8c.html#ad1a574b9e5a70320c678c0c55371d861">decode_line</a>(<a class="code" href="structCAMAC.html">CAMAC</a> * <a class="code" href="sis3803_8c.html#afcb0609a0beab248bb3994a3368bd9ff">p</a>, <span class="keywordtype">char</span> *<a class="code" href="odbhist_8c.html#a45bb529d5408fcb730eeccb339110d3f">str</a>);
<a name="l00163"></a>00163 <a class="code" href="lrs1190_8c.html#a6877c9d7ac317ac3415ee1a1f92302a0">INT</a> <a class="code" href="mcnaf_8c.html#af49149a0ba9709acbcc200b7db2b2b5e">read_job_file</a>(FILE * <a class="code" href="mcnaf_8c.html#ab104363964676ab454d20e78c053ea33">pF</a>, <a class="code" href="lrs1190_8c.html#a6877c9d7ac317ac3415ee1a1f92302a0">INT</a> action, <span class="keywordtype">void</span> **job, <span class="keywordtype">char</span> *<a class="code" href="examples_2macro_2midas__macro_8h.html#ab53d3e6e6144dcb27935cc71c57bc508">name</a>);
<a name="l00164"></a>00164 <span class="keywordtype">void</span> <a class="code" href="mcnaf_8c.html#aeffc27c8325de4d46cc5420bf3f3e05a">make_display_string</a>(<span class="keywordtype">int</span> from, <a class="code" href="structCAMAC.html">CAMAC</a> * <a class="code" href="sis3803_8c.html#afcb0609a0beab248bb3994a3368bd9ff">p</a>, <span class="keywordtype">char</span> *saddr);
<a name="l00165"></a>00165 <span class="keywordtype">void</span> <a class="code" href="mcnaf_8c.html#a876aee855df9ddb3bb7082470b59913c">cc_services</a>(<a class="code" href="structCAMAC.html">CAMAC</a> * <a class="code" href="sis3803_8c.html#afcb0609a0beab248bb3994a3368bd9ff">p</a>);
<a name="l00166"></a>00166 <span class="keywordtype">void</span> <a class="code" href="mcnaf_8c.html#af07b37f9fd961fa04c0aa022994231f5">mcstd_func</a>(<a class="code" href="structCAMAC.html">CAMAC</a> * <a class="code" href="kcs2926_8c.html#a15c8252e6b507e98f2814383ca4872a1">PP</a>);
<a name="l00167"></a>00167 
<a name="l00168"></a>00168 <span class="comment">/*--------------------------------------------------------------------*/</span>
<a name="l00169"></a><a class="code" href="mcnaf_8c.html#a876aee855df9ddb3bb7082470b59913c">00169</a> <span class="keywordtype">void</span> <a class="code" href="mcnaf_8c.html#a876aee855df9ddb3bb7082470b59913c">cc_services</a>(<a class="code" href="structCAMAC.html">CAMAC</a> * <a class="code" href="sis3803_8c.html#afcb0609a0beab248bb3994a3368bd9ff">p</a>)
<a name="l00170"></a>00170 {
<a name="l00171"></a>00171    <span class="keywordflow">if</span> (p-&gt;<a class="code" href="structCAMAC.html#af3cdaa27f11a77ff191b5563831bb78e">n</a> == 30) {
<a name="l00172"></a>00172       <span class="keywordflow">if</span> (p-&gt;<a class="code" href="structCAMAC.html#ac6cabc96f365ddd4ebc714beb08ee699">a</a> == 9 &amp;&amp; p-&gt;<a class="code" href="structCAMAC.html#aae6e7c86e84b3b9b29d0edb6e771e688">f</a> == 24)
<a name="l00173"></a>00173          <a class="code" href="group__mcstdfunctionh.html#gaaf50e8892fd5226754befa7185c9dc3a">cam_inhibit_clear</a>(p-&gt;<a class="code" href="structCAMAC.html#a0fbdd1f69529ffff5a8bdb6526322847">c</a>);
<a name="l00174"></a>00174       <span class="keywordflow">else</span> <span class="keywordflow">if</span> (p-&gt;<a class="code" href="structCAMAC.html#ac6cabc96f365ddd4ebc714beb08ee699">a</a> == 9 &amp;&amp; p-&gt;<a class="code" href="structCAMAC.html#aae6e7c86e84b3b9b29d0edb6e771e688">f</a> == 26)
<a name="l00175"></a>00175          <a class="code" href="group__mcstdfunctionh.html#gaa171934ed8e8ce2af3ec97f4192aa27b">cam_inhibit_set</a>(p-&gt;<a class="code" href="structCAMAC.html#a0fbdd1f69529ffff5a8bdb6526322847">c</a>);
<a name="l00176"></a>00176       <span class="keywordflow">else</span> <span class="keywordflow">if</span> (p-&gt;<a class="code" href="structCAMAC.html#ac6cabc96f365ddd4ebc714beb08ee699">a</a> &gt;= 0 &amp;&amp; p-&gt;<a class="code" href="structCAMAC.html#ac6cabc96f365ddd4ebc714beb08ee699">a</a> &lt; 8 &amp;&amp; p-&gt;<a class="code" href="structCAMAC.html#aae6e7c86e84b3b9b29d0edb6e771e688">f</a> == 1)
<a name="l00177"></a>00177          <a class="code" href="group__mcstdfunctionh.html#ga39be24f9fa9fb8601023665fe896d401">cam_lam_read</a>(p-&gt;<a class="code" href="structCAMAC.html#a0fbdd1f69529ffff5a8bdb6526322847">c</a>, &amp;p-&gt;<a class="code" href="structCAMAC.html#af4cb0066afa8946eb9252ceaecf0e794">d24</a>);
<a name="l00178"></a>00178       <span class="keywordflow">else</span> <span class="keywordflow">if</span> (p-&gt;<a class="code" href="structCAMAC.html#ac6cabc96f365ddd4ebc714beb08ee699">a</a> &gt;= 13 &amp;&amp; p-&gt;<a class="code" href="structCAMAC.html#aae6e7c86e84b3b9b29d0edb6e771e688">f</a> == 17)
<a name="l00179"></a>00179          <a class="code" href="group__mcstdfunctionh.html#ga3b676540b901e12fc4fd6a8495d612eb">cam_lam_enable</a>(p-&gt;<a class="code" href="structCAMAC.html#a0fbdd1f69529ffff5a8bdb6526322847">c</a>, p-&gt;<a class="code" href="structCAMAC.html#af4cb0066afa8946eb9252ceaecf0e794">d24</a>);
<a name="l00180"></a>00180       <span class="keywordflow">else</span> <span class="keywordflow">if</span> (p-&gt;<a class="code" href="structCAMAC.html#ac6cabc96f365ddd4ebc714beb08ee699">a</a> &gt;= 12 &amp;&amp; p-&gt;<a class="code" href="structCAMAC.html#aae6e7c86e84b3b9b29d0edb6e771e688">f</a> == 17)
<a name="l00181"></a>00181          <a class="code" href="group__mcstdfunctionh.html#gac24088d63d7b5b460a93eba5fbd32518">cam_lam_disable</a>(p-&gt;<a class="code" href="structCAMAC.html#a0fbdd1f69529ffff5a8bdb6526322847">c</a>, p-&gt;<a class="code" href="structCAMAC.html#af4cb0066afa8946eb9252ceaecf0e794">d24</a>);
<a name="l00182"></a>00182       <span class="comment">/*      else if (p-&gt;a&gt;=13 &amp;&amp; p-&gt;f==1)</span>
<a name="l00183"></a>00183 <span class="comment">         we don&apos;t support that function &quot;read lam mask&quot; */</span>
<a name="l00184"></a>00184    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (p-&gt;<a class="code" href="structCAMAC.html#af3cdaa27f11a77ff191b5563831bb78e">n</a> == 28 &amp;&amp; (p-&gt;<a class="code" href="structCAMAC.html#ac6cabc96f365ddd4ebc714beb08ee699">a</a> == 8 || p-&gt;<a class="code" href="structCAMAC.html#ac6cabc96f365ddd4ebc714beb08ee699">a</a> == 9)) {
<a name="l00185"></a>00185       <span class="keywordflow">if</span> (p-&gt;<a class="code" href="structCAMAC.html#ac6cabc96f365ddd4ebc714beb08ee699">a</a> == 8 &amp;&amp; p-&gt;<a class="code" href="structCAMAC.html#aae6e7c86e84b3b9b29d0edb6e771e688">f</a> == 26)
<a name="l00186"></a>00186          <a class="code" href="group__mcstdfunctionh.html#ga476ffc902c4674e17aa3b544781023e4">cam_crate_zinit</a>(p-&gt;<a class="code" href="structCAMAC.html#a0fbdd1f69529ffff5a8bdb6526322847">c</a>);
<a name="l00187"></a>00187       <span class="keywordflow">else</span> <span class="keywordflow">if</span> (p-&gt;<a class="code" href="structCAMAC.html#ac6cabc96f365ddd4ebc714beb08ee699">a</a> == 9 &amp;&amp; p-&gt;<a class="code" href="structCAMAC.html#aae6e7c86e84b3b9b29d0edb6e771e688">f</a> == 26)
<a name="l00188"></a>00188          <a class="code" href="group__mcstdfunctionh.html#ga9fb70c7c5fb16d3807373902b137fe3e">cam_crate_clear</a>(p-&gt;<a class="code" href="structCAMAC.html#a0fbdd1f69529ffff5a8bdb6526322847">c</a>);
<a name="l00189"></a>00189    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (p-&gt;<a class="code" href="structCAMAC.html#a156e77a64da2521168877579abb9a42d">m</a> == 24)       <span class="comment">/* Actual 24 bits CAMAC operation */</span>
<a name="l00190"></a>00190       <span class="keywordflow">if</span> (p-&gt;<a class="code" href="structCAMAC.html#aae6e7c86e84b3b9b29d0edb6e771e688">f</a> &lt; 16)
<a name="l00191"></a>00191          <a class="code" href="group__mcstdfunctionh.html#ga0f1b4435d6f1fea0e5787a5c2388b41c">cam24i_q</a>(p-&gt;<a class="code" href="structCAMAC.html#a0fbdd1f69529ffff5a8bdb6526322847">c</a>, p-&gt;<a class="code" href="structCAMAC.html#af3cdaa27f11a77ff191b5563831bb78e">n</a>, p-&gt;<a class="code" href="structCAMAC.html#ac6cabc96f365ddd4ebc714beb08ee699">a</a>, p-&gt;<a class="code" href="structCAMAC.html#aae6e7c86e84b3b9b29d0edb6e771e688">f</a>, &amp;p-&gt;<a class="code" href="structCAMAC.html#af4cb0066afa8946eb9252ceaecf0e794">d24</a>, &amp;p-&gt;<a class="code" href="structCAMAC.html#a3d1c990617c960b0d87599f6f7338b81">x</a>, &amp;p-&gt;<a class="code" href="structCAMAC.html#a8edb79d88bf90eb62348a682be2bc1e6">q</a>);
<a name="l00192"></a>00192       <span class="keywordflow">else</span>
<a name="l00193"></a>00193          <a class="code" href="group__mcstdfunctionh.html#gaefe50b118a37b83b19a3804a6759d8bd">cam24o_q</a>(p-&gt;<a class="code" href="structCAMAC.html#a0fbdd1f69529ffff5a8bdb6526322847">c</a>, p-&gt;<a class="code" href="structCAMAC.html#af3cdaa27f11a77ff191b5563831bb78e">n</a>, p-&gt;<a class="code" href="structCAMAC.html#ac6cabc96f365ddd4ebc714beb08ee699">a</a>, p-&gt;<a class="code" href="structCAMAC.html#aae6e7c86e84b3b9b29d0edb6e771e688">f</a>, p-&gt;<a class="code" href="structCAMAC.html#af4cb0066afa8946eb9252ceaecf0e794">d24</a>, &amp;p-&gt;<a class="code" href="structCAMAC.html#a3d1c990617c960b0d87599f6f7338b81">x</a>, &amp;p-&gt;<a class="code" href="structCAMAC.html#a8edb79d88bf90eb62348a682be2bc1e6">q</a>);
<a name="l00194"></a>00194    <span class="keywordflow">else</span> <span class="comment">/* Actual 16 bits CAMAC operation */</span> <span class="keywordflow">if</span> (p-&gt;<a class="code" href="structCAMAC.html#aae6e7c86e84b3b9b29d0edb6e771e688">f</a> &lt; 16)
<a name="l00195"></a>00195       <a class="code" href="group__mcstdfunctionh.html#ga2a515796e8020af32ea0e5aad490a170">cam16i_q</a>(p-&gt;<a class="code" href="structCAMAC.html#a0fbdd1f69529ffff5a8bdb6526322847">c</a>, p-&gt;<a class="code" href="structCAMAC.html#af3cdaa27f11a77ff191b5563831bb78e">n</a>, p-&gt;<a class="code" href="structCAMAC.html#ac6cabc96f365ddd4ebc714beb08ee699">a</a>, p-&gt;<a class="code" href="structCAMAC.html#aae6e7c86e84b3b9b29d0edb6e771e688">f</a>, &amp;p-&gt;<a class="code" href="structCAMAC.html#a49b737121cd00e6c70ba9a6a620e4396">d16</a>, &amp;p-&gt;<a class="code" href="structCAMAC.html#a3d1c990617c960b0d87599f6f7338b81">x</a>, &amp;p-&gt;<a class="code" href="structCAMAC.html#a8edb79d88bf90eb62348a682be2bc1e6">q</a>);
<a name="l00196"></a>00196    <span class="keywordflow">else</span>
<a name="l00197"></a>00197       <a class="code" href="group__mcstdfunctionh.html#ga971dc315017a5801f0131c4c2d396d28">cam16o_q</a>(p-&gt;<a class="code" href="structCAMAC.html#a0fbdd1f69529ffff5a8bdb6526322847">c</a>, p-&gt;<a class="code" href="structCAMAC.html#af3cdaa27f11a77ff191b5563831bb78e">n</a>, p-&gt;<a class="code" href="structCAMAC.html#ac6cabc96f365ddd4ebc714beb08ee699">a</a>, p-&gt;<a class="code" href="structCAMAC.html#aae6e7c86e84b3b9b29d0edb6e771e688">f</a>, p-&gt;<a class="code" href="structCAMAC.html#a49b737121cd00e6c70ba9a6a620e4396">d16</a>, &amp;p-&gt;<a class="code" href="structCAMAC.html#a3d1c990617c960b0d87599f6f7338b81">x</a>, &amp;p-&gt;<a class="code" href="structCAMAC.html#a8edb79d88bf90eb62348a682be2bc1e6">q</a>);
<a name="l00198"></a>00198 }
<a name="l00199"></a>00199 
<a name="l00200"></a>00200 <span class="comment">/*--------------------------------------------------------------------*/</span>
<a name="l00201"></a><a class="code" href="mcnaf_8c.html#af07b37f9fd961fa04c0aa022994231f5">00201</a> <span class="keywordtype">void</span> <a class="code" href="mcnaf_8c.html#af07b37f9fd961fa04c0aa022994231f5">mcstd_func</a>(<a class="code" href="structCAMAC.html">CAMAC</a> * <a class="code" href="kcs2926_8c.html#a15c8252e6b507e98f2814383ca4872a1">PP</a>)
<a name="l00202"></a>00202 {
<a name="l00203"></a>00203    <span class="keywordtype">char</span> paddr[128], pstr[128];
<a name="l00204"></a>00204    <span class="keywordtype">int</span> <a class="code" href="mdump_8c.html#a65a8886d814fb9bf73f9d4f0fd64d162">i</a>, <a class="code" href="patch__mevb_8cpp.html#a015eb90e0de9f16e87bd149d4b9ce959">status</a>, pstatus = 0;
<a name="l00205"></a>00205    <a class="code" href="unionWORD.html">WORD</a> dd16[100];
<a name="l00206"></a>00206    <a class="code" href="unionWORD.html">WORD</a> *pdd16;
<a name="l00207"></a>00207    <a class="code" href="group__mvmestdinclude.html#ga798af1e30bc65f319c1a246cecf59e39">DWORD</a> dd24[100];
<a name="l00208"></a>00208    <a class="code" href="group__mvmestdinclude.html#ga798af1e30bc65f319c1a246cecf59e39">DWORD</a> *pdd24;
<a name="l00209"></a>00209    <a class="code" href="group__mvmestdinclude.html#ga798af1e30bc65f319c1a246cecf59e39">DWORD</a> lam;
<a name="l00210"></a>00210    <a class="code" href="structCAMAC.html">CAMAC</a> *<a class="code" href="sis3803_8c.html#afcb0609a0beab248bb3994a3368bd9ff">p</a>;
<a name="l00211"></a>00211 
<a name="l00212"></a>00212    <span class="comment">/* Load default CAMAC */</span>
<a name="l00213"></a>00213    <span class="comment">// PP = &amp;Prompt[1];</span>
<a name="l00214"></a>00214    <span class="keywordflow">while</span> (1) {
<a name="l00215"></a>00215       <a class="code" href="mcnaf_8c.html#aeffc27c8325de4d46cc5420bf3f3e05a">make_display_string</a>(<a class="code" href="mcnaf_8c.html#ac44f650e9af953a1c16b21e7b54f8a39">MCSTD</a>, PP, paddr);
<a name="l00216"></a>00216       <span class="comment">/* prompt */</span>
<a name="l00217"></a>00217       printf(<span class="stringliteral">&quot;MCStd&gt; [%s] :&quot;</span>, paddr);
<a name="l00218"></a>00218       <a class="code" href="group__msectionh.html#ga062aca860070d963b86c98e8012dc43a">ss_gets</a>(pstr, 128);
<a name="l00219"></a>00219 
<a name="l00220"></a>00220       <span class="comment">/* decode line */</span>
<a name="l00221"></a>00221       status = <a class="code" href="mcnaf_8c.html#ad1a574b9e5a70320c678c0c55371d861">decode_line</a>(PP, pstr);
<a name="l00222"></a>00222       p = PP;
<a name="l00223"></a>00223       <span class="keywordflow">if</span> (status == <a class="code" href="mcnaf_8c.html#a8e8f11caf539de9555d07b4e7ef5b1da">LOOP</a>)
<a name="l00224"></a>00224          status = pstatus;
<a name="l00225"></a>00225       <span class="keywordflow">if</span> (status != <a class="code" href="mcnaf_8c.html#a688a4adbb87520a2b68681bd6bfb199e">SKIP</a> &amp;&amp; status != <a class="code" href="mcnaf_8c.html#ae8a798ec5e0449028e485688e8241b5e">HELP</a>)
<a name="l00226"></a>00226          pstatus = status;
<a name="l00227"></a>00227       i = 0;
<a name="l00228"></a>00228       pdd16 = dd16;
<a name="l00229"></a>00229       pdd24 = dd24;
<a name="l00230"></a>00230       <span class="keywordflow">switch</span> (status) {
<a name="l00231"></a>00231          <span class="comment">/* system */</span>
<a name="l00232"></a>00232       <span class="keywordflow">case</span> <a class="code" href="mcnaf_8c.html#aeec415dd6e4d3e2721667e6baa701cbb">CAM_LAM_ENABLE</a>:
<a name="l00233"></a>00233          <a class="code" href="group__mcstdfunctionh.html#ga3b676540b901e12fc4fd6a8495d612eb">cam_lam_enable</a>(p-&gt;<a class="code" href="structCAMAC.html#a0fbdd1f69529ffff5a8bdb6526322847">c</a>, p-&gt;<a class="code" href="structCAMAC.html#af3cdaa27f11a77ff191b5563831bb78e">n</a>);
<a name="l00234"></a>00234          printf(<span class="stringliteral">&quot;cam_lam_enable:C%i-N%i\n&quot;</span>, p-&gt;<a class="code" href="structCAMAC.html#a0fbdd1f69529ffff5a8bdb6526322847">c</a>, p-&gt;<a class="code" href="structCAMAC.html#af3cdaa27f11a77ff191b5563831bb78e">n</a>);
<a name="l00235"></a>00235          <span class="keywordflow">break</span>;
<a name="l00236"></a>00236       <span class="keywordflow">case</span> <a class="code" href="mcnaf_8c.html#a0a902ce466d0e38dfed3ed3ee4240572">CAM_LAM_DISABLE</a>:
<a name="l00237"></a>00237          <a class="code" href="group__mcstdfunctionh.html#gac24088d63d7b5b460a93eba5fbd32518">cam_lam_disable</a>(p-&gt;<a class="code" href="structCAMAC.html#a0fbdd1f69529ffff5a8bdb6526322847">c</a>, p-&gt;<a class="code" href="structCAMAC.html#af3cdaa27f11a77ff191b5563831bb78e">n</a>);
<a name="l00238"></a>00238          printf(<span class="stringliteral">&quot;cam_lam_disable:C%i-N%i\n&quot;</span>, p-&gt;<a class="code" href="structCAMAC.html#a0fbdd1f69529ffff5a8bdb6526322847">c</a>, p-&gt;<a class="code" href="structCAMAC.html#af3cdaa27f11a77ff191b5563831bb78e">n</a>);
<a name="l00239"></a>00239          <span class="keywordflow">break</span>;
<a name="l00240"></a>00240       <span class="keywordflow">case</span> <a class="code" href="mcnaf_8c.html#aaee7db4dd9cb926de173b2046371d341">CAM_LAM_READ</a>:
<a name="l00241"></a>00241          <a class="code" href="group__mcstdfunctionh.html#ga39be24f9fa9fb8601023665fe896d401">cam_lam_read</a>(p-&gt;<a class="code" href="structCAMAC.html#a0fbdd1f69529ffff5a8bdb6526322847">c</a>, &amp;lam);
<a name="l00242"></a>00242          printf(<span class="stringliteral">&quot;cam_lam_read:C%i-&gt; 0x%lx\n&quot;</span>, p-&gt;<a class="code" href="structCAMAC.html#a0fbdd1f69529ffff5a8bdb6526322847">c</a>, lam);
<a name="l00243"></a>00243          <span class="keywordflow">break</span>;
<a name="l00244"></a>00244       <span class="keywordflow">case</span> <a class="code" href="mcnaf_8c.html#a4e3ce7957f7d09c9844fdb1346276fa6">CAM_LAM_CLEAR</a>:
<a name="l00245"></a>00245          <a class="code" href="group__mcstdfunctionh.html#ga1ec1e961fe6664de573a78181b2f111c">cam_lam_clear</a>(p-&gt;<a class="code" href="structCAMAC.html#a0fbdd1f69529ffff5a8bdb6526322847">c</a>, p-&gt;<a class="code" href="structCAMAC.html#af3cdaa27f11a77ff191b5563831bb78e">n</a>);
<a name="l00246"></a>00246          printf(<span class="stringliteral">&quot;cam_lam_clear:C%i \n&quot;</span>, p-&gt;<a class="code" href="structCAMAC.html#a0fbdd1f69529ffff5a8bdb6526322847">c</a>);
<a name="l00247"></a>00247          <span class="keywordflow">break</span>;
<a name="l00248"></a>00248       <span class="keywordflow">case</span> <a class="code" href="mcnaf_8c.html#a9cfa9fdf4a16e52eba4529c9759f67bd">CAM_INHIBIT_SET</a>:
<a name="l00249"></a>00249          <a class="code" href="group__mcstdfunctionh.html#gaa171934ed8e8ce2af3ec97f4192aa27b">cam_inhibit_set</a>(p-&gt;<a class="code" href="structCAMAC.html#a0fbdd1f69529ffff5a8bdb6526322847">c</a>);
<a name="l00250"></a>00250          printf(<span class="stringliteral">&quot;cam_inhibit_set:C%i\n&quot;</span>, p-&gt;<a class="code" href="structCAMAC.html#a0fbdd1f69529ffff5a8bdb6526322847">c</a>);
<a name="l00251"></a>00251          <span class="keywordflow">break</span>;
<a name="l00252"></a>00252       <span class="keywordflow">case</span> <a class="code" href="mcnaf_8c.html#abe9f8f0a3e88a5bf10f6a8e0a98e43df">CAM_INHIBIT_CLEAR</a>:
<a name="l00253"></a>00253          <a class="code" href="group__mcstdfunctionh.html#gaaf50e8892fd5226754befa7185c9dc3a">cam_inhibit_clear</a>(p-&gt;<a class="code" href="structCAMAC.html#a0fbdd1f69529ffff5a8bdb6526322847">c</a>);
<a name="l00254"></a>00254          printf(<span class="stringliteral">&quot;cam_inhibit_clear:C%i\n&quot;</span>, p-&gt;<a class="code" href="structCAMAC.html#a0fbdd1f69529ffff5a8bdb6526322847">c</a>);
<a name="l00255"></a>00255          <span class="keywordflow">break</span>;
<a name="l00256"></a>00256       <span class="keywordflow">case</span> <a class="code" href="mcnaf_8c.html#abe76efd99e45a425c8f5f615e5113892">CAM_CRATE_CLEAR</a>:
<a name="l00257"></a>00257          <a class="code" href="group__mcstdfunctionh.html#ga9fb70c7c5fb16d3807373902b137fe3e">cam_crate_clear</a>(p-&gt;<a class="code" href="structCAMAC.html#a0fbdd1f69529ffff5a8bdb6526322847">c</a>);
<a name="l00258"></a>00258          printf(<span class="stringliteral">&quot;cam_crate_clear:C%i\n&quot;</span>, p-&gt;<a class="code" href="structCAMAC.html#a0fbdd1f69529ffff5a8bdb6526322847">c</a>);
<a name="l00259"></a>00259          <span class="keywordflow">break</span>;
<a name="l00260"></a>00260       <span class="keywordflow">case</span> <a class="code" href="mcnaf_8c.html#adb615edf3dbb592e92a6cdca0c54fe4d">CAM_CRATE_ZINIT</a>:
<a name="l00261"></a>00261          <a class="code" href="group__mcstdfunctionh.html#ga476ffc902c4674e17aa3b544781023e4">cam_crate_zinit</a>(p-&gt;<a class="code" href="structCAMAC.html#a0fbdd1f69529ffff5a8bdb6526322847">c</a>);
<a name="l00262"></a>00262          printf(<span class="stringliteral">&quot;cam_crate_zinit:C%i\n&quot;</span>, p-&gt;<a class="code" href="structCAMAC.html#a0fbdd1f69529ffff5a8bdb6526322847">c</a>);
<a name="l00263"></a>00263          <span class="keywordflow">break</span>;
<a name="l00264"></a>00264          <span class="comment">/* command */</span>
<a name="l00265"></a>00265       <span class="keywordflow">case</span> <a class="code" href="mcnaf_8c.html#a6194e1dd654982ebec2542e609dca443">CAMC</a>:
<a name="l00266"></a>00266          <span class="keywordflow">do</span> {
<a name="l00267"></a>00267             <a class="code" href="group__mcstdfunctionh.html#ga3840e8a0619db3b383cc2829b83b8e6a">camc</a>(p-&gt;<a class="code" href="structCAMAC.html#a0fbdd1f69529ffff5a8bdb6526322847">c</a>, p-&gt;<a class="code" href="structCAMAC.html#af3cdaa27f11a77ff191b5563831bb78e">n</a>, p-&gt;<a class="code" href="structCAMAC.html#ac6cabc96f365ddd4ebc714beb08ee699">a</a>, p-&gt;<a class="code" href="structCAMAC.html#aae6e7c86e84b3b9b29d0edb6e771e688">f</a>);
<a name="l00268"></a>00268             printf(<span class="stringliteral">&quot;camc:[R%i]-C%i-N%i-A%i-F%i\n&quot;</span>, ++i, p-&gt;<a class="code" href="structCAMAC.html#a0fbdd1f69529ffff5a8bdb6526322847">c</a>, p-&gt;<a class="code" href="structCAMAC.html#af3cdaa27f11a77ff191b5563831bb78e">n</a>, p-&gt;<a class="code" href="structCAMAC.html#ac6cabc96f365ddd4ebc714beb08ee699">a</a>, p-&gt;<a class="code" href="structCAMAC.html#aae6e7c86e84b3b9b29d0edb6e771e688">f</a>);
<a name="l00269"></a>00269          } <span class="keywordflow">while</span> (i &lt; p-&gt;r);
<a name="l00270"></a>00270          <span class="keywordflow">break</span>;
<a name="l00271"></a>00271       <span class="keywordflow">case</span> <a class="code" href="mcnaf_8c.html#a3b634d4e84d22f456c4caaae9eec63ce">CAMC_Q</a>:
<a name="l00272"></a>00272          <span class="keywordflow">do</span> {
<a name="l00273"></a>00273             <a class="code" href="group__mcstdfunctionh.html#gac33eb92d1f484fe1e76fdc001eefe48b">camc_q</a>(p-&gt;<a class="code" href="structCAMAC.html#a0fbdd1f69529ffff5a8bdb6526322847">c</a>, p-&gt;<a class="code" href="structCAMAC.html#af3cdaa27f11a77ff191b5563831bb78e">n</a>, p-&gt;<a class="code" href="structCAMAC.html#ac6cabc96f365ddd4ebc714beb08ee699">a</a>, p-&gt;<a class="code" href="structCAMAC.html#aae6e7c86e84b3b9b29d0edb6e771e688">f</a>, &amp;p-&gt;<a class="code" href="structCAMAC.html#a8edb79d88bf90eb62348a682be2bc1e6">q</a>);
<a name="l00274"></a>00274             printf(<span class="stringliteral">&quot;camc_q:[R%i]-C%i-N%i-A%i-F%i -Q:%i\n&quot;</span>, ++i, p-&gt;<a class="code" href="structCAMAC.html#a0fbdd1f69529ffff5a8bdb6526322847">c</a>, p-&gt;<a class="code" href="structCAMAC.html#af3cdaa27f11a77ff191b5563831bb78e">n</a>, p-&gt;<a class="code" href="structCAMAC.html#ac6cabc96f365ddd4ebc714beb08ee699">a</a>, p-&gt;<a class="code" href="structCAMAC.html#aae6e7c86e84b3b9b29d0edb6e771e688">f</a>,
<a name="l00275"></a>00275                    p-&gt;<a class="code" href="structCAMAC.html#a8edb79d88bf90eb62348a682be2bc1e6">q</a>);
<a name="l00276"></a>00276          } <span class="keywordflow">while</span> (i &lt; p-&gt;r);
<a name="l00277"></a>00277          <span class="keywordflow">break</span>;
<a name="l00278"></a>00278       <span class="keywordflow">case</span> <a class="code" href="mcnaf_8c.html#a056329a6a2c73c5d684f6b531bab1938">CAMC_SA</a>:
<a name="l00279"></a>00279          <a class="code" href="group__mcstdfunctionh.html#ga3840e8a0619db3b383cc2829b83b8e6a">camc</a>(p-&gt;<a class="code" href="structCAMAC.html#a0fbdd1f69529ffff5a8bdb6526322847">c</a>, p-&gt;<a class="code" href="structCAMAC.html#af3cdaa27f11a77ff191b5563831bb78e">n</a>, p-&gt;<a class="code" href="structCAMAC.html#ac6cabc96f365ddd4ebc714beb08ee699">a</a>, p-&gt;<a class="code" href="structCAMAC.html#aae6e7c86e84b3b9b29d0edb6e771e688">f</a>);
<a name="l00280"></a>00280          printf(<span class="stringliteral">&quot;camc_sa:C%i-N%i-A%i-F%i\n&quot;</span>, p-&gt;<a class="code" href="structCAMAC.html#a0fbdd1f69529ffff5a8bdb6526322847">c</a>, p-&gt;<a class="code" href="structCAMAC.html#af3cdaa27f11a77ff191b5563831bb78e">n</a>, p-&gt;<a class="code" href="structCAMAC.html#ac6cabc96f365ddd4ebc714beb08ee699">a</a>, p-&gt;<a class="code" href="structCAMAC.html#aae6e7c86e84b3b9b29d0edb6e771e688">f</a>);
<a name="l00281"></a>00281          <span class="keywordflow">break</span>;
<a name="l00282"></a>00282       <span class="keywordflow">case</span> <a class="code" href="mcnaf_8c.html#a11951c538307d574741b5631053bf4d4">CAMC_SN</a>:
<a name="l00283"></a>00283          <a class="code" href="group__mcstdfunctionh.html#ga3840e8a0619db3b383cc2829b83b8e6a">camc</a>(p-&gt;<a class="code" href="structCAMAC.html#a0fbdd1f69529ffff5a8bdb6526322847">c</a>, p-&gt;<a class="code" href="structCAMAC.html#af3cdaa27f11a77ff191b5563831bb78e">n</a>, p-&gt;<a class="code" href="structCAMAC.html#ac6cabc96f365ddd4ebc714beb08ee699">a</a>, p-&gt;<a class="code" href="structCAMAC.html#aae6e7c86e84b3b9b29d0edb6e771e688">f</a>);
<a name="l00284"></a>00284          printf(<span class="stringliteral">&quot;camc_sn:C%i-N%i-A%i-F%i\n&quot;</span>, p-&gt;<a class="code" href="structCAMAC.html#a0fbdd1f69529ffff5a8bdb6526322847">c</a>, p-&gt;<a class="code" href="structCAMAC.html#af3cdaa27f11a77ff191b5563831bb78e">n</a>, p-&gt;<a class="code" href="structCAMAC.html#ac6cabc96f365ddd4ebc714beb08ee699">a</a>, p-&gt;<a class="code" href="structCAMAC.html#aae6e7c86e84b3b9b29d0edb6e771e688">f</a>);
<a name="l00285"></a>00285          <span class="keywordflow">break</span>;
<a name="l00286"></a>00286          <span class="comment">/* output */</span>
<a name="l00287"></a>00287       <span class="keywordflow">case</span> <a class="code" href="mcnaf_8c.html#a3fafeea977e5f291cdfd873871f1ca96">CAM16O</a>:
<a name="l00288"></a>00288          <span class="keywordflow">do</span> {
<a name="l00289"></a>00289             <a class="code" href="group__mcstdfunctionh.html#gadee944c3c864999f507a2df2a50f1f1f">cam16o</a>(p-&gt;<a class="code" href="structCAMAC.html#a0fbdd1f69529ffff5a8bdb6526322847">c</a>, p-&gt;<a class="code" href="structCAMAC.html#af3cdaa27f11a77ff191b5563831bb78e">n</a>, p-&gt;<a class="code" href="structCAMAC.html#ac6cabc96f365ddd4ebc714beb08ee699">a</a>, p-&gt;<a class="code" href="structCAMAC.html#aae6e7c86e84b3b9b29d0edb6e771e688">f</a>, p-&gt;<a class="code" href="structCAMAC.html#a49b737121cd00e6c70ba9a6a620e4396">d16</a>);
<a name="l00290"></a>00290             printf(<span class="stringliteral">&quot;cam16o:[R%i]-C%i-N%i-A%i-F%i &lt;- 0x%x\n&quot;</span>, ++i, p-&gt;<a class="code" href="structCAMAC.html#a0fbdd1f69529ffff5a8bdb6526322847">c</a>, p-&gt;<a class="code" href="structCAMAC.html#af3cdaa27f11a77ff191b5563831bb78e">n</a>, p-&gt;<a class="code" href="structCAMAC.html#ac6cabc96f365ddd4ebc714beb08ee699">a</a>, p-&gt;<a class="code" href="structCAMAC.html#aae6e7c86e84b3b9b29d0edb6e771e688">f</a>,
<a name="l00291"></a>00291                    p-&gt;<a class="code" href="structCAMAC.html#a49b737121cd00e6c70ba9a6a620e4396">d16</a>);
<a name="l00292"></a>00292          } <span class="keywordflow">while</span> (i &lt; p-&gt;r);
<a name="l00293"></a>00293          <span class="keywordflow">break</span>;
<a name="l00294"></a>00294       <span class="keywordflow">case</span> <a class="code" href="mcnaf_8c.html#a72a4d0de0ec6ceaff27544e3340416a4">CAM24O</a>:
<a name="l00295"></a>00295          <span class="keywordflow">do</span> {
<a name="l00296"></a>00296             <a class="code" href="group__mcstdfunctionh.html#ga9916a212b322def800695ab893b245b3">cam24o</a>(p-&gt;<a class="code" href="structCAMAC.html#a0fbdd1f69529ffff5a8bdb6526322847">c</a>, p-&gt;<a class="code" href="structCAMAC.html#af3cdaa27f11a77ff191b5563831bb78e">n</a>, p-&gt;<a class="code" href="structCAMAC.html#ac6cabc96f365ddd4ebc714beb08ee699">a</a>, p-&gt;<a class="code" href="structCAMAC.html#aae6e7c86e84b3b9b29d0edb6e771e688">f</a>, p-&gt;<a class="code" href="structCAMAC.html#af4cb0066afa8946eb9252ceaecf0e794">d24</a>);
<a name="l00297"></a>00297             printf(<span class="stringliteral">&quot;cam24o:[R%i]-C%i-N%i-A%i-F%i &lt;- 0x%lx\n&quot;</span>, ++i, p-&gt;<a class="code" href="structCAMAC.html#a0fbdd1f69529ffff5a8bdb6526322847">c</a>, p-&gt;<a class="code" href="structCAMAC.html#af3cdaa27f11a77ff191b5563831bb78e">n</a>, p-&gt;<a class="code" href="structCAMAC.html#ac6cabc96f365ddd4ebc714beb08ee699">a</a>, p-&gt;<a class="code" href="structCAMAC.html#aae6e7c86e84b3b9b29d0edb6e771e688">f</a>,
<a name="l00298"></a>00298                    p-&gt;<a class="code" href="structCAMAC.html#af4cb0066afa8946eb9252ceaecf0e794">d24</a>);
<a name="l00299"></a>00299          } <span class="keywordflow">while</span> (i &lt; p-&gt;r);
<a name="l00300"></a>00300          <span class="keywordflow">break</span>;
<a name="l00301"></a>00301       <span class="keywordflow">case</span> <a class="code" href="mcnaf_8c.html#ae3848a582ae307875cf15b10f95e27c0">CAM16O_Q</a>:
<a name="l00302"></a>00302          <span class="keywordflow">do</span> {
<a name="l00303"></a>00303             <a class="code" href="group__mcstdfunctionh.html#ga971dc315017a5801f0131c4c2d396d28">cam16o_q</a>(p-&gt;<a class="code" href="structCAMAC.html#a0fbdd1f69529ffff5a8bdb6526322847">c</a>, p-&gt;<a class="code" href="structCAMAC.html#af3cdaa27f11a77ff191b5563831bb78e">n</a>, p-&gt;<a class="code" href="structCAMAC.html#ac6cabc96f365ddd4ebc714beb08ee699">a</a>, p-&gt;<a class="code" href="structCAMAC.html#aae6e7c86e84b3b9b29d0edb6e771e688">f</a>, p-&gt;<a class="code" href="structCAMAC.html#a49b737121cd00e6c70ba9a6a620e4396">d16</a>, &amp;p-&gt;<a class="code" href="structCAMAC.html#a3d1c990617c960b0d87599f6f7338b81">x</a>, &amp;p-&gt;<a class="code" href="structCAMAC.html#a8edb79d88bf90eb62348a682be2bc1e6">q</a>);
<a name="l00304"></a>00304             printf(<span class="stringliteral">&quot;cam16o_q:[R%i]-C%i-N%i-A%i-F%i &lt;- 0x%x X:%i-Q:%i\n&quot;</span>, ++i, p-&gt;<a class="code" href="structCAMAC.html#a0fbdd1f69529ffff5a8bdb6526322847">c</a>, p-&gt;<a class="code" href="structCAMAC.html#af3cdaa27f11a77ff191b5563831bb78e">n</a>,
<a name="l00305"></a>00305                    p-&gt;<a class="code" href="structCAMAC.html#ac6cabc96f365ddd4ebc714beb08ee699">a</a>, p-&gt;<a class="code" href="structCAMAC.html#aae6e7c86e84b3b9b29d0edb6e771e688">f</a>, p-&gt;<a class="code" href="structCAMAC.html#a49b737121cd00e6c70ba9a6a620e4396">d16</a>, p-&gt;<a class="code" href="structCAMAC.html#a3d1c990617c960b0d87599f6f7338b81">x</a>, p-&gt;<a class="code" href="structCAMAC.html#a8edb79d88bf90eb62348a682be2bc1e6">q</a>);
<a name="l00306"></a>00306          } <span class="keywordflow">while</span> (i &lt; p-&gt;r);
<a name="l00307"></a>00307          <span class="keywordflow">break</span>;
<a name="l00308"></a>00308       <span class="keywordflow">case</span> <a class="code" href="mcnaf_8c.html#aaef8b7e205e05a3cfa7d7d60ae5f2485">CAM24O_Q</a>:
<a name="l00309"></a>00309          <span class="keywordflow">do</span> {
<a name="l00310"></a>00310             <a class="code" href="group__mcstdfunctionh.html#gaefe50b118a37b83b19a3804a6759d8bd">cam24o_q</a>(p-&gt;<a class="code" href="structCAMAC.html#a0fbdd1f69529ffff5a8bdb6526322847">c</a>, p-&gt;<a class="code" href="structCAMAC.html#af3cdaa27f11a77ff191b5563831bb78e">n</a>, p-&gt;<a class="code" href="structCAMAC.html#ac6cabc96f365ddd4ebc714beb08ee699">a</a>, p-&gt;<a class="code" href="structCAMAC.html#aae6e7c86e84b3b9b29d0edb6e771e688">f</a>, p-&gt;<a class="code" href="structCAMAC.html#af4cb0066afa8946eb9252ceaecf0e794">d24</a>, &amp;p-&gt;<a class="code" href="structCAMAC.html#a3d1c990617c960b0d87599f6f7338b81">x</a>, &amp;p-&gt;<a class="code" href="structCAMAC.html#a8edb79d88bf90eb62348a682be2bc1e6">q</a>);
<a name="l00311"></a>00311             printf(<span class="stringliteral">&quot;cam24o_q:[R%i]-C%i-N%i-A%i-F%i &lt;- 0x%lx X:%i-Q:%i\n&quot;</span>, ++i, p-&gt;<a class="code" href="structCAMAC.html#a0fbdd1f69529ffff5a8bdb6526322847">c</a>, p-&gt;<a class="code" href="structCAMAC.html#af3cdaa27f11a77ff191b5563831bb78e">n</a>,
<a name="l00312"></a>00312                    p-&gt;<a class="code" href="structCAMAC.html#ac6cabc96f365ddd4ebc714beb08ee699">a</a>, p-&gt;<a class="code" href="structCAMAC.html#aae6e7c86e84b3b9b29d0edb6e771e688">f</a>, p-&gt;<a class="code" href="structCAMAC.html#af4cb0066afa8946eb9252ceaecf0e794">d24</a>, p-&gt;<a class="code" href="structCAMAC.html#a3d1c990617c960b0d87599f6f7338b81">x</a>, p-&gt;<a class="code" href="structCAMAC.html#a8edb79d88bf90eb62348a682be2bc1e6">q</a>);
<a name="l00313"></a>00313          } <span class="keywordflow">while</span> (i &lt; p-&gt;r);
<a name="l00314"></a>00314          <span class="keywordflow">break</span>;
<a name="l00315"></a>00315       <span class="keywordflow">case</span> <a class="code" href="mcnaf_8c.html#acdafde48d0d85219a0ce0e8c45928e07">CAM16O_R</a>:
<a name="l00316"></a>00316          <a class="code" href="group__mcstdfunctionh.html#ga775c859ad1eb0a301d8716b369d43400">cam16o_r</a>(p-&gt;<a class="code" href="structCAMAC.html#a0fbdd1f69529ffff5a8bdb6526322847">c</a>, p-&gt;<a class="code" href="structCAMAC.html#af3cdaa27f11a77ff191b5563831bb78e">n</a>, p-&gt;<a class="code" href="structCAMAC.html#ac6cabc96f365ddd4ebc714beb08ee699">a</a>, p-&gt;<a class="code" href="structCAMAC.html#aae6e7c86e84b3b9b29d0edb6e771e688">f</a>, pdd16, p-&gt;<a class="code" href="structCAMAC.html#a13304cee3e2c1c6ac0e02437b8b56830">r</a>);
<a name="l00317"></a>00317          printf(<span class="stringliteral">&quot;cam16o_r:C%i-N%i-A%i-F%i &lt;- 0x%x\n&quot;</span>, p-&gt;<a class="code" href="structCAMAC.html#a0fbdd1f69529ffff5a8bdb6526322847">c</a>, p-&gt;<a class="code" href="structCAMAC.html#af3cdaa27f11a77ff191b5563831bb78e">n</a>, p-&gt;<a class="code" href="structCAMAC.html#ac6cabc96f365ddd4ebc714beb08ee699">a</a>, p-&gt;<a class="code" href="structCAMAC.html#aae6e7c86e84b3b9b29d0edb6e771e688">f</a>, p-&gt;<a class="code" href="structCAMAC.html#a49b737121cd00e6c70ba9a6a620e4396">d16</a>);
<a name="l00318"></a>00318          <span class="keywordflow">break</span>;
<a name="l00319"></a>00319       <span class="keywordflow">case</span> <a class="code" href="mcnaf_8c.html#ad4dd268eaf9608a332e7101dc3c1e23d">CAM24O_R</a>:
<a name="l00320"></a>00320          <a class="code" href="group__mcstdfunctionh.html#gae776beaa8eae13f75edf286ed0a75a88">cam24o_r</a>(p-&gt;<a class="code" href="structCAMAC.html#a0fbdd1f69529ffff5a8bdb6526322847">c</a>, p-&gt;<a class="code" href="structCAMAC.html#af3cdaa27f11a77ff191b5563831bb78e">n</a>, p-&gt;<a class="code" href="structCAMAC.html#ac6cabc96f365ddd4ebc714beb08ee699">a</a>, p-&gt;<a class="code" href="structCAMAC.html#aae6e7c86e84b3b9b29d0edb6e771e688">f</a>, pdd24, p-&gt;<a class="code" href="structCAMAC.html#a13304cee3e2c1c6ac0e02437b8b56830">r</a>);
<a name="l00321"></a>00321          printf(<span class="stringliteral">&quot;cam24o_r:C%i-N%i-A%i-F%i &lt;- 0x%lx\n&quot;</span>, p-&gt;<a class="code" href="structCAMAC.html#a0fbdd1f69529ffff5a8bdb6526322847">c</a>, p-&gt;<a class="code" href="structCAMAC.html#af3cdaa27f11a77ff191b5563831bb78e">n</a>, p-&gt;<a class="code" href="structCAMAC.html#ac6cabc96f365ddd4ebc714beb08ee699">a</a>, p-&gt;<a class="code" href="structCAMAC.html#aae6e7c86e84b3b9b29d0edb6e771e688">f</a>, p-&gt;<a class="code" href="structCAMAC.html#af4cb0066afa8946eb9252ceaecf0e794">d24</a>);
<a name="l00322"></a>00322          <span class="keywordflow">break</span>;
<a name="l00323"></a>00323          <span class="comment">/* inputs */</span>
<a name="l00324"></a>00324       <span class="keywordflow">case</span> <a class="code" href="mcnaf_8c.html#ab41e7d090ad705582b6ebee61d5a4bf2">CAM16I</a>:
<a name="l00325"></a>00325          <span class="keywordflow">do</span> {
<a name="l00326"></a>00326             <a class="code" href="group__mcstdfunctionh.html#gad17f339ee8254f1aad6b406e50ebd4a8">cam16i</a>(p-&gt;<a class="code" href="structCAMAC.html#a0fbdd1f69529ffff5a8bdb6526322847">c</a>, p-&gt;<a class="code" href="structCAMAC.html#af3cdaa27f11a77ff191b5563831bb78e">n</a>, p-&gt;<a class="code" href="structCAMAC.html#ac6cabc96f365ddd4ebc714beb08ee699">a</a>, p-&gt;<a class="code" href="structCAMAC.html#aae6e7c86e84b3b9b29d0edb6e771e688">f</a>, &amp;p-&gt;<a class="code" href="structCAMAC.html#a49b737121cd00e6c70ba9a6a620e4396">d16</a>);
<a name="l00327"></a>00327             printf(<span class="stringliteral">&quot;cam16i:[R%i]-C%i-N%i-A%i-F%i-&gt; 0x%4.4x\n&quot;</span>, ++i, p-&gt;<a class="code" href="structCAMAC.html#a0fbdd1f69529ffff5a8bdb6526322847">c</a>, p-&gt;<a class="code" href="structCAMAC.html#af3cdaa27f11a77ff191b5563831bb78e">n</a>, p-&gt;<a class="code" href="structCAMAC.html#ac6cabc96f365ddd4ebc714beb08ee699">a</a>,
<a name="l00328"></a>00328                    p-&gt;<a class="code" href="structCAMAC.html#aae6e7c86e84b3b9b29d0edb6e771e688">f</a>, p-&gt;<a class="code" href="structCAMAC.html#a49b737121cd00e6c70ba9a6a620e4396">d16</a>);
<a name="l00329"></a>00329          } <span class="keywordflow">while</span> (i &lt; p-&gt;r);
<a name="l00330"></a>00330          <span class="keywordflow">break</span>;
<a name="l00331"></a>00331       <span class="keywordflow">case</span> <a class="code" href="mcnaf_8c.html#a0ce18c4e7ee95b78feab2ca4edbae98e">CAM24I</a>:
<a name="l00332"></a>00332          <span class="keywordflow">do</span> {
<a name="l00333"></a>00333             <a class="code" href="group__mcstdfunctionh.html#ga84d45a99ef748664e1eead0a5da4d862">cam24i</a>(p-&gt;<a class="code" href="structCAMAC.html#a0fbdd1f69529ffff5a8bdb6526322847">c</a>, p-&gt;<a class="code" href="structCAMAC.html#af3cdaa27f11a77ff191b5563831bb78e">n</a>, p-&gt;<a class="code" href="structCAMAC.html#ac6cabc96f365ddd4ebc714beb08ee699">a</a>, p-&gt;<a class="code" href="structCAMAC.html#aae6e7c86e84b3b9b29d0edb6e771e688">f</a>, &amp;p-&gt;<a class="code" href="structCAMAC.html#af4cb0066afa8946eb9252ceaecf0e794">d24</a>);
<a name="l00334"></a>00334             printf(<span class="stringliteral">&quot;cam24i:[R%i]-C%i-N%i-A%i-F%i-&gt; 0x%6.6lx\n&quot;</span>, ++i, p-&gt;<a class="code" href="structCAMAC.html#a0fbdd1f69529ffff5a8bdb6526322847">c</a>, p-&gt;<a class="code" href="structCAMAC.html#af3cdaa27f11a77ff191b5563831bb78e">n</a>, p-&gt;<a class="code" href="structCAMAC.html#ac6cabc96f365ddd4ebc714beb08ee699">a</a>,
<a name="l00335"></a>00335                    p-&gt;<a class="code" href="structCAMAC.html#aae6e7c86e84b3b9b29d0edb6e771e688">f</a>, p-&gt;<a class="code" href="structCAMAC.html#af4cb0066afa8946eb9252ceaecf0e794">d24</a>);
<a name="l00336"></a>00336          } <span class="keywordflow">while</span> (i &lt; p-&gt;r);
<a name="l00337"></a>00337          <span class="keywordflow">break</span>;
<a name="l00338"></a>00338       <span class="keywordflow">case</span> <a class="code" href="mcnaf_8c.html#a6972b3d8cfa1d94915282f5a5d664bc2">CAM16I_Q</a>:
<a name="l00339"></a>00339          <span class="keywordflow">do</span> {
<a name="l00340"></a>00340             <a class="code" href="group__mcstdfunctionh.html#ga2a515796e8020af32ea0e5aad490a170">cam16i_q</a>(p-&gt;<a class="code" href="structCAMAC.html#a0fbdd1f69529ffff5a8bdb6526322847">c</a>, p-&gt;<a class="code" href="structCAMAC.html#af3cdaa27f11a77ff191b5563831bb78e">n</a>, p-&gt;<a class="code" href="structCAMAC.html#ac6cabc96f365ddd4ebc714beb08ee699">a</a>, p-&gt;<a class="code" href="structCAMAC.html#aae6e7c86e84b3b9b29d0edb6e771e688">f</a>, &amp;p-&gt;<a class="code" href="structCAMAC.html#a49b737121cd00e6c70ba9a6a620e4396">d16</a>, &amp;p-&gt;<a class="code" href="structCAMAC.html#a3d1c990617c960b0d87599f6f7338b81">x</a>, &amp;p-&gt;<a class="code" href="structCAMAC.html#a8edb79d88bf90eb62348a682be2bc1e6">q</a>);
<a name="l00341"></a>00341             printf(<span class="stringliteral">&quot;cam16i_q:[R%i]-C%i-N%i-A%i-F%i-&gt; 0x%4.4x X:%i-Q:%i\n&quot;</span>, ++i, p-&gt;<a class="code" href="structCAMAC.html#a0fbdd1f69529ffff5a8bdb6526322847">c</a>,
<a name="l00342"></a>00342                    p-&gt;<a class="code" href="structCAMAC.html#af3cdaa27f11a77ff191b5563831bb78e">n</a>, p-&gt;<a class="code" href="structCAMAC.html#ac6cabc96f365ddd4ebc714beb08ee699">a</a>, p-&gt;<a class="code" href="structCAMAC.html#aae6e7c86e84b3b9b29d0edb6e771e688">f</a>, p-&gt;<a class="code" href="structCAMAC.html#a49b737121cd00e6c70ba9a6a620e4396">d16</a>, p-&gt;<a class="code" href="structCAMAC.html#a3d1c990617c960b0d87599f6f7338b81">x</a>, p-&gt;<a class="code" href="structCAMAC.html#a8edb79d88bf90eb62348a682be2bc1e6">q</a>);
<a name="l00343"></a>00343          } <span class="keywordflow">while</span> (i &lt; p-&gt;r);
<a name="l00344"></a>00344          <span class="keywordflow">break</span>;
<a name="l00345"></a>00345       <span class="keywordflow">case</span> <a class="code" href="mcnaf_8c.html#a9c520127dd3c23dc0c1a43d4cad6dd7b">CAM24I_Q</a>:
<a name="l00346"></a>00346          <span class="keywordflow">do</span> {
<a name="l00347"></a>00347             <a class="code" href="group__mcstdfunctionh.html#ga0f1b4435d6f1fea0e5787a5c2388b41c">cam24i_q</a>(p-&gt;<a class="code" href="structCAMAC.html#a0fbdd1f69529ffff5a8bdb6526322847">c</a>, p-&gt;<a class="code" href="structCAMAC.html#af3cdaa27f11a77ff191b5563831bb78e">n</a>, p-&gt;<a class="code" href="structCAMAC.html#ac6cabc96f365ddd4ebc714beb08ee699">a</a>, p-&gt;<a class="code" href="structCAMAC.html#aae6e7c86e84b3b9b29d0edb6e771e688">f</a>, &amp;p-&gt;<a class="code" href="structCAMAC.html#af4cb0066afa8946eb9252ceaecf0e794">d24</a>, &amp;p-&gt;<a class="code" href="structCAMAC.html#a3d1c990617c960b0d87599f6f7338b81">x</a>, &amp;p-&gt;<a class="code" href="structCAMAC.html#a8edb79d88bf90eb62348a682be2bc1e6">q</a>);
<a name="l00348"></a>00348             printf(<span class="stringliteral">&quot;cam24i_q:[R%i]-C%i-N%i-A%i-F%i-&gt; 0x%6.6lx X:%i-Q:%i\n&quot;</span>, ++i, p-&gt;<a class="code" href="structCAMAC.html#a0fbdd1f69529ffff5a8bdb6526322847">c</a>,
<a name="l00349"></a>00349                    p-&gt;<a class="code" href="structCAMAC.html#af3cdaa27f11a77ff191b5563831bb78e">n</a>, p-&gt;<a class="code" href="structCAMAC.html#ac6cabc96f365ddd4ebc714beb08ee699">a</a>, p-&gt;<a class="code" href="structCAMAC.html#aae6e7c86e84b3b9b29d0edb6e771e688">f</a>, p-&gt;<a class="code" href="structCAMAC.html#af4cb0066afa8946eb9252ceaecf0e794">d24</a>, p-&gt;<a class="code" href="structCAMAC.html#a3d1c990617c960b0d87599f6f7338b81">x</a>, p-&gt;<a class="code" href="structCAMAC.html#a8edb79d88bf90eb62348a682be2bc1e6">q</a>);
<a name="l00350"></a>00350          } <span class="keywordflow">while</span> (i &lt; p-&gt;r);
<a name="l00351"></a>00351          <span class="keywordflow">break</span>;
<a name="l00352"></a>00352       <span class="keywordflow">case</span> <a class="code" href="mcnaf_8c.html#adb4518b308264ac7423af058a0283235">CAM16I_R</a>:
<a name="l00353"></a>00353          memset(pdd16, 0, <span class="keyword">sizeof</span>(dd16));
<a name="l00354"></a>00354          <a class="code" href="group__mcstdfunctionh.html#ga2c3c3cdd300fee9d03e3c426dad38e7c">cam16i_r</a>(p-&gt;<a class="code" href="structCAMAC.html#a0fbdd1f69529ffff5a8bdb6526322847">c</a>, p-&gt;<a class="code" href="structCAMAC.html#af3cdaa27f11a77ff191b5563831bb78e">n</a>, p-&gt;<a class="code" href="structCAMAC.html#ac6cabc96f365ddd4ebc714beb08ee699">a</a>, p-&gt;<a class="code" href="structCAMAC.html#aae6e7c86e84b3b9b29d0edb6e771e688">f</a>, &amp;pdd16, p-&gt;<a class="code" href="structCAMAC.html#a13304cee3e2c1c6ac0e02437b8b56830">r</a>);
<a name="l00355"></a>00355          <span class="keywordflow">for</span> (i = 0; i &lt; p-&gt;<a class="code" href="structCAMAC.html#a13304cee3e2c1c6ac0e02437b8b56830">r</a>; i++)
<a name="l00356"></a>00356             printf(<span class="stringliteral">&quot;cam16i_r:[R%i]-C%i-N%i-A%i-F%i-&gt; 0x%4.4x\n&quot;</span>, i + 1, p-&gt;<a class="code" href="structCAMAC.html#a0fbdd1f69529ffff5a8bdb6526322847">c</a>, p-&gt;<a class="code" href="structCAMAC.html#af3cdaa27f11a77ff191b5563831bb78e">n</a>, p-&gt;<a class="code" href="structCAMAC.html#ac6cabc96f365ddd4ebc714beb08ee699">a</a>,
<a name="l00357"></a>00357                    p-&gt;<a class="code" href="structCAMAC.html#aae6e7c86e84b3b9b29d0edb6e771e688">f</a>, dd16[i]);
<a name="l00358"></a>00358          <span class="keywordflow">break</span>;
<a name="l00359"></a>00359       <span class="keywordflow">case</span> <a class="code" href="mcnaf_8c.html#a625a1b013593af57d8e1b907ba20f8e6">CAM24I_R</a>:
<a name="l00360"></a>00360          memset(pdd24, 0, <span class="keyword">sizeof</span>(dd24));
<a name="l00361"></a>00361          <a class="code" href="group__mcstdfunctionh.html#gafe207e922a73f0b30e290e830808ec61">cam24i_r</a>(p-&gt;<a class="code" href="structCAMAC.html#a0fbdd1f69529ffff5a8bdb6526322847">c</a>, p-&gt;<a class="code" href="structCAMAC.html#af3cdaa27f11a77ff191b5563831bb78e">n</a>, p-&gt;<a class="code" href="structCAMAC.html#ac6cabc96f365ddd4ebc714beb08ee699">a</a>, p-&gt;<a class="code" href="structCAMAC.html#aae6e7c86e84b3b9b29d0edb6e771e688">f</a>, &amp;pdd24, p-&gt;<a class="code" href="structCAMAC.html#a13304cee3e2c1c6ac0e02437b8b56830">r</a>);
<a name="l00362"></a>00362          <span class="keywordflow">for</span> (i = 0; i &lt; p-&gt;<a class="code" href="structCAMAC.html#a13304cee3e2c1c6ac0e02437b8b56830">r</a>; i++)
<a name="l00363"></a>00363             printf(<span class="stringliteral">&quot;cam24i_r:[R%i]-C%i-N%i-A%i-F%i-&gt; 0x%6.6lx\n&quot;</span>, i + 1, p-&gt;<a class="code" href="structCAMAC.html#a0fbdd1f69529ffff5a8bdb6526322847">c</a>, p-&gt;<a class="code" href="structCAMAC.html#af3cdaa27f11a77ff191b5563831bb78e">n</a>, p-&gt;<a class="code" href="structCAMAC.html#ac6cabc96f365ddd4ebc714beb08ee699">a</a>,
<a name="l00364"></a>00364                    p-&gt;<a class="code" href="structCAMAC.html#aae6e7c86e84b3b9b29d0edb6e771e688">f</a>, dd24[i]);
<a name="l00365"></a>00365          <span class="keywordflow">break</span>;
<a name="l00366"></a>00366       <span class="keywordflow">case</span> <a class="code" href="mcnaf_8c.html#a60948af9fd72b71df21fae76e92b0403">CAM16I_RQ</a>:
<a name="l00367"></a>00367          memset(pdd16, 0, <span class="keyword">sizeof</span>(dd16));
<a name="l00368"></a>00368          <a class="code" href="group__mcstdfunctionh.html#ga4a234b702b8b906b0cca1bcbdb01ca27">cam16i_rq</a>(p-&gt;<a class="code" href="structCAMAC.html#a0fbdd1f69529ffff5a8bdb6526322847">c</a>, p-&gt;<a class="code" href="structCAMAC.html#af3cdaa27f11a77ff191b5563831bb78e">n</a>, p-&gt;<a class="code" href="structCAMAC.html#ac6cabc96f365ddd4ebc714beb08ee699">a</a>, p-&gt;<a class="code" href="structCAMAC.html#aae6e7c86e84b3b9b29d0edb6e771e688">f</a>, &amp;pdd16, p-&gt;<a class="code" href="structCAMAC.html#a13304cee3e2c1c6ac0e02437b8b56830">r</a>);
<a name="l00369"></a>00369          <span class="keywordflow">for</span> (i = 0; i &lt; p-&gt;<a class="code" href="structCAMAC.html#a13304cee3e2c1c6ac0e02437b8b56830">r</a>; i++)
<a name="l00370"></a>00370             printf(<span class="stringliteral">&quot;cam16i_rq:[R%i]-C%i-N%i-A%i-F%i-&gt; 0x%4.4x\n&quot;</span>, i + 1, p-&gt;<a class="code" href="structCAMAC.html#a0fbdd1f69529ffff5a8bdb6526322847">c</a>, p-&gt;<a class="code" href="structCAMAC.html#af3cdaa27f11a77ff191b5563831bb78e">n</a>, p-&gt;<a class="code" href="structCAMAC.html#ac6cabc96f365ddd4ebc714beb08ee699">a</a>,
<a name="l00371"></a>00371                    p-&gt;<a class="code" href="structCAMAC.html#aae6e7c86e84b3b9b29d0edb6e771e688">f</a>, dd16[i]);
<a name="l00372"></a>00372          <span class="keywordflow">break</span>;
<a name="l00373"></a>00373       <span class="keywordflow">case</span> <a class="code" href="mcnaf_8c.html#abb7017e58b7de76572cf7a22f0fca3d9">CAM24I_RQ</a>:
<a name="l00374"></a>00374          memset(pdd24, 0, <span class="keyword">sizeof</span>(dd24));
<a name="l00375"></a>00375          <a class="code" href="group__mcstdfunctionh.html#ga6a2d5a0785b2ccc27fc9e2769f749b10">cam24i_rq</a>(p-&gt;<a class="code" href="structCAMAC.html#a0fbdd1f69529ffff5a8bdb6526322847">c</a>, p-&gt;<a class="code" href="structCAMAC.html#af3cdaa27f11a77ff191b5563831bb78e">n</a>, p-&gt;<a class="code" href="structCAMAC.html#ac6cabc96f365ddd4ebc714beb08ee699">a</a>, p-&gt;<a class="code" href="structCAMAC.html#aae6e7c86e84b3b9b29d0edb6e771e688">f</a>, &amp;pdd24, p-&gt;<a class="code" href="structCAMAC.html#a13304cee3e2c1c6ac0e02437b8b56830">r</a>);
<a name="l00376"></a>00376          <span class="keywordflow">for</span> (i = 0; i &lt; p-&gt;<a class="code" href="structCAMAC.html#a13304cee3e2c1c6ac0e02437b8b56830">r</a>; i++)
<a name="l00377"></a>00377             printf(<span class="stringliteral">&quot;cam24i_rq:[R%i]-C%i-N%i-A%i-F%i-&gt; 0x%6.6lx\n&quot;</span>, i + 1, p-&gt;<a class="code" href="structCAMAC.html#a0fbdd1f69529ffff5a8bdb6526322847">c</a>, p-&gt;<a class="code" href="structCAMAC.html#af3cdaa27f11a77ff191b5563831bb78e">n</a>,
<a name="l00378"></a>00378                    p-&gt;<a class="code" href="structCAMAC.html#ac6cabc96f365ddd4ebc714beb08ee699">a</a>, p-&gt;<a class="code" href="structCAMAC.html#aae6e7c86e84b3b9b29d0edb6e771e688">f</a>, dd24[i]);
<a name="l00379"></a>00379          <span class="keywordflow">break</span>;
<a name="l00380"></a>00380       <span class="keywordflow">case</span> <a class="code" href="mcnaf_8c.html#a019e9ca72470744fe4e9d81cda310334">CAM16I_SA</a>:
<a name="l00381"></a>00381          memset(pdd16, 0, <span class="keyword">sizeof</span>(dd16));
<a name="l00382"></a>00382          <a class="code" href="group__mcstdfunctionh.html#ga2486ffaca1f0a3bef21952140957febe">cam16i_sa</a>(p-&gt;<a class="code" href="structCAMAC.html#a0fbdd1f69529ffff5a8bdb6526322847">c</a>, p-&gt;<a class="code" href="structCAMAC.html#af3cdaa27f11a77ff191b5563831bb78e">n</a>, p-&gt;<a class="code" href="structCAMAC.html#ac6cabc96f365ddd4ebc714beb08ee699">a</a>, p-&gt;<a class="code" href="structCAMAC.html#aae6e7c86e84b3b9b29d0edb6e771e688">f</a>, &amp;pdd16, p-&gt;<a class="code" href="structCAMAC.html#a13304cee3e2c1c6ac0e02437b8b56830">r</a>);
<a name="l00383"></a>00383          <span class="keywordflow">for</span> (i = 0; i &lt; p-&gt;<a class="code" href="structCAMAC.html#a13304cee3e2c1c6ac0e02437b8b56830">r</a>; i++)
<a name="l00384"></a>00384             printf(<span class="stringliteral">&quot;cam16i_sa:[R%i]-C%i-N%i-A%i-F%i-&gt; 0x%4.4x\n&quot;</span>, i + 1, p-&gt;<a class="code" href="structCAMAC.html#a0fbdd1f69529ffff5a8bdb6526322847">c</a>, p-&gt;<a class="code" href="structCAMAC.html#af3cdaa27f11a77ff191b5563831bb78e">n</a>,
<a name="l00385"></a>00385                    p-&gt;<a class="code" href="structCAMAC.html#ac6cabc96f365ddd4ebc714beb08ee699">a</a> + i, p-&gt;<a class="code" href="structCAMAC.html#aae6e7c86e84b3b9b29d0edb6e771e688">f</a>, dd16[i]);
<a name="l00386"></a>00386          <span class="keywordflow">break</span>;
<a name="l00387"></a>00387       <span class="keywordflow">case</span> <a class="code" href="mcnaf_8c.html#aace69d13ee6302bad3daa6e6691b60a0">CAM24I_SA</a>:
<a name="l00388"></a>00388          memset(pdd24, 0, <span class="keyword">sizeof</span>(dd24));
<a name="l00389"></a>00389          <a class="code" href="group__mcstdfunctionh.html#ga77a1df9e51c7cd35efb9575e48fac6b2">cam24i_sa</a>(p-&gt;<a class="code" href="structCAMAC.html#a0fbdd1f69529ffff5a8bdb6526322847">c</a>, p-&gt;<a class="code" href="structCAMAC.html#af3cdaa27f11a77ff191b5563831bb78e">n</a>, p-&gt;<a class="code" href="structCAMAC.html#ac6cabc96f365ddd4ebc714beb08ee699">a</a>, p-&gt;<a class="code" href="structCAMAC.html#aae6e7c86e84b3b9b29d0edb6e771e688">f</a>, &amp;pdd24, p-&gt;<a class="code" href="structCAMAC.html#a13304cee3e2c1c6ac0e02437b8b56830">r</a>);
<a name="l00390"></a>00390          <span class="keywordflow">for</span> (i = 0; i &lt; p-&gt;<a class="code" href="structCAMAC.html#a13304cee3e2c1c6ac0e02437b8b56830">r</a>; i++)
<a name="l00391"></a>00391             printf(<span class="stringliteral">&quot;cam24i_sa:[R%i]-C%i-N%i-A%i-F%i-&gt; 0x%6.6lx\n&quot;</span>, i + 1, p-&gt;<a class="code" href="structCAMAC.html#a0fbdd1f69529ffff5a8bdb6526322847">c</a>, p-&gt;<a class="code" href="structCAMAC.html#af3cdaa27f11a77ff191b5563831bb78e">n</a>,
<a name="l00392"></a>00392                    p-&gt;<a class="code" href="structCAMAC.html#ac6cabc96f365ddd4ebc714beb08ee699">a</a> + i, p-&gt;<a class="code" href="structCAMAC.html#aae6e7c86e84b3b9b29d0edb6e771e688">f</a>, dd24[i]);
<a name="l00393"></a>00393          <span class="keywordflow">break</span>;
<a name="l00394"></a>00394       <span class="keywordflow">case</span> <a class="code" href="mcnaf_8c.html#af7bb97723def7791d1b659a8952cec6a">CAM16I_SN</a>:
<a name="l00395"></a>00395          memset(pdd16, 0, <span class="keyword">sizeof</span>(dd16));
<a name="l00396"></a>00396          <a class="code" href="group__mcstdfunctionh.html#ga2486ffaca1f0a3bef21952140957febe">cam16i_sa</a>(p-&gt;<a class="code" href="structCAMAC.html#a0fbdd1f69529ffff5a8bdb6526322847">c</a>, p-&gt;<a class="code" href="structCAMAC.html#af3cdaa27f11a77ff191b5563831bb78e">n</a>, p-&gt;<a class="code" href="structCAMAC.html#ac6cabc96f365ddd4ebc714beb08ee699">a</a>, p-&gt;<a class="code" href="structCAMAC.html#aae6e7c86e84b3b9b29d0edb6e771e688">f</a>, &amp;pdd16, p-&gt;<a class="code" href="structCAMAC.html#a13304cee3e2c1c6ac0e02437b8b56830">r</a>);
<a name="l00397"></a>00397          <span class="keywordflow">for</span> (i = 0; i &lt; p-&gt;<a class="code" href="structCAMAC.html#a13304cee3e2c1c6ac0e02437b8b56830">r</a>; i++)
<a name="l00398"></a>00398             printf(<span class="stringliteral">&quot;cam16i_sn:[R%i]-C%i-N%i-A%i-F%i-&gt; 0x%x\n&quot;</span>, i + 1, p-&gt;<a class="code" href="structCAMAC.html#a0fbdd1f69529ffff5a8bdb6526322847">c</a>, p-&gt;<a class="code" href="structCAMAC.html#af3cdaa27f11a77ff191b5563831bb78e">n</a> + i,
<a name="l00399"></a>00399                    p-&gt;<a class="code" href="structCAMAC.html#ac6cabc96f365ddd4ebc714beb08ee699">a</a>, p-&gt;<a class="code" href="structCAMAC.html#aae6e7c86e84b3b9b29d0edb6e771e688">f</a>, dd16[i]);
<a name="l00400"></a>00400          <span class="keywordflow">break</span>;
<a name="l00401"></a>00401       <span class="keywordflow">case</span> <a class="code" href="mcnaf_8c.html#abd64bbfb47a37e0f94a159f0f9faf80e">CAM24I_SN</a>:
<a name="l00402"></a>00402          memset(pdd24, 0, <span class="keyword">sizeof</span>(dd24));
<a name="l00403"></a>00403          <a class="code" href="group__mcstdfunctionh.html#gaeca899e6d3a4fd8992f3556fe0f78038">cam24i_sn</a>(p-&gt;<a class="code" href="structCAMAC.html#a0fbdd1f69529ffff5a8bdb6526322847">c</a>, p-&gt;<a class="code" href="structCAMAC.html#af3cdaa27f11a77ff191b5563831bb78e">n</a>, p-&gt;<a class="code" href="structCAMAC.html#ac6cabc96f365ddd4ebc714beb08ee699">a</a>, p-&gt;<a class="code" href="structCAMAC.html#aae6e7c86e84b3b9b29d0edb6e771e688">f</a>, &amp;pdd24, p-&gt;<a class="code" href="structCAMAC.html#a13304cee3e2c1c6ac0e02437b8b56830">r</a>);
<a name="l00404"></a>00404          <span class="keywordflow">for</span> (i = 0; i &lt; p-&gt;<a class="code" href="structCAMAC.html#a13304cee3e2c1c6ac0e02437b8b56830">r</a>; i++)
<a name="l00405"></a>00405             printf(<span class="stringliteral">&quot;cam24i_sn:[R%i]-C%i-N%i-A%i-F%i-&gt; 0x%lx\n&quot;</span>, i + 1, p-&gt;<a class="code" href="structCAMAC.html#a0fbdd1f69529ffff5a8bdb6526322847">c</a>, p-&gt;<a class="code" href="structCAMAC.html#af3cdaa27f11a77ff191b5563831bb78e">n</a> + i,
<a name="l00406"></a>00406                    p-&gt;<a class="code" href="structCAMAC.html#ac6cabc96f365ddd4ebc714beb08ee699">a</a>, p-&gt;<a class="code" href="structCAMAC.html#aae6e7c86e84b3b9b29d0edb6e771e688">f</a>, dd24[i]);
<a name="l00407"></a>00407          <span class="keywordflow">break</span>;
<a name="l00408"></a>00408       <span class="keywordflow">case</span> <a class="code" href="ftplib_8h.html#ad24e2b54375e12474e65ebf7175988fb">QUIT</a>:
<a name="l00409"></a>00409          p-&gt;<a class="code" href="structCAMAC.html#a13304cee3e2c1c6ac0e02437b8b56830">r</a> = 1;
<a name="l00410"></a>00410          <span class="keywordflow">return</span>;
<a name="l00411"></a>00411       <span class="keywordflow">case</span> <a class="code" href="mcnaf_8c.html#ae8a798ec5e0449028e485688e8241b5e">HELP</a>:
<a name="l00412"></a>00412          <a class="code" href="mcnaf_8c.html#a43cf938c1b3665df5579686ca9bd0afd">help_page</a>(<a class="code" href="mcnaf_8c.html#ac44f650e9af953a1c16b21e7b54f8a39">MCSTD</a>);
<a name="l00413"></a>00413          <span class="keywordflow">break</span>;
<a name="l00414"></a>00414       <span class="keywordflow">case</span> <a class="code" href="mcnaf_8c.html#a688a4adbb87520a2b68681bd6bfb199e">SKIP</a>:
<a name="l00415"></a>00415          <span class="keywordflow">break</span>;
<a name="l00416"></a>00416       <span class="keywordflow">default</span>:
<a name="l00417"></a>00417          status = <a class="code" href="mcnaf_8c.html#a688a4adbb87520a2b68681bd6bfb199e">SKIP</a>;
<a name="l00418"></a>00418          <span class="keywordflow">break</span>;
<a name="l00419"></a>00419       }
<a name="l00420"></a>00420    }
<a name="l00421"></a>00421 }
<a name="l00422"></a>00422 
<a name="l00423"></a>00423 <span class="comment">/*--------------------------------------------------------------------*/</span>
<a name="l00424"></a><a class="code" href="mcnaf_8c.html#aeffc27c8325de4d46cc5420bf3f3e05a">00424</a> <span class="keywordtype">void</span> <a class="code" href="mcnaf_8c.html#aeffc27c8325de4d46cc5420bf3f3e05a">make_display_string</a>(<span class="keywordtype">int</span> from, <a class="code" href="structCAMAC.html">CAMAC</a> * <a class="code" href="sis3803_8c.html#afcb0609a0beab248bb3994a3368bd9ff">p</a>, <span class="keywordtype">char</span> *saddr)
<a name="l00425"></a>00425 {
<a name="l00426"></a>00426    <span class="keywordflow">if</span> (from == <a class="code" href="mcnaf_8c.html#a34b04bd23b07b485921a728ad0805ac4">MAIN</a>) {
<a name="l00427"></a>00427       <span class="keywordflow">if</span> (p-&gt;<a class="code" href="structCAMAC.html#a156e77a64da2521168877579abb9a42d">m</a> == <a class="code" href="mcnaf_8c.html#aca2d0324d94ff7c5bdde49fbd02eaafb">D24</a>)
<a name="l00428"></a>00428          sprintf(saddr, <span class="stringliteral">&quot;B%01dC%01dN%02dA%02dF%02d [%ld/0x%06lx Q%01dX%01d] R%dW%dM%2d&quot;</span>,
<a name="l00429"></a>00429                  p-&gt;<a class="code" href="structCAMAC.html#aefb054917e43eda17ed5285db99a11a3">b</a>, p-&gt;<a class="code" href="structCAMAC.html#a0fbdd1f69529ffff5a8bdb6526322847">c</a>, p-&gt;<a class="code" href="structCAMAC.html#af3cdaa27f11a77ff191b5563831bb78e">n</a>, p-&gt;<a class="code" href="structCAMAC.html#ac6cabc96f365ddd4ebc714beb08ee699">a</a>, p-&gt;<a class="code" href="structCAMAC.html#aae6e7c86e84b3b9b29d0edb6e771e688">f</a>, p-&gt;<a class="code" href="structCAMAC.html#af4cb0066afa8946eb9252ceaecf0e794">d24</a>, p-&gt;<a class="code" href="structCAMAC.html#af4cb0066afa8946eb9252ceaecf0e794">d24</a>, p-&gt;<a class="code" href="structCAMAC.html#a8edb79d88bf90eb62348a682be2bc1e6">q</a>, p-&gt;<a class="code" href="structCAMAC.html#a3d1c990617c960b0d87599f6f7338b81">x</a>, p-&gt;<a class="code" href="structCAMAC.html#a13304cee3e2c1c6ac0e02437b8b56830">r</a>, p-&gt;<a class="code" href="structCAMAC.html#a11024b379368770387cd8edc356655a5">w</a>,
<a name="l00430"></a>00430                  p-&gt;<a class="code" href="structCAMAC.html#a156e77a64da2521168877579abb9a42d">m</a>);
<a name="l00431"></a>00431       <span class="keywordflow">else</span>
<a name="l00432"></a>00432          sprintf(saddr, <span class="stringliteral">&quot;B%01dC%01dN%02dA%02dF%02d [%d/0x%04x Q%01dX%01d] R%dW%dM%2d&quot;</span>,
<a name="l00433"></a>00433                  p-&gt;<a class="code" href="structCAMAC.html#aefb054917e43eda17ed5285db99a11a3">b</a>, p-&gt;<a class="code" href="structCAMAC.html#a0fbdd1f69529ffff5a8bdb6526322847">c</a>, p-&gt;<a class="code" href="structCAMAC.html#af3cdaa27f11a77ff191b5563831bb78e">n</a>, p-&gt;<a class="code" href="structCAMAC.html#ac6cabc96f365ddd4ebc714beb08ee699">a</a>, p-&gt;<a class="code" href="structCAMAC.html#aae6e7c86e84b3b9b29d0edb6e771e688">f</a>, p-&gt;<a class="code" href="structCAMAC.html#a49b737121cd00e6c70ba9a6a620e4396">d16</a>, p-&gt;<a class="code" href="structCAMAC.html#a49b737121cd00e6c70ba9a6a620e4396">d16</a>, p-&gt;<a class="code" href="structCAMAC.html#a8edb79d88bf90eb62348a682be2bc1e6">q</a>, p-&gt;<a class="code" href="structCAMAC.html#a3d1c990617c960b0d87599f6f7338b81">x</a>, p-&gt;<a class="code" href="structCAMAC.html#a13304cee3e2c1c6ac0e02437b8b56830">r</a>, p-&gt;<a class="code" href="structCAMAC.html#a11024b379368770387cd8edc356655a5">w</a>,
<a name="l00434"></a>00434                  p-&gt;<a class="code" href="structCAMAC.html#a156e77a64da2521168877579abb9a42d">m</a>);
<a name="l00435"></a>00435    } <span class="keywordflow">else</span> {
<a name="l00436"></a>00436       sprintf(saddr, <span class="stringliteral">&quot;B%01dC%01dN%02dA%02dF%02d [%ld/0x%06lx] R%d&quot;</span>, p-&gt;<a class="code" href="structCAMAC.html#aefb054917e43eda17ed5285db99a11a3">b</a>, p-&gt;<a class="code" href="structCAMAC.html#a0fbdd1f69529ffff5a8bdb6526322847">c</a>, p-&gt;<a class="code" href="structCAMAC.html#af3cdaa27f11a77ff191b5563831bb78e">n</a>,
<a name="l00437"></a>00437               p-&gt;<a class="code" href="structCAMAC.html#ac6cabc96f365ddd4ebc714beb08ee699">a</a>, p-&gt;<a class="code" href="structCAMAC.html#aae6e7c86e84b3b9b29d0edb6e771e688">f</a>, p-&gt;<a class="code" href="structCAMAC.html#af4cb0066afa8946eb9252ceaecf0e794">d24</a>, p-&gt;<a class="code" href="structCAMAC.html#af4cb0066afa8946eb9252ceaecf0e794">d24</a>, p-&gt;<a class="code" href="structCAMAC.html#a13304cee3e2c1c6ac0e02437b8b56830">r</a>);
<a name="l00438"></a>00438    }
<a name="l00439"></a>00439 }
<a name="l00440"></a>00440 
<a name="l00441"></a>00441 <span class="comment">/*--------------------------------------------------------------------*/</span>
<a name="l00442"></a><a class="code" href="mcnaf_8c.html#af49149a0ba9709acbcc200b7db2b2b5e">00442</a> <a class="code" href="lrs1190_8c.html#a6877c9d7ac317ac3415ee1a1f92302a0">INT</a> <a class="code" href="mcnaf_8c.html#af49149a0ba9709acbcc200b7db2b2b5e">read_job_file</a>(FILE * <a class="code" href="mcnaf_8c.html#ab104363964676ab454d20e78c053ea33">pF</a>, <a class="code" href="lrs1190_8c.html#a6877c9d7ac317ac3415ee1a1f92302a0">INT</a> action, <span class="keywordtype">void</span> **job, <span class="keywordtype">char</span> *<a class="code" href="examples_2macro_2midas__macro_8h.html#ab53d3e6e6144dcb27935cc71c57bc508">name</a>)
<a name="l00443"></a>00443 {
<a name="l00444"></a>00444    <a class="code" href="group__mvmestdinclude.html#ga798af1e30bc65f319c1a246cecf59e39">DWORD</a> <a class="code" href="camac_8c.html#a76f11d9a0a47b94f72c2d0e77fb32240">n</a>;
<a name="l00445"></a>00445    <span class="keywordtype">char</span> line[128];
<a name="l00446"></a>00446    <a class="code" href="structCAMAC.html">CAMAC</a> *pjob;
<a name="l00447"></a>00447 
<a name="l00448"></a>00448    <span class="keywordflow">if</span> (action == <a class="code" href="mcnaf_8c.html#a4ccc9878008def89d325d0bb7efdbd6b">CHECK</a>) {
<a name="l00449"></a>00449       <span class="keywordflow">if</span> (*name == 0)
<a name="l00450"></a>00450          sprintf(name, <span class="stringliteral">&quot;%s&quot;</span>, <a class="code" href="mcnaf_8c.html#a981c8e81f267b372f7af464d90b59549">job_name</a>);
<a name="l00451"></a>00451       pF = fopen(name, <span class="stringliteral">&quot;r&quot;</span>);
<a name="l00452"></a>00452       <span class="keywordflow">if</span> (pF) {
<a name="l00453"></a>00453          fclose(pF);
<a name="l00454"></a>00454          <span class="keywordflow">return</span> <a class="code" href="mcnaf_8c.html#a1d614984ce3fdc4a597f42b672111421">JOB</a>;
<a name="l00455"></a>00455       }
<a name="l00456"></a>00456       printf(<span class="stringliteral">&quot;CNAF-I- File not found :%s\n&quot;</span>, name);
<a name="l00457"></a>00457       <span class="keywordflow">return</span> <a class="code" href="mcnaf_8c.html#a688a4adbb87520a2b68681bd6bfb199e">SKIP</a>;
<a name="l00458"></a>00458    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (action == <a class="code" href="lrs2373_8h.html#ada74e7db007a68e763f20c17f2985356">READ</a>) {
<a name="l00459"></a>00459       pF = fopen(name, <span class="stringliteral">&quot;r&quot;</span>);
<a name="l00460"></a>00460       <span class="keywordflow">if</span> (pF) {
<a name="l00461"></a>00461          n = 0;
<a name="l00462"></a>00462          <span class="comment">/* count the total number of line */</span>
<a name="l00463"></a>00463          <span class="keywordflow">while</span> (fgets(line, 128, pF))
<a name="l00464"></a>00464             n++;
<a name="l00465"></a>00465          <span class="comment">/* allocate memory for full job */</span>
<a name="l00466"></a>00466          *job = malloc((n + 1) * <span class="keyword">sizeof</span>(<a class="code" href="structCAMAC.html">CAMAC</a>));
<a name="l00467"></a>00467          pjob = *job;
<a name="l00468"></a>00468          <span class="comment">/* preset the full job with 0 */</span>
<a name="l00469"></a>00469          memset((<span class="keywordtype">char</span> *) pjob, 0, (n + 1) * <span class="keyword">sizeof</span>(<a class="code" href="structCAMAC.html">CAMAC</a>));
<a name="l00470"></a>00470          <span class="comment">/* preset the first entry with the predefined CAMAC access */</span>
<a name="l00471"></a>00471          memcpy((<span class="keywordtype">char</span> *) pjob, (<span class="keywordtype">char</span> *) Prompt, <span class="keyword">sizeof</span>(<a class="code" href="structCAMAC.html">CAMAC</a>));
<a name="l00472"></a>00472          rewind(pF);
<a name="l00473"></a>00473          <span class="keywordflow">while</span> (fgets(line, 128, pF)) {
<a name="l00474"></a>00474             <span class="keywordflow">if</span> (pjob-&gt;m == 0) {
<a name="l00475"></a>00475                <span class="comment">/* load previous command before overwriting */</span>
<a name="l00476"></a>00476                memcpy((<span class="keywordtype">char</span> *) pjob, (<span class="keywordtype">char</span> *) (pjob - 1), <span class="keyword">sizeof</span>(<a class="code" href="structCAMAC.html">CAMAC</a>));
<a name="l00477"></a>00477             }
<a name="l00478"></a>00478             <a class="code" href="mcnaf_8c.html#ad1a574b9e5a70320c678c0c55371d861">decode_line</a>(pjob++, line);
<a name="l00479"></a>00479          }
<a name="l00480"></a>00480          fclose(pF);
<a name="l00481"></a>00481          <span class="keywordflow">return</span> <a class="code" href="mcnaf_8c.html#a1d614984ce3fdc4a597f42b672111421">JOB</a>;
<a name="l00482"></a>00482       }
<a name="l00483"></a>00483    } <span class="keywordflow">else</span>
<a name="l00484"></a>00484       printf(<span class="stringliteral">&quot;CNAF-I- Cmd not found :%s\n&quot;</span>, name);
<a name="l00485"></a>00485    <span class="keywordflow">return</span> <a class="code" href="mcnaf_8c.html#a688a4adbb87520a2b68681bd6bfb199e">SKIP</a>;
<a name="l00486"></a>00486 }
<a name="l00487"></a>00487 
<a name="l00488"></a>00488 <span class="comment">/*--------------------------------------------------------------------*/</span>
<a name="l00489"></a><a class="code" href="mcnaf_8c.html#a29ce2fda593383fc41e2e359ac2ff277">00489</a> <a class="code" href="lrs1190_8c.html#a6877c9d7ac317ac3415ee1a1f92302a0">INT</a> <a class="code" href="mcnaf_8c.html#a29ce2fda593383fc41e2e359ac2ff277">cnafsub</a>(<a class="code" href="group__midasincludecode.html#ga239c7f0d40651c3e419c5b9651507d14">BOOL</a> <a class="code" href="odbedit_8c.html#aba7b84a5236803c50a8cae27f0023703">cmd_mode</a>, <span class="keywordtype">char</span> *<a class="code" href="jorway73a_8c.html#a11d3b696651733f98e58d14ad8fa7a1d">cmd</a>)
<a name="l00490"></a>00490 {
<a name="l00491"></a>00491    <span class="keywordtype">char</span> <a class="code" href="odbhist_8c.html#a45bb529d5408fcb730eeccb339110d3f">str</a>[128], line[128];
<a name="l00492"></a>00492    <a class="code" href="lrs1190_8c.html#a6877c9d7ac317ac3415ee1a1f92302a0">INT</a> <a class="code" href="patch__mevb_8cpp.html#a015eb90e0de9f16e87bd149d4b9ce959">status</a>, <a class="code" href="odbhist_8c.html#a2df6784bd380a288cf2c3e7e2c43a6b8">j</a>;
<a name="l00493"></a>00493    <a class="code" href="structCAMAC.html">CAMAC</a> *<a class="code" href="c8051F000_8h.html#af189112e4c9ed7a0cb66d92038a3265f">P</a>, *<a class="code" href="sis3803_8c.html#afcb0609a0beab248bb3994a3368bd9ff">p</a> = NULL, *job;
<a name="l00494"></a>00494 
<a name="l00495"></a>00495    <span class="comment">/* Loop return label */</span>
<a name="l00496"></a>00496    <span class="keywordflow">if</span> (<a class="code" href="mcnaf_8c.html#ada551dc6d7d3f7a2e79c7aac1fc7e308">jobflag</a>) {
<a name="l00497"></a>00497       <a class="code" href="mcnaf_8c.html#ada551dc6d7d3f7a2e79c7aac1fc7e308">jobflag</a> = <a class="code" href="p30_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;
<a name="l00498"></a>00498    }
<a name="l00499"></a>00499 
<a name="l00500"></a>00500    <span class="comment">/* Load default CAMAC */</span>
<a name="l00501"></a>00501    P = Prompt;
<a name="l00502"></a>00502    <span class="keywordflow">while</span> (1) {
<a name="l00503"></a>00503       <span class="keywordflow">if</span> (!cmd_mode) {
<a name="l00504"></a>00504          <a class="code" href="mcnaf_8c.html#aeffc27c8325de4d46cc5420bf3f3e05a">make_display_string</a>(<a class="code" href="mcnaf_8c.html#a34b04bd23b07b485921a728ad0805ac4">MAIN</a>, P, <a class="code" href="lrs1821_8c.html#a83a7514b5202f841d4b7a22b2eaece9c">addr</a>);
<a name="l00505"></a>00505          <span class="comment">/* prompt */</span>
<a name="l00506"></a>00506          printf(<span class="stringliteral">&quot;mCNAF&gt; [%s] :&quot;</span>, <a class="code" href="lrs1821_8c.html#a83a7514b5202f841d4b7a22b2eaece9c">addr</a>);
<a name="l00507"></a>00507          <a class="code" href="group__msectionh.html#ga062aca860070d963b86c98e8012dc43a">ss_gets</a>(str, 128);
<a name="l00508"></a>00508       } <span class="keywordflow">else</span> {
<a name="l00509"></a>00509          strcpy(str, cmd);
<a name="l00510"></a>00510       }
<a name="l00511"></a>00511 
<a name="l00512"></a>00512       <span class="comment">/* decode line */</span>
<a name="l00513"></a>00513       status = <a class="code" href="mcnaf_8c.html#ad1a574b9e5a70320c678c0c55371d861">decode_line</a>(P, str);
<a name="l00514"></a>00514       <span class="keywordflow">if</span> (status == <a class="code" href="ftplib_8h.html#ad24e2b54375e12474e65ebf7175988fb">QUIT</a>)
<a name="l00515"></a>00515          <span class="keywordflow">return</span> status;
<a name="l00516"></a>00516       <span class="keywordflow">else</span> <span class="keywordflow">if</span> (status == <a class="code" href="mcnaf_8c.html#ac44f650e9af953a1c16b21e7b54f8a39">MCSTD</a>) {
<a name="l00517"></a>00517          <a class="code" href="mcnaf_8c.html#af07b37f9fd961fa04c0aa022994231f5">mcstd_func</a>(P);
<a name="l00518"></a>00518          status = <a class="code" href="mcnaf_8c.html#ad1a574b9e5a70320c678c0c55371d861">decode_line</a>(P, str);
<a name="l00519"></a>00519       } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (status == <a class="code" href="mcnaf_8c.html#ae8a798ec5e0449028e485688e8241b5e">HELP</a>)
<a name="l00520"></a>00520          <a class="code" href="mcnaf_8c.html#a43cf938c1b3665df5579686ca9bd0afd">help_page</a>(<a class="code" href="mcnaf_8c.html#a34b04bd23b07b485921a728ad0805ac4">MAIN</a>);
<a name="l00521"></a>00521       <span class="keywordflow">else</span> <span class="keywordflow">if</span> (status == <a class="code" href="mcnaf_8c.html#a1d614984ce3fdc4a597f42b672111421">JOB</a>) {
<a name="l00522"></a>00522          <span class="keywordflow">if</span> (!cmd_mode) {
<a name="l00523"></a>00523             <span class="comment">/* interactive session, display default job name */</span>
<a name="l00524"></a>00524             printf(<span class="stringliteral">&quot;\nmCNAF&gt; Job file name [%s]:&quot;</span>, <a class="code" href="mcnaf_8c.html#a981c8e81f267b372f7af464d90b59549">job_name</a>);
<a name="l00525"></a>00525             <a class="code" href="group__msectionh.html#ga062aca860070d963b86c98e8012dc43a">ss_gets</a>(line, 128);
<a name="l00526"></a>00526             <span class="keywordflow">if</span> (strlen(line) == 0)
<a name="l00527"></a>00527                strcpy(line, <a class="code" href="mcnaf_8c.html#a981c8e81f267b372f7af464d90b59549">job_name</a>);  <span class="comment">// Use default</span>
<a name="l00528"></a>00528             <span class="keywordflow">else</span> {
<a name="l00529"></a>00529                strcpy(<a class="code" href="mcnaf_8c.html#a981c8e81f267b372f7af464d90b59549">job_name</a>, line);
<a name="l00530"></a>00530             }
<a name="l00531"></a>00531          } <span class="keywordflow">else</span> {
<a name="l00532"></a>00532             <span class="comment">/* from command line, skip @ */</span>
<a name="l00533"></a>00533             strcpy(line, &amp;str[1]);
<a name="l00534"></a>00534          }
<a name="l00535"></a>00535          <span class="comment">/* Check if file exists */</span>
<a name="l00536"></a>00536          status = <a class="code" href="mcnaf_8c.html#af49149a0ba9709acbcc200b7db2b2b5e">read_job_file</a>(<a class="code" href="mcnaf_8c.html#ab104363964676ab454d20e78c053ea33">pF</a>, <a class="code" href="mcnaf_8c.html#a4ccc9878008def89d325d0bb7efdbd6b">CHECK</a>, (<span class="keywordtype">void</span> **) &amp;job, line);
<a name="l00537"></a>00537          <span class="keywordflow">if</span> (status == <a class="code" href="mcnaf_8c.html#a1d614984ce3fdc4a597f42b672111421">JOB</a>)
<a name="l00538"></a>00538             status = <a class="code" href="mcnaf_8c.html#af49149a0ba9709acbcc200b7db2b2b5e">read_job_file</a>(<a class="code" href="mcnaf_8c.html#ab104363964676ab454d20e78c053ea33">pF</a>, <a class="code" href="lrs2373_8h.html#ada74e7db007a68e763f20c17f2985356">READ</a>, (<span class="keywordtype">void</span> **) &amp;job, line);
<a name="l00539"></a>00539       }
<a name="l00540"></a>00540 
<a name="l00541"></a>00541       <span class="keywordflow">if</span> (status == <a class="code" href="mcnaf_8c.html#a8e8f11caf539de9555d07b4e7ef5b1da">LOOP</a> || status == <a class="code" href="mcnaf_8c.html#a1d614984ce3fdc4a597f42b672111421">JOB</a>) {
<a name="l00542"></a>00542          <span class="keywordflow">for</span> (j = 0; j &lt; P-&gt;<a class="code" href="structCAMAC.html#a13304cee3e2c1c6ac0e02437b8b56830">r</a>; j++) {
<a name="l00543"></a>00543             <span class="keywordflow">if</span> (status == <a class="code" href="mcnaf_8c.html#a8e8f11caf539de9555d07b4e7ef5b1da">LOOP</a>)
<a name="l00544"></a>00544                p = P;
<a name="l00545"></a>00545             <span class="keywordflow">if</span> (status == <a class="code" href="mcnaf_8c.html#a1d614984ce3fdc4a597f42b672111421">JOB</a>)
<a name="l00546"></a>00546                p = job;
<a name="l00547"></a>00547             <span class="keywordflow">while</span> (p-&gt;<a class="code" href="structCAMAC.html#a156e77a64da2521168877579abb9a42d">m</a>) {
<a name="l00548"></a>00548                <span class="keywordflow">if</span> (p-&gt;<a class="code" href="structCAMAC.html#af3cdaa27f11a77ff191b5563831bb78e">n</a> == 28 || p-&gt;<a class="code" href="structCAMAC.html#af3cdaa27f11a77ff191b5563831bb78e">n</a> == 29 || p-&gt;<a class="code" href="structCAMAC.html#af3cdaa27f11a77ff191b5563831bb78e">n</a> == 30)
<a name="l00549"></a>00549                   <a class="code" href="mcnaf_8c.html#a876aee855df9ddb3bb7082470b59913c">cc_services</a>(p);
<a name="l00550"></a>00550                <span class="keywordflow">else</span> <span class="keywordflow">if</span> (p-&gt;<a class="code" href="structCAMAC.html#a156e77a64da2521168877579abb9a42d">m</a> == 24)     <span class="comment">/* Actual 24 bits CAMAC operation */</span>
<a name="l00551"></a>00551                   <span class="keywordflow">if</span> (p-&gt;<a class="code" href="structCAMAC.html#aae6e7c86e84b3b9b29d0edb6e771e688">f</a> &lt; 16)
<a name="l00552"></a>00552                      <a class="code" href="group__mcstdfunctionh.html#ga0f1b4435d6f1fea0e5787a5c2388b41c">cam24i_q</a>(p-&gt;<a class="code" href="structCAMAC.html#a0fbdd1f69529ffff5a8bdb6526322847">c</a>, p-&gt;<a class="code" href="structCAMAC.html#af3cdaa27f11a77ff191b5563831bb78e">n</a>, p-&gt;<a class="code" href="structCAMAC.html#ac6cabc96f365ddd4ebc714beb08ee699">a</a>, p-&gt;<a class="code" href="structCAMAC.html#aae6e7c86e84b3b9b29d0edb6e771e688">f</a>, &amp;p-&gt;<a class="code" href="structCAMAC.html#af4cb0066afa8946eb9252ceaecf0e794">d24</a>, &amp;p-&gt;<a class="code" href="structCAMAC.html#a3d1c990617c960b0d87599f6f7338b81">x</a>, &amp;p-&gt;<a class="code" href="structCAMAC.html#a8edb79d88bf90eb62348a682be2bc1e6">q</a>);
<a name="l00553"></a>00553                   <span class="keywordflow">else</span>
<a name="l00554"></a>00554                      <a class="code" href="group__mcstdfunctionh.html#gaefe50b118a37b83b19a3804a6759d8bd">cam24o_q</a>(p-&gt;<a class="code" href="structCAMAC.html#a0fbdd1f69529ffff5a8bdb6526322847">c</a>, p-&gt;<a class="code" href="structCAMAC.html#af3cdaa27f11a77ff191b5563831bb78e">n</a>, p-&gt;<a class="code" href="structCAMAC.html#ac6cabc96f365ddd4ebc714beb08ee699">a</a>, p-&gt;<a class="code" href="structCAMAC.html#aae6e7c86e84b3b9b29d0edb6e771e688">f</a>, p-&gt;<a class="code" href="structCAMAC.html#af4cb0066afa8946eb9252ceaecf0e794">d24</a>, &amp;p-&gt;<a class="code" href="structCAMAC.html#a3d1c990617c960b0d87599f6f7338b81">x</a>, &amp;p-&gt;<a class="code" href="structCAMAC.html#a8edb79d88bf90eb62348a682be2bc1e6">q</a>);
<a name="l00555"></a>00555                <span class="keywordflow">else</span> <span class="comment">/* Actual 16 bits CAMAC operation */</span> <span class="keywordflow">if</span> (p-&gt;<a class="code" href="structCAMAC.html#aae6e7c86e84b3b9b29d0edb6e771e688">f</a> &lt; 16)
<a name="l00556"></a>00556                   <a class="code" href="group__mcstdfunctionh.html#ga2a515796e8020af32ea0e5aad490a170">cam16i_q</a>(p-&gt;<a class="code" href="structCAMAC.html#a0fbdd1f69529ffff5a8bdb6526322847">c</a>, p-&gt;<a class="code" href="structCAMAC.html#af3cdaa27f11a77ff191b5563831bb78e">n</a>, p-&gt;<a class="code" href="structCAMAC.html#ac6cabc96f365ddd4ebc714beb08ee699">a</a>, p-&gt;<a class="code" href="structCAMAC.html#aae6e7c86e84b3b9b29d0edb6e771e688">f</a>, &amp;p-&gt;<a class="code" href="structCAMAC.html#a49b737121cd00e6c70ba9a6a620e4396">d16</a>, &amp;p-&gt;<a class="code" href="structCAMAC.html#a3d1c990617c960b0d87599f6f7338b81">x</a>, &amp;p-&gt;<a class="code" href="structCAMAC.html#a8edb79d88bf90eb62348a682be2bc1e6">q</a>);
<a name="l00557"></a>00557                <span class="keywordflow">else</span>
<a name="l00558"></a>00558                   <a class="code" href="group__mcstdfunctionh.html#ga971dc315017a5801f0131c4c2d396d28">cam16o_q</a>(p-&gt;<a class="code" href="structCAMAC.html#a0fbdd1f69529ffff5a8bdb6526322847">c</a>, p-&gt;<a class="code" href="structCAMAC.html#af3cdaa27f11a77ff191b5563831bb78e">n</a>, p-&gt;<a class="code" href="structCAMAC.html#ac6cabc96f365ddd4ebc714beb08ee699">a</a>, p-&gt;<a class="code" href="structCAMAC.html#aae6e7c86e84b3b9b29d0edb6e771e688">f</a>, p-&gt;<a class="code" href="structCAMAC.html#a49b737121cd00e6c70ba9a6a620e4396">d16</a>, &amp;p-&gt;<a class="code" href="structCAMAC.html#a3d1c990617c960b0d87599f6f7338b81">x</a>, &amp;p-&gt;<a class="code" href="structCAMAC.html#a8edb79d88bf90eb62348a682be2bc1e6">q</a>);
<a name="l00559"></a>00559                <a class="code" href="mcnaf_8c.html#aeffc27c8325de4d46cc5420bf3f3e05a">make_display_string</a>(<a class="code" href="mcnaf_8c.html#a34b04bd23b07b485921a728ad0805ac4">MAIN</a>, p, <a class="code" href="lrs1821_8c.html#a83a7514b5202f841d4b7a22b2eaece9c">addr</a>);
<a name="l00560"></a>00560 
<a name="l00561"></a>00561                <span class="comment">/* Result display */</span>
<a name="l00562"></a>00562                <span class="keywordflow">if</span> (p-&gt;<a class="code" href="structCAMAC.html#a13304cee3e2c1c6ac0e02437b8b56830">r</a> &gt; 1) {
<a name="l00563"></a>00563                   <span class="comment">/* repeat mode */</span>
<a name="l00564"></a>00564                   <span class="keywordflow">if</span> (status == <a class="code" href="mcnaf_8c.html#a1d614984ce3fdc4a597f42b672111421">JOB</a>) {
<a name="l00565"></a>00565                      <span class="keywordflow">if</span> (!cmd_mode)
<a name="l00566"></a>00566                         printf(<span class="stringliteral">&quot;\nmCNAF&gt; [%s]&quot;</span>, <a class="code" href="lrs1821_8c.html#a83a7514b5202f841d4b7a22b2eaece9c">addr</a>);
<a name="l00567"></a>00567                      <span class="keywordflow">if</span> (p-&gt;<a class="code" href="structCAMAC.html#a11024b379368770387cd8edc356655a5">w</a> != 0)
<a name="l00568"></a>00568                         <a class="code" href="group__msectionh.html#gaaec652d8878ceb5ef38ad1ba2cbf7dec">ss_sleep</a>(p-&gt;<a class="code" href="structCAMAC.html#a11024b379368770387cd8edc356655a5">w</a>);
<a name="l00569"></a>00569                   } <span class="keywordflow">else</span> {
<a name="l00570"></a>00570                      <span class="keywordflow">if</span> (!cmd_mode)
<a name="l00571"></a>00571                         printf(<span class="stringliteral">&quot;mCNAF&gt; [%s] &lt;-%03i\n&quot;</span>, <a class="code" href="lrs1821_8c.html#a83a7514b5202f841d4b7a22b2eaece9c">addr</a>, j + 1);
<a name="l00572"></a>00572                      <span class="keywordflow">if</span> (p-&gt;<a class="code" href="structCAMAC.html#a11024b379368770387cd8edc356655a5">w</a> != 0)
<a name="l00573"></a>00573                         <a class="code" href="group__msectionh.html#gaaec652d8878ceb5ef38ad1ba2cbf7dec">ss_sleep</a>(p-&gt;<a class="code" href="structCAMAC.html#a11024b379368770387cd8edc356655a5">w</a>);
<a name="l00574"></a>00574                      <span class="keywordflow">if</span> (j &gt; p-&gt;<a class="code" href="structCAMAC.html#a13304cee3e2c1c6ac0e02437b8b56830">r</a> - 1)
<a name="l00575"></a>00575                         <span class="keywordflow">break</span>;
<a name="l00576"></a>00576                   }
<a name="l00577"></a>00577                } <span class="keywordflow">else</span> {
<a name="l00578"></a>00578                   <span class="comment">/* single command */</span>
<a name="l00579"></a>00579                   <span class="keywordflow">if</span> (status == <a class="code" href="mcnaf_8c.html#a1d614984ce3fdc4a597f42b672111421">JOB</a>) {
<a name="l00580"></a>00580                      <span class="keywordflow">if</span> (!cmd_mode)
<a name="l00581"></a>00581                         printf(<span class="stringliteral">&quot;mCNAF&gt; [%s]\n&quot;</span>, <a class="code" href="lrs1821_8c.html#a83a7514b5202f841d4b7a22b2eaece9c">addr</a>);
<a name="l00582"></a>00582                      <span class="keywordflow">if</span> (p-&gt;<a class="code" href="structCAMAC.html#a11024b379368770387cd8edc356655a5">w</a> != 0)
<a name="l00583"></a>00583                         <a class="code" href="group__msectionh.html#gaaec652d8878ceb5ef38ad1ba2cbf7dec">ss_sleep</a>(p-&gt;<a class="code" href="structCAMAC.html#a11024b379368770387cd8edc356655a5">w</a>);
<a name="l00584"></a>00584                   }
<a name="l00585"></a>00585                }
<a name="l00586"></a>00586                p++;
<a name="l00587"></a>00587             }
<a name="l00588"></a>00588          };
<a name="l00589"></a>00589          <span class="keywordflow">if</span> (status == <a class="code" href="mcnaf_8c.html#a1d614984ce3fdc4a597f42b672111421">JOB</a>) {
<a name="l00590"></a>00590             free(job);
<a name="l00591"></a>00591             <span class="keywordflow">if</span> (!cmd_mode)
<a name="l00592"></a>00592                printf(<span class="stringliteral">&quot;\n&quot;</span>);
<a name="l00593"></a>00593          }
<a name="l00594"></a>00594       }
<a name="l00595"></a>00595       <span class="keywordflow">if</span> (cmd_mode)
<a name="l00596"></a>00596          <span class="keywordflow">break</span>;
<a name="l00597"></a>00597    }
<a name="l00598"></a>00598    <span class="keywordflow">return</span> status;
<a name="l00599"></a>00599 }
<a name="l00600"></a>00600 
<a name="l00601"></a>00601 <span class="comment">/*--------------------------------------------------------------------*/</span>
<a name="l00602"></a><a class="code" href="mcnaf_8c.html#ad1a574b9e5a70320c678c0c55371d861">00602</a> <a class="code" href="lrs1190_8c.html#a6877c9d7ac317ac3415ee1a1f92302a0">INT</a> <a class="code" href="mcnaf_8c.html#ad1a574b9e5a70320c678c0c55371d861">decode_line</a>(<a class="code" href="structCAMAC.html">CAMAC</a> * <a class="code" href="c8051F000_8h.html#af189112e4c9ed7a0cb66d92038a3265f">P</a>, <span class="keywordtype">char</span> *ss)
<a name="l00603"></a>00603 {
<a name="l00604"></a>00604    <span class="keywordtype">char</span> empty[16] = { <span class="stringliteral">&quot;                &quot;</span> };
<a name="l00605"></a>00605    <span class="keywordtype">char</span> *<a class="code" href="patch__mevb_8cpp.html#adce6024c3a1b29c5fcede88815f9b152">c</a>, *<a class="code" href="jorway73a_8c.html#a11d3b696651733f98e58d14ad8fa7a1d">cmd</a>;
<a name="l00606"></a>00606    <span class="keywordtype">char</span> pp[128], *<a class="code" href="sis3803_8c.html#afcb0609a0beab248bb3994a3368bd9ff">p</a>, *s, *ps;
<a name="l00607"></a>00607    <a class="code" href="group__mvmestdinclude.html#ga798af1e30bc65f319c1a246cecf59e39">DWORD</a> <a class="code" href="mhist_8c.html#a1c4effcb9a2b3357fbfa63a6edfa0cc6">tmp</a>, <a class="code" href="mdump_8c.html#a65a8886d814fb9bf73f9d4f0fd64d162">i</a>;
<a name="l00608"></a>00608    <a class="code" href="group__midasincludecode.html#ga239c7f0d40651c3e419c5b9651507d14">BOOL</a> ok = <a class="code" href="p30_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;
<a name="l00609"></a>00609 
<a name="l00610"></a>00610    p = pp;
<a name="l00611"></a>00611    s = ss;
<a name="l00612"></a>00612    memset(pp, 0, 128);
<a name="l00613"></a>00613 
<a name="l00614"></a>00614    <span class="comment">/* convert to uppercase */</span>
<a name="l00615"></a>00615    c = ss;
<a name="l00616"></a>00616    <span class="keywordflow">while</span> (*c) {
<a name="l00617"></a>00617       *c = toupper(*c);
<a name="l00618"></a>00618       c++;
<a name="l00619"></a>00619    }
<a name="l00620"></a>00620 
<a name="l00621"></a>00621    <span class="keywordflow">while</span> (*s) {
<a name="l00622"></a>00622       <span class="keywordflow">if</span> (*s == <span class="charliteral">&apos;G&apos;</span>) {
<a name="l00623"></a>00623          <span class="keywordflow">while</span> (*s)
<a name="l00624"></a>00624             *p++ = *s++;
<a name="l00625"></a>00625          <span class="keywordflow">break</span>;
<a name="l00626"></a>00626       }
<a name="l00627"></a>00627       <span class="keywordflow">if</span> ((*s == <span class="charliteral">&apos;B&apos;</span>) || (*s == <span class="charliteral">&apos;C&apos;</span>) ||
<a name="l00628"></a>00628           (*s == <span class="charliteral">&apos;N&apos;</span>) || (*s == <span class="charliteral">&apos;A&apos;</span>) ||
<a name="l00629"></a>00629           (*s == <span class="charliteral">&apos;F&apos;</span>) || (*s == <span class="charliteral">&apos;C&apos;</span>) ||
<a name="l00630"></a>00630           (*s == <span class="charliteral">&apos;R&apos;</span>) || (*s == <span class="charliteral">&apos;W&apos;</span>) ||
<a name="l00631"></a>00631           (*s == <span class="charliteral">&apos;G&apos;</span>) || (*s == <span class="charliteral">&apos;H&apos;</span>) || (*s == <span class="charliteral">&apos;E&apos;</span>) || (*s == <span class="charliteral">&apos;Q&apos;</span>))
<a name="l00632"></a>00632          *p++ = <span class="charliteral">&apos; &apos;</span>;
<a name="l00633"></a>00633       <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((*s == <span class="charliteral">&apos;X&apos;</span>) || (*s == <span class="charliteral">&apos;D&apos;</span>) || (*s == <span class="charliteral">&apos;O&apos;</span>)) {
<a name="l00634"></a>00634          *p++ = <span class="charliteral">&apos; &apos;</span>;
<a name="l00635"></a>00635          *p++ = *s++;
<a name="l00636"></a>00636          <span class="keywordflow">while</span> (*s)
<a name="l00637"></a>00637             *p++ = *s++;
<a name="l00638"></a>00638          <span class="keywordflow">break</span>;
<a name="l00639"></a>00639       };
<a name="l00640"></a>00640       *p++ = *s++;
<a name="l00641"></a>00641    }
<a name="l00642"></a>00642    *p++ = <span class="charliteral">&apos; &apos;</span>;
<a name="l00643"></a>00643 
<a name="l00644"></a>00644    p = pp;
<a name="l00645"></a>00645 
<a name="l00646"></a>00646    <span class="keywordflow">if</span> ((cmd = strpbrk(p, <span class="stringliteral">&quot;P&quot;</span>)))
<a name="l00647"></a>00647       <span class="keywordflow">return</span> <a class="code" href="mcnaf_8c.html#ac44f650e9af953a1c16b21e7b54f8a39">MCSTD</a>;
<a name="l00648"></a>00648    <span class="keywordflow">if</span> ((cmd = strpbrk(p, <span class="stringliteral">&quot;G&quot;</span>))) {
<a name="l00649"></a>00649       <span class="keywordflow">for</span> (i = 0;; i++) {
<a name="l00650"></a>00650          <span class="keywordflow">if</span> (<a class="code" href="mcnaf_8c.html#a996450d9c3838d537cb6567cf1d5dc98">MCStd</a>[i][0] == 0)
<a name="l00651"></a>00651             <span class="keywordflow">break</span>;
<a name="l00652"></a>00652          <span class="keywordflow">if</span> (strstr(p + 2, <a class="code" href="mcnaf_8c.html#a996450d9c3838d537cb6567cf1d5dc98">MCStd</a>[i]) != NULL)
<a name="l00653"></a>00653             <span class="keywordflow">return</span> <a class="code" href="mcnaf_8c.html#aacc97c2a278d1e4c19a52392ba2cf646">CAM_OFF</a> + i;
<a name="l00654"></a>00654       }
<a name="l00655"></a>00655       <span class="keywordflow">return</span> <a class="code" href="mcnaf_8c.html#a8e8f11caf539de9555d07b4e7ef5b1da">LOOP</a>;
<a name="l00656"></a>00656    }
<a name="l00657"></a>00657    <span class="keywordflow">if</span> ((cmd = strpbrk(p, <span class="stringliteral">&quot;H&quot;</span>)))
<a name="l00658"></a>00658       <span class="keywordflow">return</span> <a class="code" href="mcnaf_8c.html#ae8a798ec5e0449028e485688e8241b5e">HELP</a>;
<a name="l00659"></a>00659    <span class="keywordflow">if</span> ((cmd = strpbrk(p, <span class="stringliteral">&quot;J@&quot;</span>)))
<a name="l00660"></a>00660       <span class="keywordflow">return</span> <a class="code" href="mcnaf_8c.html#a1d614984ce3fdc4a597f42b672111421">JOB</a>;
<a name="l00661"></a>00661    <span class="keywordflow">if</span> ((cmd = strpbrk(p, <span class="stringliteral">&quot;X&quot;</span>))) {
<a name="l00662"></a>00662       ps = strchr(cmd, <span class="charliteral">&apos; &apos;</span>);
<a name="l00663"></a>00663       *ps = 0;
<a name="l00664"></a>00664       <span class="keywordflow">if</span> (P-&gt;<a class="code" href="structCAMAC.html#a156e77a64da2521168877579abb9a42d">m</a> == <a class="code" href="mcnaf_8c.html#aca2d0324d94ff7c5bdde49fbd02eaafb">D24</a>) {
<a name="l00665"></a>00665          tmp = strtoul((cmd + 1), NULL, 16);
<a name="l00666"></a>00666          <span class="keywordflow">if</span> (tmp &gt;= 0x0 &amp;&amp; tmp &lt;= 0xffffff) {
<a name="l00667"></a>00667             P-&gt;<a class="code" href="structCAMAC.html#af4cb0066afa8946eb9252ceaecf0e794">d24</a> = tmp;
<a name="l00668"></a>00668             ok = <a class="code" href="p30_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;
<a name="l00669"></a>00669          } <span class="keywordflow">else</span>
<a name="l00670"></a>00670             printf(<span class="stringliteral">&quot;mcnaf-E- Data out of range 0x0:0xffffff\n&quot;</span>);
<a name="l00671"></a>00671       } <span class="keywordflow">else</span> {
<a name="l00672"></a>00672          tmp = strtoul((cmd + 1), NULL, 16);
<a name="l00673"></a>00673          <span class="keywordflow">if</span> (tmp &gt;= 0x0 &amp;&amp; tmp &lt;= 0xffff) {
<a name="l00674"></a>00674             P-&gt;<a class="code" href="structCAMAC.html#a49b737121cd00e6c70ba9a6a620e4396">d16</a> = (<a class="code" href="unionWORD.html">WORD</a>) tmp;
<a name="l00675"></a>00675             ok = <a class="code" href="p30_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;
<a name="l00676"></a>00676          } <span class="keywordflow">else</span>
<a name="l00677"></a>00677             printf(<span class="stringliteral">&quot;mcnaf-E- Data out of range 0x0:0xffff\n&quot;</span>);
<a name="l00678"></a>00678       }
<a name="l00679"></a>00679       strncpy(cmd, empty, strlen(cmd));
<a name="l00680"></a>00680       *ps = <span class="charliteral">&apos; &apos;</span>;
<a name="l00681"></a>00681    }
<a name="l00682"></a>00682    <span class="keywordflow">if</span> ((cmd = strpbrk(p, <span class="stringliteral">&quot;O&quot;</span>))) {
<a name="l00683"></a>00683       ps = strchr(cmd, <span class="charliteral">&apos; &apos;</span>);
<a name="l00684"></a>00684       *ps = 0;
<a name="l00685"></a>00685       <span class="keywordflow">if</span> (P-&gt;<a class="code" href="structCAMAC.html#a156e77a64da2521168877579abb9a42d">m</a> == <a class="code" href="mcnaf_8c.html#aca2d0324d94ff7c5bdde49fbd02eaafb">D24</a>) {
<a name="l00686"></a>00686          tmp = strtoul((cmd + 1), NULL, 8);
<a name="l00687"></a>00687          <span class="keywordflow">if</span> (tmp &gt;= 0 &amp;&amp; tmp &lt;= 077777777) {
<a name="l00688"></a>00688             P-&gt;<a class="code" href="structCAMAC.html#af4cb0066afa8946eb9252ceaecf0e794">d24</a> = tmp;
<a name="l00689"></a>00689             ok = <a class="code" href="p30_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;
<a name="l00690"></a>00690          } <span class="keywordflow">else</span>
<a name="l00691"></a>00691             printf(<span class="stringliteral">&quot;mcnaf-E- Data out of range O0:O77777777\n&quot;</span>);
<a name="l00692"></a>00692       } <span class="keywordflow">else</span> {
<a name="l00693"></a>00693          tmp = strtoul((cmd + 1), NULL, 8);
<a name="l00694"></a>00694          <span class="keywordflow">if</span> (tmp &gt;= 00 &amp;&amp; tmp &lt;= 0177777) {
<a name="l00695"></a>00695             P-&gt;<a class="code" href="structCAMAC.html#a49b737121cd00e6c70ba9a6a620e4396">d16</a> = (<a class="code" href="unionWORD.html">WORD</a>) tmp;
<a name="l00696"></a>00696             ok = <a class="code" href="p30_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;
<a name="l00697"></a>00697          } <span class="keywordflow">else</span>
<a name="l00698"></a>00698             printf(<span class="stringliteral">&quot;mcnaf-E- Data out of range O0:O177777\n&quot;</span>);
<a name="l00699"></a>00699       }
<a name="l00700"></a>00700       strncpy(cmd, empty, strlen(cmd));
<a name="l00701"></a>00701       *ps = <span class="charliteral">&apos; &apos;</span>;
<a name="l00702"></a>00702    }
<a name="l00703"></a>00703    <span class="keywordflow">if</span> ((cmd = strpbrk(p, <span class="stringliteral">&quot;D&quot;</span>))) {
<a name="l00704"></a>00704       ps = strchr(cmd, <span class="charliteral">&apos; &apos;</span>);
<a name="l00705"></a>00705       *ps = 0;
<a name="l00706"></a>00706       <span class="keywordflow">if</span> (P-&gt;<a class="code" href="structCAMAC.html#a156e77a64da2521168877579abb9a42d">m</a> == <a class="code" href="mcnaf_8c.html#aca2d0324d94ff7c5bdde49fbd02eaafb">D24</a>) {
<a name="l00707"></a>00707          tmp = strtoul((cmd + 1), NULL, 10);
<a name="l00708"></a>00708          <span class="keywordflow">if</span> (tmp &gt;= 0x0 &amp;&amp; tmp &lt;= 0xffffff) {
<a name="l00709"></a>00709             P-&gt;<a class="code" href="structCAMAC.html#af4cb0066afa8946eb9252ceaecf0e794">d24</a> = tmp;
<a name="l00710"></a>00710             ok = <a class="code" href="p30_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;
<a name="l00711"></a>00711          } <span class="keywordflow">else</span>
<a name="l00712"></a>00712             printf(<span class="stringliteral">&quot;mcnaf-E- Data out of range 0:16777215\n&quot;</span>);
<a name="l00713"></a>00713       } <span class="keywordflow">else</span> {
<a name="l00714"></a>00714          tmp = strtoul((cmd + 1), NULL, 10);
<a name="l00715"></a>00715          <span class="keywordflow">if</span> (tmp &gt;= 0x0 &amp;&amp; tmp &lt;= 0xffff) {
<a name="l00716"></a>00716             P-&gt;<a class="code" href="structCAMAC.html#a49b737121cd00e6c70ba9a6a620e4396">d16</a> = (<a class="code" href="unionWORD.html">WORD</a>) tmp;
<a name="l00717"></a>00717             ok = <a class="code" href="p30_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;
<a name="l00718"></a>00718          } <span class="keywordflow">else</span>
<a name="l00719"></a>00719             printf(<span class="stringliteral">&quot;mcnaf-E- Data out of range 0:65535\n&quot;</span>);
<a name="l00720"></a>00720       }
<a name="l00721"></a>00721       strncpy(cmd, empty, strlen(cmd));
<a name="l00722"></a>00722       *ps = <span class="charliteral">&apos; &apos;</span>;
<a name="l00723"></a>00723    }
<a name="l00724"></a>00724    <span class="keywordflow">if</span> ((cmd = strchr(p, <span class="charliteral">&apos;B&apos;</span>))) {
<a name="l00725"></a>00725       ps = strchr(cmd, <span class="charliteral">&apos; &apos;</span>);
<a name="l00726"></a>00726       *ps = 0;
<a name="l00727"></a>00727       tmp = atoi((cmd + 1));
<a name="l00728"></a>00728       <span class="keywordflow">if</span> (tmp &lt; 8 &amp;&amp; tmp &gt;= 0) {
<a name="l00729"></a>00729          P-&gt;<a class="code" href="structCAMAC.html#aefb054917e43eda17ed5285db99a11a3">b</a> = tmp;
<a name="l00730"></a>00730          ok = <a class="code" href="p30_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;
<a name="l00731"></a>00731       } <span class="keywordflow">else</span>
<a name="l00732"></a>00732          printf(<span class="stringliteral">&quot;mcnaf-E- B out of range 0:7\n&quot;</span>);
<a name="l00733"></a>00733       *ps = <span class="charliteral">&apos; &apos;</span>;
<a name="l00734"></a>00734    }
<a name="l00735"></a>00735    <span class="keywordflow">if</span> ((cmd = strchr(p, <span class="charliteral">&apos;C&apos;</span>))) {
<a name="l00736"></a>00736       ps = strchr(cmd, <span class="charliteral">&apos; &apos;</span>);
<a name="l00737"></a>00737       *ps = 0;
<a name="l00738"></a>00738       tmp = atoi((cmd + 1));
<a name="l00739"></a>00739       <span class="keywordflow">if</span> (tmp &lt; 8 &amp;&amp; tmp &gt;= 0) {
<a name="l00740"></a>00740          P-&gt;<a class="code" href="structCAMAC.html#a0fbdd1f69529ffff5a8bdb6526322847">c</a> = tmp;
<a name="l00741"></a>00741          ok = <a class="code" href="p30_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;
<a name="l00742"></a>00742       } <span class="keywordflow">else</span>
<a name="l00743"></a>00743          printf(<span class="stringliteral">&quot;mcnaf-E- C out of range 0:7\n&quot;</span>);
<a name="l00744"></a>00744       *ps = <span class="charliteral">&apos; &apos;</span>;
<a name="l00745"></a>00745    }
<a name="l00746"></a>00746    <span class="keywordflow">if</span> ((cmd = strchr(p, <span class="charliteral">&apos;N&apos;</span>))) {
<a name="l00747"></a>00747       ps = strchr(cmd, <span class="charliteral">&apos; &apos;</span>);
<a name="l00748"></a>00748       *ps = 0;
<a name="l00749"></a>00749       tmp = atoi((cmd + 1));
<a name="l00750"></a>00750       <span class="keywordflow">if</span> (tmp &lt; 32 &amp;&amp; tmp &gt;= 0) {
<a name="l00751"></a>00751          P-&gt;<a class="code" href="structCAMAC.html#af3cdaa27f11a77ff191b5563831bb78e">n</a> = tmp;
<a name="l00752"></a>00752          ok = <a class="code" href="p30_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;
<a name="l00753"></a>00753       } <span class="keywordflow">else</span>
<a name="l00754"></a>00754          printf(<span class="stringliteral">&quot;mcnaf-E- N out of range 0:31\n&quot;</span>);
<a name="l00755"></a>00755       *ps = <span class="charliteral">&apos; &apos;</span>;
<a name="l00756"></a>00756    }
<a name="l00757"></a>00757    <span class="keywordflow">if</span> ((cmd = strchr(p, <span class="charliteral">&apos;A&apos;</span>))) {
<a name="l00758"></a>00758       ps = strchr(cmd, <span class="charliteral">&apos; &apos;</span>);
<a name="l00759"></a>00759       *ps = 0;
<a name="l00760"></a>00760       tmp = atoi((cmd + 1));
<a name="l00761"></a>00761       <span class="keywordflow">if</span> (tmp &lt; 16 &amp;&amp; tmp &gt;= 0) {
<a name="l00762"></a>00762          P-&gt;<a class="code" href="structCAMAC.html#ac6cabc96f365ddd4ebc714beb08ee699">a</a> = tmp;
<a name="l00763"></a>00763          ok = <a class="code" href="p30_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;
<a name="l00764"></a>00764       } <span class="keywordflow">else</span>
<a name="l00765"></a>00765          printf(<span class="stringliteral">&quot;mcnaf-E- A out of range 0:15\n&quot;</span>);
<a name="l00766"></a>00766       *ps = <span class="charliteral">&apos; &apos;</span>;
<a name="l00767"></a>00767    }
<a name="l00768"></a>00768    <span class="keywordflow">if</span> ((cmd = strchr(p, <span class="charliteral">&apos;F&apos;</span>))) {
<a name="l00769"></a>00769       ps = strchr(cmd, <span class="charliteral">&apos; &apos;</span>);
<a name="l00770"></a>00770       *ps = 0;
<a name="l00771"></a>00771       tmp = atoi((cmd + 1));
<a name="l00772"></a>00772       <span class="keywordflow">if</span> (tmp &lt; 32 &amp;&amp; tmp &gt;= 0) {
<a name="l00773"></a>00773          P-&gt;<a class="code" href="structCAMAC.html#aae6e7c86e84b3b9b29d0edb6e771e688">f</a> = tmp;
<a name="l00774"></a>00774          ok = <a class="code" href="p30_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;
<a name="l00775"></a>00775       } <span class="keywordflow">else</span>
<a name="l00776"></a>00776          printf(<span class="stringliteral">&quot;mcnaf-E- F out of range 0:31\n&quot;</span>);
<a name="l00777"></a>00777       *ps = <span class="charliteral">&apos; &apos;</span>;
<a name="l00778"></a>00778    }
<a name="l00779"></a>00779    <span class="keywordflow">if</span> ((cmd = strchr(p, <span class="charliteral">&apos;R&apos;</span>))) {
<a name="l00780"></a>00780       ps = strchr(cmd, <span class="charliteral">&apos; &apos;</span>);
<a name="l00781"></a>00781       *ps = 0;
<a name="l00782"></a>00782       tmp = atoi((cmd + 1));
<a name="l00783"></a>00783       <span class="keywordflow">if</span> (tmp &lt; 1000 &amp;&amp; tmp &gt;= 0) {
<a name="l00784"></a>00784          <span class="keywordflow">if</span> (tmp == 0)
<a name="l00785"></a>00785             tmp = 1;
<a name="l00786"></a>00786          P-&gt;<a class="code" href="structCAMAC.html#a13304cee3e2c1c6ac0e02437b8b56830">r</a> = tmp;
<a name="l00787"></a>00787       } <span class="keywordflow">else</span>
<a name="l00788"></a>00788          printf(<span class="stringliteral">&quot;mcnaf-E- R out of range 1:1000\n&quot;</span>);
<a name="l00789"></a>00789       *ps = <span class="charliteral">&apos; &apos;</span>;
<a name="l00790"></a>00790    }
<a name="l00791"></a>00791    <span class="keywordflow">if</span> ((cmd = strchr(p, <span class="charliteral">&apos;W&apos;</span>))) {
<a name="l00792"></a>00792       ps = strchr(cmd, <span class="charliteral">&apos; &apos;</span>);
<a name="l00793"></a>00793       *ps = 0;
<a name="l00794"></a>00794       tmp = atoi((cmd + 1));
<a name="l00795"></a>00795       <span class="keywordflow">if</span> (tmp &lt; 10001 || tmp &gt;= 0)
<a name="l00796"></a>00796          P-&gt;<a class="code" href="structCAMAC.html#a11024b379368770387cd8edc356655a5">w</a> = tmp;
<a name="l00797"></a>00797       <span class="keywordflow">else</span>
<a name="l00798"></a>00798          printf(<span class="stringliteral">&quot;mcnaf-E- W out of range 0:10000\n&quot;</span>);
<a name="l00799"></a>00799       *ps = <span class="charliteral">&apos; &apos;</span>;
<a name="l00800"></a>00800    }
<a name="l00801"></a>00801    <span class="keywordflow">if</span> ((cmd = strchr(p, <span class="charliteral">&apos;M&apos;</span>))) {
<a name="l00802"></a>00802       ps = strchr(cmd, <span class="charliteral">&apos; &apos;</span>);
<a name="l00803"></a>00803       *ps = 0;
<a name="l00804"></a>00804       tmp = atoi((cmd + 1));
<a name="l00805"></a>00805       <span class="keywordflow">if</span> (tmp == <a class="code" href="mcnaf_8c.html#a93bc48140590e845b99df4b377f87887">D16</a> || tmp == <a class="code" href="mcnaf_8c.html#aca2d0324d94ff7c5bdde49fbd02eaafb">D24</a>)
<a name="l00806"></a>00806          P-&gt;<a class="code" href="structCAMAC.html#a156e77a64da2521168877579abb9a42d">m</a> = tmp;
<a name="l00807"></a>00807       <span class="keywordflow">else</span>
<a name="l00808"></a>00808          printf(<span class="stringliteral">&quot;mcnaf-E- M out of range 16,24\n&quot;</span>);
<a name="l00809"></a>00809       *ps = <span class="charliteral">&apos; &apos;</span>;
<a name="l00810"></a>00810    }
<a name="l00811"></a>00811    <span class="keywordflow">if</span> (ok)
<a name="l00812"></a>00812       <span class="keywordflow">return</span> <a class="code" href="mcnaf_8c.html#a8e8f11caf539de9555d07b4e7ef5b1da">LOOP</a>;
<a name="l00813"></a>00813    <span class="keywordflow">if</span> ((cmd = strpbrk(p, <span class="stringliteral">&quot;QE&quot;</span>)))
<a name="l00814"></a>00814       <span class="keywordflow">return</span> <a class="code" href="ftplib_8h.html#ad24e2b54375e12474e65ebf7175988fb">QUIT</a>;
<a name="l00815"></a>00815    <span class="keywordflow">return</span> <a class="code" href="mcnaf_8c.html#a688a4adbb87520a2b68681bd6bfb199e">SKIP</a>;
<a name="l00816"></a>00816 }
<a name="l00817"></a>00817 
<a name="l00818"></a>00818 <span class="comment">/*--------------------------------------------------------------------*/</span>
<a name="l00819"></a><a class="code" href="mcnaf_8c.html#a43cf938c1b3665df5579686ca9bd0afd">00819</a> <span class="keywordtype">void</span> <a class="code" href="mcnaf_8c.html#a43cf938c1b3665df5579686ca9bd0afd">help_page</a>(<a class="code" href="lrs1190_8c.html#a6877c9d7ac317ac3415ee1a1f92302a0">INT</a> which)
<a name="l00820"></a>00820 {
<a name="l00821"></a>00821    <span class="keywordflow">if</span> (which == <a class="code" href="mcnaf_8c.html#a34b04bd23b07b485921a728ad0805ac4">MAIN</a>) {
<a name="l00822"></a>00822       printf(<span class="stringliteral">&quot;\n*-v%s----------- H E L P   C N A F -------------------*\n&quot;</span>,
<a name="l00823"></a>00823              <a class="code" href="group__msectionh.html#ga8bac34abaea6f63d66b617487451b00b">cm_get_version</a>());
<a name="l00824"></a>00824       printf(<span class="stringliteral">&quot;          Interactive Midas CAMAC command\n&quot;</span>);
<a name="l00825"></a>00825       printf(<span class="stringliteral">&quot;          ===============================\n&quot;</span>);
<a name="l00826"></a>00826       printf(<span class="stringliteral">&quot; Output : Data [dec/hex X=0/1 - Q=0/1 ]\n&quot;</span>);
<a name="l00827"></a>00827       printf(<span class="stringliteral">&quot; Inputs : Bx :  Branch   [0 -  7]    Cx :  Crate    [0 -  7]\n&quot;</span>);
<a name="l00828"></a>00828       printf(<span class="stringliteral">&quot;          Nx :  Slot     [1 - 31]    Ax :  SubAdd.  [0 - 15]\n&quot;</span>);
<a name="l00829"></a>00829       printf(<span class="stringliteral">&quot;          Fx :  Function [0 - 31]    Mx :  Access mode [16,24]\n&quot;</span>);
<a name="l00830"></a>00830       printf(<span class="stringliteral">&quot;           H :  HELP on   CNAF       E/Q:  Exit/Quit from CNAF\n&quot;</span>);
<a name="l00831"></a>00831       printf(<span class="stringliteral">&quot;          Rx :  Repetition counter               [1 -   999]\n&quot;</span>);
<a name="l00832"></a>00832       printf(<span class="stringliteral">&quot;          Wx :  Delay between command (ms)       [0 - 10000]\n&quot;</span>);
<a name="l00833"></a>00833       printf(<span class="stringliteral">&quot;           P :  Switch to MCStd CAMAC operation\n&quot;</span>);
<a name="l00834"></a>00834       printf(<span class="stringliteral">&quot;           J :  Perform JOB (command list from file )\n&quot;</span>);
<a name="l00835"></a>00835       printf(<span class="stringliteral">&quot;                Same syntax as in interactive session\n&quot;</span>);
<a name="l00836"></a>00836       printf(<span class="stringliteral">&quot;           G :  PERFORM ACTION of predefine set-up\n&quot;</span>);
<a name="l00837"></a>00837       printf(<span class="stringliteral">&quot;           D :  Decimal     Data     [0 - max data_size]\n&quot;</span>);
<a name="l00838"></a>00838       printf(<span class="stringliteral">&quot;           O :  Octal       Data     [0 - max data_size]\n&quot;</span>);
<a name="l00839"></a>00839       printf(<span class="stringliteral">&quot;           X :  Hexadecimal Data     [0 - max data_size]\n&quot;</span>);
<a name="l00840"></a>00840       printf(<span class="stringliteral">&quot;\n&quot;</span>);
<a name="l00841"></a>00841       printf
<a name="l00842"></a>00842           (<span class="stringliteral">&quot;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; Data has to be given LAST if needed in the command string &lt;&lt;&lt;&lt;&lt;\n&quot;</span>);
<a name="l00843"></a>00843       printf(<span class="stringliteral">&quot;\n&quot;</span>);
<a name="l00844"></a>00844       printf
<a name="l00845"></a>00845           (<span class="stringliteral">&quot; The commands below are following the ESONE standard for a A2 controller\n&quot;</span>);
<a name="l00846"></a>00846       printf(<span class="stringliteral">&quot; N30A9F24 : Crate clear inhibit    N30A9F26 : Crate set inhibit\n&quot;</span>);
<a name="l00847"></a>00847       printf(<span class="stringliteral">&quot; N28A8F26 : Z crate                N28A9F26 : C crate\n&quot;</span>);
<a name="l00848"></a>00848       printf(<span class="stringliteral">&quot; N30A13F17: CC Lam enable          N30A12F17: CC Lam disable\n&quot;</span>);
<a name="l00849"></a>00849       printf(<span class="stringliteral">&quot; N30A0-7F1: CC read Lam\n&quot;</span>);
<a name="l00850"></a>00850       printf(<span class="stringliteral">&quot;\n&quot;</span>);
<a name="l00851"></a>00851       printf(<span class="stringliteral">&quot; examples: &quot;</span>);
<a name="l00852"></a>00852       printf(<span class="stringliteral">&quot;&gt;mcnaf -cl\&quot;triggerFE\&quot; -h local -e myexpt\n&quot;</span>);
<a name="l00853"></a>00853       printf(<span class="stringliteral">&quot;      CNAF&gt; [B0C1N30A00F00 [0/0x000000 Q0X0] R1W0M24] :n30a9f24\n&quot;</span>);
<a name="l00854"></a>00854       printf(<span class="stringliteral">&quot;      CNAF&gt; [B0C1N06A00F24 [0/0x000000 Q1X1] R1W0M24] :n6f9a0\n&quot;</span>);
<a name="l00855"></a>00855    } <span class="keywordflow">else</span> {
<a name="l00856"></a>00856       printf(<span class="stringliteral">&quot;\n*-v%s----------- H E L P   C N A F -------------------*\n&quot;</span>,
<a name="l00857"></a>00857              <a class="code" href="group__msectionh.html#ga8bac34abaea6f63d66b617487451b00b">cm_get_version</a>());
<a name="l00858"></a>00858       printf(<span class="stringliteral">&quot;          Interactive MCStd CAMAC command\n&quot;</span>);
<a name="l00859"></a>00859       printf(<span class="stringliteral">&quot;The action taken is dependent on the driver implementation\n&quot;</span>);
<a name="l00860"></a>00860       printf(<span class="stringliteral">&quot;[Q/E]            : Exit this level\n&quot;</span>);
<a name="l00861"></a>00861       printf(<span class="stringliteral">&quot;[G] &lt;function&gt;   : Issue the given function on preset CAMAC address\n&quot;</span>);
<a name="l00862"></a>00862       printf(<span class="stringliteral">&quot;Possible functions are:\n&quot;</span>);
<a name="l00863"></a>00863       printf(<span class="stringliteral">&quot;cam16/24i        : 16/24bit input\n&quot;</span>);
<a name="l00864"></a>00864       printf(<span class="stringliteral">&quot;cam16/24i_q      : 16/24bit input with Q response\n&quot;</span>);
<a name="l00865"></a>00865       printf(<span class="stringliteral">&quot;cam16/24i_r      : 16/24bit input repeat until R reached (max 100)\n&quot;</span>);
<a name="l00866"></a>00866       printf
<a name="l00867"></a>00867           (<span class="stringliteral">&quot;cam16/24i_rq     : 16/24bit input repeat until NoQ or R reached (max 100)\n&quot;</span>);
<a name="l00868"></a>00868       printf(<span class="stringliteral">&quot;cam16/24i_sa     : 16/24bit input scan R times over A\n&quot;</span>);
<a name="l00869"></a>00869       printf(<span class="stringliteral">&quot;cam16/24i_sn     : 16/24bit input scan R times over N\n&quot;</span>);
<a name="l00870"></a>00870       printf(<span class="stringliteral">&quot;cam16/24o        : 16/24bit output\n&quot;</span>);
<a name="l00871"></a>00871       printf(<span class="stringliteral">&quot;cam16/24o_q      : 16/24bit output with Q response\n&quot;</span>);
<a name="l00872"></a>00872       printf(<span class="stringliteral">&quot;cam16/24o_r      : 16/24bit output repeat R times\n&quot;</span>);
<a name="l00873"></a>00873       printf(<span class="stringliteral">&quot;camc             : 16bit command \n&quot;</span>);
<a name="l00874"></a>00874       printf(<span class="stringliteral">&quot;camc_q           : 16bit command with Q response\n&quot;</span>);
<a name="l00875"></a>00875       printf(<span class="stringliteral">&quot;camc_sa          : 16bit command scan R times over A\n&quot;</span>);
<a name="l00876"></a>00876       printf(<span class="stringliteral">&quot;camc_sn          : 16bit command scan R times over N\n&quot;</span>);
<a name="l00877"></a>00877       printf(<span class="stringliteral">&quot;cam_lam_enable   : Enable lam in Crate controller ONLY\n&quot;</span>);
<a name="l00878"></a>00878       printf(<span class="stringliteral">&quot;cam_lam_disable  : Disable lam in Crate controlled ONLY\n&quot;</span>);
<a name="l00879"></a>00879       printf(<span class="stringliteral">&quot;cam_lam_read     : Read lam from Crate controller\n&quot;</span>);
<a name="l00880"></a>00880       printf(<span class="stringliteral">&quot;cam_inhibit_clear: Reset Inhibit line in crate\n&quot;</span>);
<a name="l00881"></a>00881       printf(<span class="stringliteral">&quot;cam_inhibit_set  : Set Inhibit line in crate\n&quot;</span>);
<a name="l00882"></a>00882       printf(<span class="stringliteral">&quot;cam_crate_clear  : Generate a Clear cycle to the crate\n&quot;</span>);
<a name="l00883"></a>00883       printf(<span class="stringliteral">&quot;cam_crate_zinit  : Generate a Z cycle to the crate\n&quot;</span>);
<a name="l00884"></a>00884    }
<a name="l00885"></a>00885 }
<a name="l00886"></a>00886 
<a name="l00887"></a>00887 <span class="comment">/*--------------------------------------------------------------------*/</span>
<a name="l00888"></a>00888 
<a name="l00889"></a><a class="code" href="mcnaf_8c.html#a3c04138a5bfe5d72780bb7e82a18e627">00889</a> <span class="keywordtype">int</span> <a class="code" href="mucap__compress_8cpp.html#a0ddf1224851353fc92bfbff6f499fa97">main</a>(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span> **argv)
<a name="l00890"></a>00890 {
<a name="l00891"></a>00891    <span class="keywordtype">char</span> <a class="code" href="crate6__CAEN__TDC_2mfe__mucap_8c.html#af65cc3664520b7cd0817adc7106f9624">host_name</a>[<a class="code" href="group__midasincludecode.html#ga2010c9ed4ef21c3171de778157b9c494">HOST_NAME_LENGTH</a>], <a class="code" href="crate6__CAEN__TDC_2mfe__mucap_8c.html#a11eee1a5e2cef985b90bdfe0bfc8cf76">exp_name</a>[<a class="code" href="group__midasincludecode.html#gaf71324c57f05ff9e24bd384925dd6b17">NAME_LENGTH</a>], fe_name[256], rpc_server[256];
<a name="l00892"></a>00892    <span class="keywordtype">char</span> <a class="code" href="jorway73a_8c.html#a11d3b696651733f98e58d14ad8fa7a1d">cmd</a>[256];
<a name="l00893"></a>00893    <a class="code" href="lrs1190_8c.html#a6877c9d7ac317ac3415ee1a1f92302a0">INT</a> <a class="code" href="mdump_8c.html#a65a8886d814fb9bf73f9d4f0fd64d162">i</a>, <a class="code" href="patch__mevb_8cpp.html#a015eb90e0de9f16e87bd149d4b9ce959">status</a>;
<a name="l00894"></a>00894    <a class="code" href="group__midasincludecode.html#ga239c7f0d40651c3e419c5b9651507d14">BOOL</a> <a class="code" href="crate6__CAEN__TDC_2mfe__mucap_8c.html#a81f0a890e023743f1b88d0cb7d4f74db">debug</a>, <a class="code" href="odbedit_8c.html#aba7b84a5236803c50a8cae27f0023703">cmd_mode</a> = <a class="code" href="p30_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;
<a name="l00895"></a>00895 
<a name="l00896"></a>00896    <span class="comment">/* set default */</span>
<a name="l00897"></a>00897    host_name[0] = <span class="charliteral">&apos;\0&apos;</span>;
<a name="l00898"></a>00898    exp_name[0] = <span class="charliteral">&apos;\0&apos;</span>;
<a name="l00899"></a>00899    fe_name[0] = <span class="charliteral">&apos;\0&apos;</span>;
<a name="l00900"></a>00900    rpc_server[0] = <span class="charliteral">&apos;\0&apos;</span>;
<a name="l00901"></a>00901    debug = <a class="code" href="p30_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;
<a name="l00902"></a>00902 
<a name="l00903"></a>00903    <span class="comment">/* get parameters */</span>
<a name="l00904"></a>00904    <a class="code" href="patch__mevb_8cpp.html#aa598123f60ccd5496f2421c7bf2fabbf">cm_get_environment</a>(host_name, <span class="keyword">sizeof</span>(host_name), exp_name, <span class="keyword">sizeof</span>(exp_name));
<a name="l00905"></a>00905 
<a name="l00906"></a>00906    <span class="comment">/* parse command line parameters */</span>
<a name="l00907"></a>00907    <span class="keywordflow">for</span> (i = 1; i &lt; argc; i++) {
<a name="l00908"></a>00908       <span class="keywordflow">if</span> (argv[i][0] == <span class="charliteral">&apos;-&apos;</span> &amp;&amp; argv[i][1] == <span class="charliteral">&apos;d&apos;</span>)
<a name="l00909"></a>00909          debug = <a class="code" href="p30_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;
<a name="l00910"></a>00910       <span class="keywordflow">else</span> <span class="keywordflow">if</span> (argv[i][0] == <span class="charliteral">&apos;-&apos;</span>) {
<a name="l00911"></a>00911          <span class="keywordflow">if</span> (i + 1 &gt;= argc || argv[i + 1][0] == <span class="charliteral">&apos;-&apos;</span>)
<a name="l00912"></a>00912             <span class="keywordflow">goto</span> <a class="code" href="odb__check_8cc.html#a2ef30c42cbc289d899a8be5d2d8f77d0">usage</a>;
<a name="l00913"></a>00913          <span class="keywordflow">if</span> (strncmp(argv[i], <span class="stringliteral">&quot;-e&quot;</span>, 3) == 0)
<a name="l00914"></a>00914             strcpy(exp_name, argv[++i]);
<a name="l00915"></a>00915          <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strncmp(argv[i], <span class="stringliteral">&quot;-h&quot;</span>, 3) == 0)
<a name="l00916"></a>00916             strcpy(host_name, argv[++i]);
<a name="l00917"></a>00917          <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strncmp(argv[i], <span class="stringliteral">&quot;-f&quot;</span>, 3) == 0)
<a name="l00918"></a>00918             strcpy(fe_name, argv[++i]);
<a name="l00919"></a>00919          <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strncmp(argv[i], <span class="stringliteral">&quot;-s&quot;</span>, 3) == 0)
<a name="l00920"></a>00920             strcpy(rpc_server, argv[++i]);
<a name="l00921"></a>00921          <span class="keywordflow">else</span> <span class="keywordflow">if</span> (argv[i][1] == <span class="charliteral">&apos;c&apos;</span>) {
<a name="l00922"></a>00922             <span class="keywordflow">if</span> (strlen(argv[i]) &gt;= 256) {
<a name="l00923"></a>00923                printf(<span class="stringliteral">&quot;error: command line too long (&gt;256).\n&quot;</span>);
<a name="l00924"></a>00924                <span class="keywordflow">return</span> 0;
<a name="l00925"></a>00925             }
<a name="l00926"></a>00926             strcpy(cmd, argv[++i]);
<a name="l00927"></a>00927             cmd_mode = <a class="code" href="p30_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;
<a name="l00928"></a>00928          } <span class="keywordflow">else</span> {
<a name="l00929"></a>00929           <a class="code" href="odb__check_8cc.html#a2ef30c42cbc289d899a8be5d2d8f77d0">usage</a>:
<a name="l00930"></a>00930             printf
<a name="l00931"></a>00931                 (<span class="stringliteral">&quot;usage: mcnaf [-f Frontend] [-h Hostname] [-e Experiment] [-s RPC server]\n&quot;</span>);
<a name="l00932"></a>00932             printf(<span class="stringliteral">&quot;             [-c Command] [-c @CommandFile] \n\n&quot;</span>);
<a name="l00933"></a>00933             <span class="keywordflow">return</span> 0;
<a name="l00934"></a>00934          }
<a name="l00935"></a>00935       }
<a name="l00936"></a>00936    }
<a name="l00937"></a>00937 
<a name="l00938"></a>00938    <span class="keywordflow">if</span> (rpc_server[0])
<a name="l00939"></a>00939       status = <a class="code" href="group__mcstdfunctionh.html#ga43ddc19c70912fb0eb4091579849e2ca">cam_init_rpc</a>(<span class="stringliteral">&quot;&quot;</span>, <span class="stringliteral">&quot;&quot;</span>, <span class="stringliteral">&quot;&quot;</span>, <span class="stringliteral">&quot;mcnaf&quot;</span>, rpc_server);
<a name="l00940"></a>00940    <span class="keywordflow">else</span>
<a name="l00941"></a>00941       status = <a class="code" href="group__mcstdfunctionh.html#ga43ddc19c70912fb0eb4091579849e2ca">cam_init_rpc</a>(host_name, exp_name, fe_name, <span class="stringliteral">&quot;mcnaf&quot;</span>, <span class="stringliteral">&quot;&quot;</span>);
<a name="l00942"></a>00942    <span class="keywordflow">if</span> (status == <a class="code" href="group__mvmestdinclude.html#gaa90cac659d18e8ef6294c7ae337f6b58">SUCCESS</a>) {
<a name="l00943"></a>00943       status = <a class="code" href="group__mcstdfunctionh.html#ga6c97ce64e84d233efe4de457ec495d2f">cam_init</a>();
<a name="l00944"></a>00944       <span class="keywordflow">if</span> (status == <a class="code" href="group__mvmestdinclude.html#gaa90cac659d18e8ef6294c7ae337f6b58">SUCCESS</a>)
<a name="l00945"></a>00945          status = <a class="code" href="mcnaf_8c.html#a29ce2fda593383fc41e2e359ac2ff277">cnafsub</a>(cmd_mode, cmd);
<a name="l00946"></a>00946    }
<a name="l00947"></a>00947    <a class="code" href="group__mcstdfunctionh.html#ga115c540e273dd1e07d72fe82da4ba98d">cam_exit</a>();
<a name="l00948"></a>00948 <span class="comment">//  printf(&quot;status:%d\n&quot;, status);</span>
<a name="l00949"></a>00949    <span class="keywordflow">return</span> status;
<a name="l00950"></a>00950 }
</pre></div></div>
<hr size="1"/><address style="text-align: right;"><small>Generated on 6 Jun 2014 for AlcapDAQ by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
