<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>AlcapDAQ: midas/drivers/bus/hyt1331.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>midas/drivers/bus/hyt1331.c File Reference</h1><code>#include &lt;stdio.h&gt;</code><br/>
<code>#include &lt;string.h&gt;</code><br/>
<code>#include &quot;<a class="el" href="mcstd_8h_source.html">mcstd.h</a>&quot;</code><br/>

<p><a href="midas_2drivers_2bus_2hyt1331_8c_source.html">Go to the source code of this file.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="midas_2drivers_2bus_2hyt1331_8c.html#a4e132cfaa78353e3af1474a86b2dd535">MAX_DEVICES</a>&nbsp;&nbsp;&nbsp;4</td></tr>
<tr><td colspan="2"><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">INLINE void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mcstdinclude.html#ga17a49433504fccff1b8a618aba63ac81">cam8i</a> (const int <a class="el" href="show__pulses_8cxx.html#a63b96401309cc0c66ce6c88f1783d7c2">c</a>, const int <a class="el" href="mana__orig_8c.html#a228a29e4d9ddfb6bc4994455a321bdc4">n</a>, const int a, const int f, <a class="el" href="usb_8h.html#a4ae1dab0fb4b072a66584546209e7d58">BYTE</a> *<a class="el" href="hwtest_8c.html#a873684cefeb665f3d5e6b495de57fc0d">d</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">INLINE void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mcstdfunctionh.html#ga859bdf77e425ce09a21c873a86c8af70">cami</a> (const int <a class="el" href="show__pulses_8cxx.html#a63b96401309cc0c66ce6c88f1783d7c2">c</a>, const int <a class="el" href="mana__orig_8c.html#a228a29e4d9ddfb6bc4994455a321bdc4">n</a>, const int a, const int f, <a class="el" href="unionWORD.html">WORD</a> *<a class="el" href="hwtest_8c.html#a873684cefeb665f3d5e6b495de57fc0d">d</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">INLINE void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mcstdfunctionh.html#gad17f339ee8254f1aad6b406e50ebd4a8">cam16i</a> (const int <a class="el" href="show__pulses_8cxx.html#a63b96401309cc0c66ce6c88f1783d7c2">c</a>, const int <a class="el" href="mana__orig_8c.html#a228a29e4d9ddfb6bc4994455a321bdc4">n</a>, const int a, const int f, <a class="el" href="unionWORD.html">WORD</a> *<a class="el" href="hwtest_8c.html#a873684cefeb665f3d5e6b495de57fc0d">d</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">INLINE void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mcstdfunctionh.html#ga84d45a99ef748664e1eead0a5da4d862">cam24i</a> (const int <a class="el" href="show__pulses_8cxx.html#a63b96401309cc0c66ce6c88f1783d7c2">c</a>, const int <a class="el" href="mana__orig_8c.html#a228a29e4d9ddfb6bc4994455a321bdc4">n</a>, const int a, const int f, <a class="el" href="odbhist_8c.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> *<a class="el" href="hwtest_8c.html#a873684cefeb665f3d5e6b495de57fc0d">d</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">INLINE void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mcstdfunctionh.html#gad21ad710943e2ab5df6f8e609afeebfe">cam8i_q</a> (const int <a class="el" href="show__pulses_8cxx.html#a63b96401309cc0c66ce6c88f1783d7c2">c</a>, const int <a class="el" href="mana__orig_8c.html#a228a29e4d9ddfb6bc4994455a321bdc4">n</a>, const int a, const int f, <a class="el" href="usb_8h.html#a4ae1dab0fb4b072a66584546209e7d58">BYTE</a> *<a class="el" href="hwtest_8c.html#a873684cefeb665f3d5e6b495de57fc0d">d</a>, int *x, int *q)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">INLINE void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mcstdfunctionh.html#ga2a515796e8020af32ea0e5aad490a170">cam16i_q</a> (const int <a class="el" href="show__pulses_8cxx.html#a63b96401309cc0c66ce6c88f1783d7c2">c</a>, const int <a class="el" href="mana__orig_8c.html#a228a29e4d9ddfb6bc4994455a321bdc4">n</a>, const int a, const int f, <a class="el" href="unionWORD.html">WORD</a> *<a class="el" href="hwtest_8c.html#a873684cefeb665f3d5e6b495de57fc0d">d</a>, int *x, int *q)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">INLINE void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mcstdfunctionh.html#ga0f1b4435d6f1fea0e5787a5c2388b41c">cam24i_q</a> (const int <a class="el" href="show__pulses_8cxx.html#a63b96401309cc0c66ce6c88f1783d7c2">c</a>, const int <a class="el" href="mana__orig_8c.html#a228a29e4d9ddfb6bc4994455a321bdc4">n</a>, const int a, const int f, <a class="el" href="odbhist_8c.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> *<a class="el" href="hwtest_8c.html#a873684cefeb665f3d5e6b495de57fc0d">d</a>, int *x, int *q)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">INLINE void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mcstdfunctionh.html#ga2c3c3cdd300fee9d03e3c426dad38e7c">cam16i_r</a> (const int <a class="el" href="show__pulses_8cxx.html#a63b96401309cc0c66ce6c88f1783d7c2">c</a>, const int <a class="el" href="mana__orig_8c.html#a228a29e4d9ddfb6bc4994455a321bdc4">n</a>, const int a, const int f, <a class="el" href="unionWORD.html">WORD</a> **<a class="el" href="hwtest_8c.html#a873684cefeb665f3d5e6b495de57fc0d">d</a>, const int r)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">INLINE void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mcstdfunctionh.html#gafe207e922a73f0b30e290e830808ec61">cam24i_r</a> (const int <a class="el" href="show__pulses_8cxx.html#a63b96401309cc0c66ce6c88f1783d7c2">c</a>, const int <a class="el" href="mana__orig_8c.html#a228a29e4d9ddfb6bc4994455a321bdc4">n</a>, const int a, const int f, <a class="el" href="odbhist_8c.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> **<a class="el" href="hwtest_8c.html#a873684cefeb665f3d5e6b495de57fc0d">d</a>, const int r)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">INLINE void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mcstdfunctionh.html#ga4a234b702b8b906b0cca1bcbdb01ca27">cam16i_rq</a> (const int <a class="el" href="show__pulses_8cxx.html#a63b96401309cc0c66ce6c88f1783d7c2">c</a>, const int <a class="el" href="mana__orig_8c.html#a228a29e4d9ddfb6bc4994455a321bdc4">n</a>, const int a, const int f, <a class="el" href="unionWORD.html">WORD</a> **<a class="el" href="hwtest_8c.html#a873684cefeb665f3d5e6b495de57fc0d">d</a>, const int r)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">INLINE void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mcstdfunctionh.html#ga6a2d5a0785b2ccc27fc9e2769f749b10">cam24i_rq</a> (const int <a class="el" href="show__pulses_8cxx.html#a63b96401309cc0c66ce6c88f1783d7c2">c</a>, const int <a class="el" href="mana__orig_8c.html#a228a29e4d9ddfb6bc4994455a321bdc4">n</a>, const int a, const int f, <a class="el" href="odbhist_8c.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> **<a class="el" href="hwtest_8c.html#a873684cefeb665f3d5e6b495de57fc0d">d</a>, const int r)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">INLINE void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mcstdfunctionh.html#ga2486ffaca1f0a3bef21952140957febe">cam16i_sa</a> (const int <a class="el" href="show__pulses_8cxx.html#a63b96401309cc0c66ce6c88f1783d7c2">c</a>, const int <a class="el" href="mana__orig_8c.html#a228a29e4d9ddfb6bc4994455a321bdc4">n</a>, const int a, const int f, <a class="el" href="unionWORD.html">WORD</a> **<a class="el" href="hwtest_8c.html#a873684cefeb665f3d5e6b495de57fc0d">d</a>, const int r)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">INLINE void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mcstdfunctionh.html#ga77a1df9e51c7cd35efb9575e48fac6b2">cam24i_sa</a> (const int <a class="el" href="show__pulses_8cxx.html#a63b96401309cc0c66ce6c88f1783d7c2">c</a>, const int <a class="el" href="mana__orig_8c.html#a228a29e4d9ddfb6bc4994455a321bdc4">n</a>, const int a, const int f, <a class="el" href="odbhist_8c.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> **<a class="el" href="hwtest_8c.html#a873684cefeb665f3d5e6b495de57fc0d">d</a>, const int r)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">INLINE void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mcstdfunctionh.html#gad17ca468489b8b10bb9317a72d139a05">cam16i_sn</a> (const int <a class="el" href="show__pulses_8cxx.html#a63b96401309cc0c66ce6c88f1783d7c2">c</a>, const int <a class="el" href="mana__orig_8c.html#a228a29e4d9ddfb6bc4994455a321bdc4">n</a>, const int a, const int f, <a class="el" href="unionWORD.html">WORD</a> **<a class="el" href="hwtest_8c.html#a873684cefeb665f3d5e6b495de57fc0d">d</a>, const int r)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">INLINE void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mcstdfunctionh.html#gaeca899e6d3a4fd8992f3556fe0f78038">cam24i_sn</a> (const int <a class="el" href="show__pulses_8cxx.html#a63b96401309cc0c66ce6c88f1783d7c2">c</a>, const int <a class="el" href="mana__orig_8c.html#a228a29e4d9ddfb6bc4994455a321bdc4">n</a>, const int a, const int f, <a class="el" href="odbhist_8c.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> **<a class="el" href="hwtest_8c.html#a873684cefeb665f3d5e6b495de57fc0d">d</a>, const int r)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">INLINE void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mcstdfunctionh.html#gaf4fc105dccac5ca09337af789f554831">cam8o</a> (const int <a class="el" href="show__pulses_8cxx.html#a63b96401309cc0c66ce6c88f1783d7c2">c</a>, const int <a class="el" href="mana__orig_8c.html#a228a29e4d9ddfb6bc4994455a321bdc4">n</a>, const int a, const int f, <a class="el" href="usb_8h.html#a4ae1dab0fb4b072a66584546209e7d58">BYTE</a> <a class="el" href="hwtest_8c.html#a873684cefeb665f3d5e6b495de57fc0d">d</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">INLINE void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mcstdfunctionh.html#ga0c0e5e0a19205781825e673e694db77f">camo</a> (const int <a class="el" href="show__pulses_8cxx.html#a63b96401309cc0c66ce6c88f1783d7c2">c</a>, const int <a class="el" href="mana__orig_8c.html#a228a29e4d9ddfb6bc4994455a321bdc4">n</a>, const int a, const int f, <a class="el" href="unionWORD.html">WORD</a> <a class="el" href="hwtest_8c.html#a873684cefeb665f3d5e6b495de57fc0d">d</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">INLINE void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mcstdfunctionh.html#gadee944c3c864999f507a2df2a50f1f1f">cam16o</a> (const int <a class="el" href="show__pulses_8cxx.html#a63b96401309cc0c66ce6c88f1783d7c2">c</a>, const int <a class="el" href="mana__orig_8c.html#a228a29e4d9ddfb6bc4994455a321bdc4">n</a>, const int a, const int f, <a class="el" href="unionWORD.html">WORD</a> <a class="el" href="hwtest_8c.html#a873684cefeb665f3d5e6b495de57fc0d">d</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">INLINE void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mcstdfunctionh.html#ga9916a212b322def800695ab893b245b3">cam24o</a> (const int <a class="el" href="show__pulses_8cxx.html#a63b96401309cc0c66ce6c88f1783d7c2">c</a>, const int <a class="el" href="mana__orig_8c.html#a228a29e4d9ddfb6bc4994455a321bdc4">n</a>, const int a, const int f, <a class="el" href="odbhist_8c.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> <a class="el" href="hwtest_8c.html#a873684cefeb665f3d5e6b495de57fc0d">d</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">INLINE void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mcstdfunctionh.html#ga971dc315017a5801f0131c4c2d396d28">cam16o_q</a> (const int <a class="el" href="show__pulses_8cxx.html#a63b96401309cc0c66ce6c88f1783d7c2">c</a>, const int <a class="el" href="mana__orig_8c.html#a228a29e4d9ddfb6bc4994455a321bdc4">n</a>, const int a, const int f, <a class="el" href="unionWORD.html">WORD</a> <a class="el" href="hwtest_8c.html#a873684cefeb665f3d5e6b495de57fc0d">d</a>, int *x, int *q)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">INLINE void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mcstdfunctionh.html#gaefe50b118a37b83b19a3804a6759d8bd">cam24o_q</a> (const int <a class="el" href="show__pulses_8cxx.html#a63b96401309cc0c66ce6c88f1783d7c2">c</a>, const int <a class="el" href="mana__orig_8c.html#a228a29e4d9ddfb6bc4994455a321bdc4">n</a>, const int a, const int f, <a class="el" href="odbhist_8c.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> <a class="el" href="hwtest_8c.html#a873684cefeb665f3d5e6b495de57fc0d">d</a>, int *x, int *q)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">INLINE void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mcstdfunctionh.html#ga6a38e31772c0376e9a709cd42d6b94e7">cam8o_r</a> (const int <a class="el" href="show__pulses_8cxx.html#a63b96401309cc0c66ce6c88f1783d7c2">c</a>, const int <a class="el" href="mana__orig_8c.html#a228a29e4d9ddfb6bc4994455a321bdc4">n</a>, const int a, const int f, <a class="el" href="usb_8h.html#a4ae1dab0fb4b072a66584546209e7d58">BYTE</a> *<a class="el" href="hwtest_8c.html#a873684cefeb665f3d5e6b495de57fc0d">d</a>, const int r)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">INLINE void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mcstdfunctionh.html#ga775c859ad1eb0a301d8716b369d43400">cam16o_r</a> (const int <a class="el" href="show__pulses_8cxx.html#a63b96401309cc0c66ce6c88f1783d7c2">c</a>, const int <a class="el" href="mana__orig_8c.html#a228a29e4d9ddfb6bc4994455a321bdc4">n</a>, const int a, const int f, <a class="el" href="unionWORD.html">WORD</a> *<a class="el" href="hwtest_8c.html#a873684cefeb665f3d5e6b495de57fc0d">d</a>, const int r)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">INLINE void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mcstdfunctionh.html#gae776beaa8eae13f75edf286ed0a75a88">cam24o_r</a> (const int <a class="el" href="show__pulses_8cxx.html#a63b96401309cc0c66ce6c88f1783d7c2">c</a>, const int <a class="el" href="mana__orig_8c.html#a228a29e4d9ddfb6bc4994455a321bdc4">n</a>, const int a, const int f, <a class="el" href="odbhist_8c.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> *<a class="el" href="hwtest_8c.html#a873684cefeb665f3d5e6b495de57fc0d">d</a>, const int r)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">INLINE int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mcstdfunctionh.html#gabffc7c8094fc71d3e2bcd6be9cd0c9a3">camc_chk</a> (const int <a class="el" href="show__pulses_8cxx.html#a63b96401309cc0c66ce6c88f1783d7c2">c</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">INLINE void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mcstdfunctionh.html#ga3840e8a0619db3b383cc2829b83b8e6a">camc</a> (const int <a class="el" href="show__pulses_8cxx.html#a63b96401309cc0c66ce6c88f1783d7c2">c</a>, const int <a class="el" href="mana__orig_8c.html#a228a29e4d9ddfb6bc4994455a321bdc4">n</a>, const int a, const int f)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">INLINE void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mcstdfunctionh.html#gac33eb92d1f484fe1e76fdc001eefe48b">camc_q</a> (const int <a class="el" href="show__pulses_8cxx.html#a63b96401309cc0c66ce6c88f1783d7c2">c</a>, const int <a class="el" href="mana__orig_8c.html#a228a29e4d9ddfb6bc4994455a321bdc4">n</a>, const int a, const int f, int *q)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">INLINE void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mcstdfunctionh.html#ga27478b06e734c38fc4fe80dc09800885">camc_sa</a> (const int <a class="el" href="show__pulses_8cxx.html#a63b96401309cc0c66ce6c88f1783d7c2">c</a>, const int <a class="el" href="mana__orig_8c.html#a228a29e4d9ddfb6bc4994455a321bdc4">n</a>, const int a, const int f, const int r)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">INLINE void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mcstdfunctionh.html#gac0cc56a7f806a800509f819a91a9e1c6">camc_sn</a> (const int <a class="el" href="show__pulses_8cxx.html#a63b96401309cc0c66ce6c88f1783d7c2">c</a>, const int <a class="el" href="mana__orig_8c.html#a228a29e4d9ddfb6bc4994455a321bdc4">n</a>, const int a, const int f, const int r)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">INLINE void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mcstdfunctionh.html#gaa171934ed8e8ce2af3ec97f4192aa27b">cam_inhibit_set</a> (const int <a class="el" href="show__pulses_8cxx.html#a63b96401309cc0c66ce6c88f1783d7c2">c</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">INLINE void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mcstdfunctionh.html#gaaf50e8892fd5226754befa7185c9dc3a">cam_inhibit_clear</a> (const int <a class="el" href="show__pulses_8cxx.html#a63b96401309cc0c66ce6c88f1783d7c2">c</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">INLINE int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mcstdfunctionh.html#ga9bf24cf17380c556bda27c53c7bfb248">cam_inhibit_test</a> (const int <a class="el" href="show__pulses_8cxx.html#a63b96401309cc0c66ce6c88f1783d7c2">c</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">INLINE void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mcstdfunctionh.html#ga9fb70c7c5fb16d3807373902b137fe3e">cam_crate_clear</a> (const int <a class="el" href="show__pulses_8cxx.html#a63b96401309cc0c66ce6c88f1783d7c2">c</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">INLINE void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mcstdfunctionh.html#ga476ffc902c4674e17aa3b544781023e4">cam_crate_zinit</a> (const int <a class="el" href="show__pulses_8cxx.html#a63b96401309cc0c66ce6c88f1783d7c2">c</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">INLINE void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mcstdfunctionh.html#ga3b676540b901e12fc4fd6a8495d612eb">cam_lam_enable</a> (const int <a class="el" href="show__pulses_8cxx.html#a63b96401309cc0c66ce6c88f1783d7c2">c</a>, const int <a class="el" href="mana__orig_8c.html#a228a29e4d9ddfb6bc4994455a321bdc4">n</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">INLINE void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mcstdfunctionh.html#gac24088d63d7b5b460a93eba5fbd32518">cam_lam_disable</a> (const int <a class="el" href="show__pulses_8cxx.html#a63b96401309cc0c66ce6c88f1783d7c2">c</a>, const int <a class="el" href="mana__orig_8c.html#a228a29e4d9ddfb6bc4994455a321bdc4">n</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">INLINE void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mcstdfunctionh.html#ga5d95207e772c732839b0010706c1ecc9">cam_interrupt_enable</a> (const int <a class="el" href="show__pulses_8cxx.html#a63b96401309cc0c66ce6c88f1783d7c2">c</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">INLINE void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mcstdfunctionh.html#ga21c6d5bd474679bf5a810560564c7677">cam_interrupt_disable</a> (const int <a class="el" href="show__pulses_8cxx.html#a63b96401309cc0c66ce6c88f1783d7c2">c</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">INLINE int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mcstdfunctionh.html#ga2d49cca206c1483a05bf5d13c37ae48a">cam_interrupt_test</a> (const int <a class="el" href="show__pulses_8cxx.html#a63b96401309cc0c66ce6c88f1783d7c2">c</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">INLINE void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mcstdfunctionh.html#ga39be24f9fa9fb8601023665fe896d401">cam_lam_read</a> (const int <a class="el" href="show__pulses_8cxx.html#a63b96401309cc0c66ce6c88f1783d7c2">c</a>, <a class="el" href="odbhist_8c.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> *lam)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">INLINE void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mcstdfunctionh.html#ga1ec1e961fe6664de573a78181b2f111c">cam_lam_clear</a> (const int <a class="el" href="show__pulses_8cxx.html#a63b96401309cc0c66ce6c88f1783d7c2">c</a>, const int <a class="el" href="mana__orig_8c.html#a228a29e4d9ddfb6bc4994455a321bdc4">n</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">INLINE int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mcstdfunctionh.html#ga43ddc19c70912fb0eb4091579849e2ca">cam_init_rpc</a> (char *<a class="el" href="webpaw_8c.html#af30d16605d5c80183cd199983a653081">host_name</a>, char *<a class="el" href="mhttpd_8c.html#a2f66ab590c0bf6aa5385f2c964eef5fe">exp_name</a>, char *fe_name, char *client_name, char *rpc_server)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="midas_2drivers_2bus_2hyt1331_8c.html#a5a76b9f71f2964d507d1c7968dc008fe">directio_give_port</a> (<a class="el" href="odbhist_8c.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> start, <a class="el" href="odbhist_8c.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> end)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="midas_2drivers_2bus_2hyt1331_8c.html#a8293d130f903a2b38dbec168053ebda1">directio_lock_port</a> (<a class="el" href="odbhist_8c.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> start, <a class="el" href="odbhist_8c.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> end)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="midas_2drivers_2bus_2hyt1331_8c.html#a73694b605a850dd9759775da7777a651">pci_scan</a> (int vendor_id, int device_id, int n_dev, <a class="el" href="usb_8h.html#a4ae1dab0fb4b072a66584546209e7d58">BYTE</a> *pirq, <a class="el" href="odbhist_8c.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> *ba)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="midas_2drivers_2bus_2hyt1331_8c.html#adc5120cc00554838e92584d8d4c94a19">catch_sigsegv</a> (int signo)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">INLINE int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mcstdfunctionh.html#ga6c97ce64e84d233efe4de457ec495d2f">cam_init</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">INLINE void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mcstdfunctionh.html#ga115c540e273dd1e07d72fe82da4ba98d">cam_exit</a> (void)</td></tr>
<tr><td colspan="2"><h2>Variables</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="unionWORD.html">WORD</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="midas_2drivers_2bus_2hyt1331_8c.html#af2794cbab74b58909616c3f3c8372ac7">io_base</a> [MAX_DEVICES]</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="usb_8h.html#a4ae1dab0fb4b072a66584546209e7d58">BYTE</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="midas_2drivers_2bus_2hyt1331_8c.html#ae960f3d6d8d9d8c9b29337a4983563c4">irq</a> [MAX_DEVICES]</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="midas_2drivers_2bus_2hyt1331_8c.html#a64b0c10e69ac977302ad336a03670d19">gbl_sw1d</a> [MAX_DEVICES]</td></tr>
</table>
<hr/><h2>Define Documentation</h2>
<a class="anchor" id="a4e132cfaa78353e3af1474a86b2dd535"></a><!-- doxytag: member="hyt1331.c::MAX_DEVICES" ref="a4e132cfaa78353e3af1474a86b2dd535" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MAX_DEVICES&nbsp;&nbsp;&nbsp;4</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="midas_2drivers_2bus_2hyt1331_8c_source.html#l00116">116</a> of file <a class="el" href="midas_2drivers_2bus_2hyt1331_8c_source.html">hyt1331.c</a>.</p>

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="adc5120cc00554838e92584d8d4c94a19"></a><!-- doxytag: member="hyt1331.c::catch_sigsegv" ref="adc5120cc00554838e92584d8d4c94a19" args="(int signo)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void catch_sigsegv </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>signo</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="midas_2drivers_2bus_2hyt1331_8c_source.html#l01045">1045</a> of file <a class="el" href="midas_2drivers_2bus_2hyt1331_8c_source.html">hyt1331.c</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l01046"></a>01046 {
<a name="l01047"></a>01047    printf
<a name="l01048"></a>01048        (<span class="stringliteral">&quot;Cannot access ports. Please run with \&quot;dio &lt;prog&gt;\&quot; or compile with \&quot;-DDO_IOPERM\&quot;\n&quot;</span>);
<a name="l01049"></a>01049    signal(SIGSEGV, SIG_DFL);
<a name="l01050"></a>01050 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a5a76b9f71f2964d507d1c7968dc008fe"></a><!-- doxytag: member="hyt1331.c::directio_give_port" ref="a5a76b9f71f2964d507d1c7968dc008fe" args="(DWORD start, DWORD end)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int directio_give_port </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="odbhist_8c.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a>&nbsp;</td>
          <td class="paramname"> <em>start</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="odbhist_8c.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a>&nbsp;</td>
          <td class="paramname"> <em>end</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="midas_2drivers_2bus_2hyt1331_8c_source.html#l00835">835</a> of file <a class="el" href="midas_2drivers_2bus_2hyt1331_8c_source.html">hyt1331.c</a>.</p>

<p>References <a class="el" href="fal_8c_source.html#l00201">buffer</a>, and <a class="el" href="ybos_8c_source.html#l00373">size</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00836"></a>00836 {
<a name="l00837"></a>00837 <span class="preprocessor">#ifdef _MSC_VER</span>
<a name="l00838"></a>00838 <span class="preprocessor"></span>
<a name="l00839"></a>00839    <span class="comment">/* under Windows NT, use DirectIO driver to open ports */</span>
<a name="l00840"></a>00840 
<a name="l00841"></a>00841    OSVERSIONINFO vi;
<a name="l00842"></a>00842    HANDLE hdio = 0;
<a name="l00843"></a>00843    <a class="code" href="group__mvmestdinclude.html#ga798af1e30bc65f319c1a246cecf59e39">DWORD</a> <a class="code" href="fal_8c.html#a368f7094dc38acca20612bbb392552f4">buffer</a>[] = { 6, 0, 0, 0 };
<a name="l00844"></a>00844    <a class="code" href="group__mvmestdinclude.html#ga798af1e30bc65f319c1a246cecf59e39">DWORD</a> <a class="code" href="ybos_8c.html#adfdd3a80d1d8ea7918a6d1ebee518102">size</a>;
<a name="l00845"></a>00845 
<a name="l00846"></a>00846    vi.dwOSVersionInfoSize = <span class="keyword">sizeof</span>(OSVERSIONINFO);
<a name="l00847"></a>00847    GetVersionEx(&amp;vi);
<a name="l00848"></a>00848 
<a name="l00849"></a>00849    <span class="comment">/* use DirectIO driver under NT to gain port access */</span>
<a name="l00850"></a>00850    <span class="keywordflow">if</span> (vi.dwPlatformId == VER_PLATFORM_WIN32_NT) {
<a name="l00851"></a>00851       hdio = CreateFile(<span class="stringliteral">&quot;\\\\.\\directio&quot;</span>, GENERIC_READ, FILE_SHARE_READ, NULL,
<a name="l00852"></a>00852                         OPEN_EXISTING, 0, NULL);
<a name="l00853"></a>00853       <span class="keywordflow">if</span> (hdio == INVALID_HANDLE_VALUE) {
<a name="l00854"></a>00854          printf(<span class="stringliteral">&quot;hyt1331.c: Cannot access IO ports (No DirectIO driver installed)\n&quot;</span>);
<a name="l00855"></a>00855          <span class="keywordflow">return</span> -1;
<a name="l00856"></a>00856       }
<a name="l00857"></a>00857 
<a name="l00858"></a>00858       <span class="comment">/* open ports */</span>
<a name="l00859"></a>00859       buffer[1] = start;
<a name="l00860"></a>00860       buffer[2] = <a class="code" href="examples_2macro_2midas__macro_8h.html#a2fb839951208a8400aa14d71d7c6f974">end</a>;
<a name="l00861"></a>00861       <span class="keywordflow">if</span> (!DeviceIoControl(hdio, (<a class="code" href="group__mvmestdinclude.html#ga798af1e30bc65f319c1a246cecf59e39">DWORD</a>) 0x9c406000, &amp;buffer, <span class="keyword">sizeof</span>(buffer),
<a name="l00862"></a>00862                            NULL, 0, &amp;size, NULL))
<a name="l00863"></a>00863          <span class="keywordflow">return</span> -1;
<a name="l00864"></a>00864    }
<a name="l00865"></a>00865 
<a name="l00866"></a>00866    <span class="keywordflow">return</span> 0;
<a name="l00867"></a>00867 
<a name="l00868"></a>00868 <span class="preprocessor">#elif defined(__linux__)</span>
<a name="l00869"></a>00869 <span class="preprocessor"></span>
<a name="l00870"></a>00870    <span class="comment">/*</span>
<a name="l00871"></a>00871 <span class="comment">      In order to access the IO ports of the CAMAC interface, one needs</span>
<a name="l00872"></a>00872 <span class="comment">      to call the ioperm() function for those ports. This requires root</span>
<a name="l00873"></a>00873 <span class="comment">      privileges. For normal operation, this is performed by the &quot;dio&quot;</span>
<a name="l00874"></a>00874 <span class="comment">      program, which is a &quot;setuid&quot; program having temporarily root privi-</span>
<a name="l00875"></a>00875 <span class="comment">      lege. So the user program is started with &quot;dio &lt;program&gt;&quot;. Since the</span>
<a name="l00876"></a>00876 <span class="comment">      program cannot be debugged through the dio program, we suplly here</span>
<a name="l00877"></a>00877 <span class="comment">      the direct ioperm call which requires the program to be run as root,</span>
<a name="l00878"></a>00878 <span class="comment">      making it possible to debug it. The program has then to be compiled</span>
<a name="l00879"></a>00879 <span class="comment">      with &quot;gcc -DDO_IOPERM -o &lt;program&gt; &lt;program&gt;.c hyt1331.c ...&quot;</span>
<a name="l00880"></a>00880 <span class="comment">    */</span>
<a name="l00881"></a>00881 
<a name="l00882"></a>00882 <span class="preprocessor">#ifdef DO_IOPERM</span>
<a name="l00883"></a>00883 <span class="preprocessor"></span>
<a name="l00884"></a>00884    <span class="keywordflow">if</span> (<a class="code" href="examples_2macro_2midas__macro_8h.html#a2fb839951208a8400aa14d71d7c6f974">end</a> &lt;= 0x3FF) {
<a name="l00885"></a>00885       <span class="keywordflow">if</span> (ioperm(start, <a class="code" href="examples_2macro_2midas__macro_8h.html#a2fb839951208a8400aa14d71d7c6f974">end</a> - start + 1, 1) &lt; 0) {
<a name="l00886"></a>00886          printf(<span class="stringliteral">&quot;hyt1331.c: Cannot call ioperm() (no root privileges)\n&quot;</span>);
<a name="l00887"></a>00887          <span class="keywordflow">return</span> -1;
<a name="l00888"></a>00888       }
<a name="l00889"></a>00889    } <span class="keywordflow">else</span> {
<a name="l00890"></a>00890       <span class="keywordflow">if</span> (iopl(3) &lt; 0) {
<a name="l00891"></a>00891          printf(<span class="stringliteral">&quot;hyt1331.c: Cannot call iopl() (no root privileges)\n&quot;</span>);
<a name="l00892"></a>00892          <span class="keywordflow">return</span> -1;
<a name="l00893"></a>00893       }
<a name="l00894"></a>00894    }
<a name="l00895"></a>00895 
<a name="l00896"></a>00896 <span class="preprocessor">#endif</span>
<a name="l00897"></a>00897 <span class="preprocessor"></span>
<a name="l00898"></a>00898    <span class="keywordflow">return</span> 0;
<a name="l00899"></a>00899 
<a name="l00900"></a>00900 <span class="preprocessor">#else</span>
<a name="l00901"></a>00901 <span class="preprocessor"></span><span class="preprocessor">#error This driver cannot be compiled under this operating system</span>
<a name="l00902"></a>00902 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00903"></a>00903 <span class="preprocessor"></span>}
</pre></div></p>

</div>
</div>
<a class="anchor" id="a8293d130f903a2b38dbec168053ebda1"></a><!-- doxytag: member="hyt1331.c::directio_lock_port" ref="a8293d130f903a2b38dbec168053ebda1" args="(DWORD start, DWORD end)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int directio_lock_port </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="odbhist_8c.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a>&nbsp;</td>
          <td class="paramname"> <em>start</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="odbhist_8c.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a>&nbsp;</td>
          <td class="paramname"> <em>end</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="midas_2drivers_2bus_2hyt1331_8c_source.html#l00907">907</a> of file <a class="el" href="midas_2drivers_2bus_2hyt1331_8c_source.html">hyt1331.c</a>.</p>

<p>References <a class="el" href="fal_8c_source.html#l00201">buffer</a>, and <a class="el" href="ybos_8c_source.html#l00373">size</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00908"></a>00908 {
<a name="l00909"></a>00909 <span class="preprocessor">#ifdef _MSC_VER</span>
<a name="l00910"></a>00910 <span class="preprocessor"></span>
<a name="l00911"></a>00911    <span class="comment">/* under Windows NT, use DirectIO driver to lock ports */</span>
<a name="l00912"></a>00912 
<a name="l00913"></a>00913    OSVERSIONINFO vi;
<a name="l00914"></a>00914    HANDLE hdio;
<a name="l00915"></a>00915    <a class="code" href="group__mvmestdinclude.html#ga798af1e30bc65f319c1a246cecf59e39">DWORD</a> <a class="code" href="fal_8c.html#a368f7094dc38acca20612bbb392552f4">buffer</a>[] = { 7, 0, 0, 0 };
<a name="l00916"></a>00916    <a class="code" href="group__mvmestdinclude.html#ga798af1e30bc65f319c1a246cecf59e39">DWORD</a> <a class="code" href="ybos_8c.html#adfdd3a80d1d8ea7918a6d1ebee518102">size</a>;
<a name="l00917"></a>00917 
<a name="l00918"></a>00918    vi.dwOSVersionInfoSize = <span class="keyword">sizeof</span>(OSVERSIONINFO);
<a name="l00919"></a>00919    GetVersionEx(&amp;vi);
<a name="l00920"></a>00920 
<a name="l00921"></a>00921    <span class="comment">/* use DirectIO driver under NT to gain port access */</span>
<a name="l00922"></a>00922    <span class="keywordflow">if</span> (vi.dwPlatformId == VER_PLATFORM_WIN32_NT) {
<a name="l00923"></a>00923       hdio = CreateFile(<span class="stringliteral">&quot;\\\\.\\directio&quot;</span>, GENERIC_READ, FILE_SHARE_READ, NULL,
<a name="l00924"></a>00924                         OPEN_EXISTING, 0, NULL);
<a name="l00925"></a>00925       <span class="keywordflow">if</span> (hdio == INVALID_HANDLE_VALUE) {
<a name="l00926"></a>00926          printf(<span class="stringliteral">&quot;hyt1331.c: Cannot access IO ports (No DirectIO driver installed)\n&quot;</span>);
<a name="l00927"></a>00927          <span class="keywordflow">return</span> -1;
<a name="l00928"></a>00928       }
<a name="l00929"></a>00929 
<a name="l00930"></a>00930       <span class="comment">/* lock ports */</span>
<a name="l00931"></a>00931       buffer[1] = start;
<a name="l00932"></a>00932       buffer[2] = <a class="code" href="examples_2macro_2midas__macro_8h.html#a2fb839951208a8400aa14d71d7c6f974">end</a>;
<a name="l00933"></a>00933       <span class="keywordflow">if</span> (!DeviceIoControl(hdio, (<a class="code" href="group__mvmestdinclude.html#ga798af1e30bc65f319c1a246cecf59e39">DWORD</a>) 0x9c406000, &amp;buffer, <span class="keyword">sizeof</span>(buffer),
<a name="l00934"></a>00934                            NULL, 0, &amp;size, NULL))
<a name="l00935"></a>00935          <span class="keywordflow">return</span> -1;
<a name="l00936"></a>00936    }
<a name="l00937"></a>00937 
<a name="l00938"></a>00938    <span class="keywordflow">return</span> 0;
<a name="l00939"></a>00939 
<a name="l00940"></a>00940 <span class="preprocessor">#elif defined(__linux__)</span>
<a name="l00941"></a>00941 <span class="preprocessor"></span>
<a name="l00942"></a>00942 <span class="preprocessor">#ifdef DO_IOPERM</span>
<a name="l00943"></a>00943 <span class="preprocessor"></span>
<a name="l00944"></a>00944    <span class="keywordflow">if</span> (<a class="code" href="examples_2macro_2midas__macro_8h.html#a2fb839951208a8400aa14d71d7c6f974">end</a> &lt;= 0x3FF) {
<a name="l00945"></a>00945       <span class="keywordflow">if</span> (ioperm(start, <a class="code" href="examples_2macro_2midas__macro_8h.html#a2fb839951208a8400aa14d71d7c6f974">end</a> - start + 0, 0) &lt; 0) {
<a name="l00946"></a>00946          printf(<span class="stringliteral">&quot;hyt1331.c: Cannot call ioperm() (no root privileges)\n&quot;</span>);
<a name="l00947"></a>00947          <span class="keywordflow">return</span> -1;
<a name="l00948"></a>00948       }
<a name="l00949"></a>00949    } <span class="keywordflow">else</span> {
<a name="l00950"></a>00950       <span class="keywordflow">if</span> (iopl(0) &lt; 0) {
<a name="l00951"></a>00951          printf(<span class="stringliteral">&quot;hyt1331.c: Cannot call iopl() (no root privileges)\n&quot;</span>);
<a name="l00952"></a>00952          <span class="keywordflow">return</span> -1;
<a name="l00953"></a>00953       }
<a name="l00954"></a>00954    }
<a name="l00955"></a>00955 
<a name="l00956"></a>00956 <span class="preprocessor">#endif</span>
<a name="l00957"></a>00957 <span class="preprocessor"></span>
<a name="l00958"></a>00958    <span class="keywordflow">return</span> 0;
<a name="l00959"></a>00959 
<a name="l00960"></a>00960 <span class="preprocessor">#endif</span>
<a name="l00961"></a>00961 <span class="preprocessor"></span>}
</pre></div></p>

</div>
</div>
<a class="anchor" id="a73694b605a850dd9759775da7777a651"></a><!-- doxytag: member="hyt1331.c::pci_scan" ref="a73694b605a850dd9759775da7777a651" args="(int vendor_id, int device_id, int n_dev, BYTE *pirq, DWORD *ba)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int pci_scan </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>vendor_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>device_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>n_dev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="usb_8h.html#a4ae1dab0fb4b072a66584546209e7d58">BYTE</a> *&nbsp;</td>
          <td class="paramname"> <em>pirq</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="odbhist_8c.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> *&nbsp;</td>
          <td class="paramname"> <em>ba</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="midas_2drivers_2bus_2hyt1331_8c_source.html#l00965">965</a> of file <a class="el" href="midas_2drivers_2bus_2hyt1331_8c_source.html">hyt1331.c</a>.</p>

<p>References <a class="el" href="fal_8c_source.html#l00201">buffer</a>, <a class="el" href="crate6__CAEN__TDC_2hyt1331_8c_source.html#l00119">irq</a>, <a class="el" href="camac_8c_source.html#l00506">n</a>, and <a class="el" href="ybos_8c_source.html#l00373">size</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00966"></a>00966 {
<a name="l00967"></a>00967 <span class="preprocessor">#ifdef __linux__</span>
<a name="l00968"></a>00968 <span class="preprocessor"></span>
<a name="l00969"></a>00969    FILE *f;
<a name="l00970"></a>00970    <span class="keywordtype">char</span> line[1000];
<a name="l00971"></a>00971    <span class="keywordtype">int</span> <a class="code" href="camac_8c.html#a76f11d9a0a47b94f72c2d0e77fb32240">n</a>;
<a name="l00972"></a>00972    <a class="code" href="group__mvmestdinclude.html#ga798af1e30bc65f319c1a246cecf59e39">DWORD</a> base_addr[6], <a class="code" href="crate6__CAEN__TDC_2hyt1331_8c.html#ae960f3d6d8d9d8c9b29337a4983563c4">irq</a>, dfn, vend, vend_id, dev_id;
<a name="l00973"></a>00973 
<a name="l00974"></a>00974    f = fopen(<span class="stringliteral">&quot;/proc/bus/pci/devices&quot;</span>, <span class="stringliteral">&quot;r&quot;</span>);
<a name="l00975"></a>00975    <span class="keywordflow">if</span> (f == NULL)
<a name="l00976"></a>00976       <span class="keywordflow">return</span> 0;
<a name="l00977"></a>00977 
<a name="l00978"></a>00978    n = 0;
<a name="l00979"></a>00979    <span class="keywordflow">while</span> (fgets(line, <span class="keyword">sizeof</span>(line), f)) {
<a name="l00980"></a>00980       sscanf(line, <span class="stringliteral">&quot;%x %x %x %lx %lx %lx %lx %lx %lx&quot;</span>,
<a name="l00981"></a>00981              &amp;dfn,
<a name="l00982"></a>00982              &amp;vend,
<a name="l00983"></a>00983              &amp;irq,
<a name="l00984"></a>00984              &amp;base_addr[0],
<a name="l00985"></a>00985              &amp;base_addr[1], &amp;base_addr[2], &amp;base_addr[3], &amp;base_addr[4], &amp;base_addr[5]);
<a name="l00986"></a>00986 
<a name="l00987"></a>00987       vend_id = vend &gt;&gt; 16U;
<a name="l00988"></a>00988       dev_id = vend &amp; 0xFFFF;
<a name="l00989"></a>00989 
<a name="l00990"></a>00990       <span class="comment">/*</span>
<a name="l00991"></a>00991 <span class="comment">         printf(&quot;%x:%x %d %x %x %x %x\n&quot;, vend_id, dev_id, *irq, base_addr[0], base_addr[1],</span>
<a name="l00992"></a>00992 <span class="comment">         base_addr[2], base_addr[3]);</span>
<a name="l00993"></a>00993 <span class="comment">       */</span>
<a name="l00994"></a>00994 
<a name="l00995"></a>00995       <span class="keywordflow">if</span> (vend_id == vendor_id &amp;&amp; dev_id == device_id)
<a name="l00996"></a>00996          n++;
<a name="l00997"></a>00997 
<a name="l00998"></a>00998       <span class="keywordflow">if</span> (n == n_dev)
<a name="l00999"></a>00999          <span class="keywordflow">break</span>;
<a name="l01000"></a>01000    }
<a name="l01001"></a>01001 
<a name="l01002"></a>01002    fclose(f);
<a name="l01003"></a>01003 
<a name="l01004"></a>01004    <span class="keywordflow">if</span> (n == n_dev) {
<a name="l01005"></a>01005       *pirq = irq;
<a name="l01006"></a>01006       memcpy(ba, base_addr, <span class="keyword">sizeof</span>(base_addr));
<a name="l01007"></a>01007       <span class="keywordflow">return</span> 1;
<a name="l01008"></a>01008    }
<a name="l01009"></a>01009 
<a name="l01010"></a>01010    <span class="keywordflow">return</span> 0;
<a name="l01011"></a>01011 
<a name="l01012"></a>01012 <span class="preprocessor">#elif defined(_MSC_VER)</span>
<a name="l01013"></a>01013 <span class="preprocessor"></span>
<a name="l01014"></a>01014    <a class="code" href="group__mvmestdinclude.html#ga798af1e30bc65f319c1a246cecf59e39">DWORD</a> <a class="code" href="fal_8c.html#a368f7094dc38acca20612bbb392552f4">buffer</a>[] = { 8, 0, 0, 0 };
<a name="l01015"></a>01015    <a class="code" href="group__mvmestdinclude.html#ga798af1e30bc65f319c1a246cecf59e39">DWORD</a> retbuf[7];
<a name="l01016"></a>01016    HANDLE hdio;
<a name="l01017"></a>01017    <span class="keywordtype">int</span> <a class="code" href="ybos_8c.html#adfdd3a80d1d8ea7918a6d1ebee518102">size</a>;
<a name="l01018"></a>01018 
<a name="l01019"></a>01019    hdio = CreateFile(<span class="stringliteral">&quot;\\\\.\\directio&quot;</span>, GENERIC_READ, FILE_SHARE_READ, NULL,
<a name="l01020"></a>01020                      OPEN_EXISTING, 0, NULL);
<a name="l01021"></a>01021    <span class="keywordflow">if</span> (hdio == INVALID_HANDLE_VALUE) {
<a name="l01022"></a>01022       printf(<span class="stringliteral">&quot;hyt1331.c: Cannot access DirectIO driver\n&quot;</span>);
<a name="l01023"></a>01023       <span class="keywordflow">return</span> -1;
<a name="l01024"></a>01024    }
<a name="l01025"></a>01025 
<a name="l01026"></a>01026    buffer[1] = vendor_id;
<a name="l01027"></a>01027    buffer[2] = device_id;
<a name="l01028"></a>01028    buffer[3] = n_dev + 1;
<a name="l01029"></a>01029    <span class="keywordflow">if</span> (!DeviceIoControl(hdio, (<a class="code" href="group__mvmestdinclude.html#ga798af1e30bc65f319c1a246cecf59e39">DWORD</a>) 0x9c406000, &amp;buffer, <span class="keyword">sizeof</span>(buffer),
<a name="l01030"></a>01030                         retbuf, <span class="keyword">sizeof</span>(retbuf), &amp;size, NULL))
<a name="l01031"></a>01031       <span class="keywordflow">return</span> 0;
<a name="l01032"></a>01032 
<a name="l01033"></a>01033    <span class="keywordflow">if</span> (size == 0)
<a name="l01034"></a>01034       <span class="keywordflow">return</span> 0;
<a name="l01035"></a>01035 
<a name="l01036"></a>01036    *pirq = (<a class="code" href="group__mcstdinclude.html#ga4ae1dab0fb4b072a66584546209e7d58">BYTE</a>) retbuf[0];
<a name="l01037"></a>01037    memcpy(ba, retbuf + 1, <span class="keyword">sizeof</span>(<a class="code" href="group__mvmestdinclude.html#ga798af1e30bc65f319c1a246cecf59e39">DWORD</a>) * 6);
<a name="l01038"></a>01038    <span class="keywordflow">return</span> 1;
<a name="l01039"></a>01039 
<a name="l01040"></a>01040 <span class="preprocessor">#endif</span>
<a name="l01041"></a>01041 <span class="preprocessor"></span>}
</pre></div></p>

</div>
</div>
<hr/><h2>Variable Documentation</h2>
<a class="anchor" id="a64b0c10e69ac977302ad336a03670d19"></a><!-- doxytag: member="hyt1331.c::gbl_sw1d" ref="a64b0c10e69ac977302ad336a03670d19" args="[MAX_DEVICES]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="midas_2drivers_2bus_2hyt1331_8c.html#a64b0c10e69ac977302ad336a03670d19">gbl_sw1d</a>[MAX_DEVICES]</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="midas_2drivers_2bus_2hyt1331_8c_source.html#l00121">121</a> of file <a class="el" href="midas_2drivers_2bus_2hyt1331_8c_source.html">hyt1331.c</a>.</p>

</div>
</div>
<a class="anchor" id="af2794cbab74b58909616c3f3c8372ac7"></a><!-- doxytag: member="hyt1331.c::io_base" ref="af2794cbab74b58909616c3f3c8372ac7" args="[MAX_DEVICES]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="unionWORD.html">WORD</a> <a class="el" href="khyt1331_8c.html#a70c46fbde29312311d12e072c2dca16a">io_base</a>[MAX_DEVICES]</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="midas_2drivers_2bus_2hyt1331_8c_source.html#l00118">118</a> of file <a class="el" href="midas_2drivers_2bus_2hyt1331_8c_source.html">hyt1331.c</a>.</p>

</div>
</div>
<a class="anchor" id="ae960f3d6d8d9d8c9b29337a4983563c4"></a><!-- doxytag: member="hyt1331.c::irq" ref="ae960f3d6d8d9d8c9b29337a4983563c4" args="[MAX_DEVICES]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="usb_8h.html#a4ae1dab0fb4b072a66584546209e7d58">BYTE</a> <a class="el" href="khyt1331_8c.html#aea22ec27eb52d3e0d744184067cbca3a">irq</a>[MAX_DEVICES]</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="midas_2drivers_2bus_2hyt1331_8c_source.html#l00119">119</a> of file <a class="el" href="midas_2drivers_2bus_2hyt1331_8c_source.html">hyt1331.c</a>.</p>

</div>
</div>
</div>
<hr size="1"/><address style="text-align: right;"><small>Generated on 6 Jun 2014 for AlcapDAQ by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
