<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>AlcapDAQ: midas/examples/macro/midas_macro.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<h1>midas/examples/macro/midas_macro.h</h1><a href="examples_2macro_2midas__macro_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">/********************************************************************\</span>
<a name="l00002"></a>00002 <span class="comment"></span>
<a name="l00003"></a>00003 <span class="comment">  Name:         midas_macro.h</span>
<a name="l00004"></a>00004 <span class="comment">  Created by:   Stefan Ritt</span>
<a name="l00005"></a>00005 <span class="comment"></span>
<a name="l00006"></a>00006 <span class="comment">  Contents:     C macros for writing a MIDAS frontend</span>
<a name="l00007"></a>00007 <span class="comment"></span>
<a name="l00008"></a>00008 <span class="comment">  $Log: midas_macro.h,v $</span>
<a name="l00009"></a>00009 <span class="comment">  Revision 1.1.1.1  2005/06/20 23:37:11  mucap</span>
<a name="l00010"></a>00010 <span class="comment">  Importing release 1.9.5 of the MIDAS source code as distributed by PSI.</span>
<a name="l00011"></a>00011 <span class="comment">  (Next, I&apos;ll commit our local customizations.)</span>
<a name="l00012"></a>00012 <span class="comment"></span>
<a name="l00013"></a>00013 <span class="comment">  Revision 1.4  2004/01/08 08:40:09  midas</span>
<a name="l00014"></a>00014 <span class="comment">  Implemented standard indentation</span>
<a name="l00015"></a>00015 <span class="comment"></span>
<a name="l00016"></a>00016 <span class="comment">  Revision 1.3  2000/08/21 10:49:11  midas</span>
<a name="l00017"></a>00017 <span class="comment">  Added max_event_size</span>
<a name="l00018"></a>00018 <span class="comment"></span>
<a name="l00019"></a>00019 <span class="comment">  Revision 1.2  1998/10/12 12:18:59  midas</span>
<a name="l00020"></a>00020 <span class="comment">  Added Log tag in header</span>
<a name="l00021"></a>00021 <span class="comment"></span>
<a name="l00022"></a>00022 <span class="comment"></span>
<a name="l00023"></a>00023 <span class="comment">\********************************************************************/</span>
<a name="l00024"></a>00024 
<a name="l00025"></a>00025 <span class="preprocessor">#include &lt;stdio.h&gt;</span>
<a name="l00026"></a>00026 <span class="preprocessor">#include &lt;<a class="code" href="midas_8h.html">midas.h</a>&gt;</span>
<a name="l00027"></a>00027 <span class="preprocessor">#include &lt;cd_hv.h&gt;</span>
<a name="l00028"></a>00028 <span class="preprocessor">#include &quot;<a class="code" href="mcstd_8h.html">mcstd.h</a>&quot;</span>
<a name="l00029"></a>00029 <span class="preprocessor">#include &quot;<a class="code" href="miniexp_2experim_8h.html">experim.h</a>&quot;</span>
<a name="l00030"></a>00030 
<a name="l00031"></a>00031 <span class="comment">/*-- Globals -------------------------------------------------------*/</span>
<a name="l00032"></a>00032 
<a name="l00033"></a><a class="code" href="examples_2macro_2midas__macro_8h.html#a0215c0a842a0e97fe65c7ef5fb7633a5">00033</a> <a class="code" href="group__midasincludecode.html#ga239c7f0d40651c3e419c5b9651507d14">BOOL</a> <a class="code" href="crate3_2crate_8cpp.html#a0215c0a842a0e97fe65c7ef5fb7633a5">frontend_call_loop</a> = <a class="code" href="p30_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;
<a name="l00034"></a><a class="code" href="examples_2macro_2midas__macro_8h.html#a13adb6e6b95ca2a62bbfe2453d71a1cd">00034</a> <a class="code" href="lrs1190_8c.html#a6877c9d7ac317ac3415ee1a1f92302a0">INT</a> <a class="code" href="crate3_2crate_8cpp.html#a13adb6e6b95ca2a62bbfe2453d71a1cd">max_event_size</a> = 10000;
<a name="l00035"></a><a class="code" href="examples_2macro_2midas__macro_8h.html#a4411d7db6f901c968b946ed659d202f6">00035</a> <a class="code" href="lrs1190_8c.html#a6877c9d7ac317ac3415ee1a1f92302a0">INT</a> <a class="code" href="crate3_2crate_8cpp.html#a4411d7db6f901c968b946ed659d202f6">event_buffer_size</a> = 10 * 10000;
<a name="l00036"></a><a class="code" href="examples_2macro_2midas__macro_8h.html#a57c495a1ba402faa4011746500d3826f">00036</a> <a class="code" href="group__midasincludecode.html#ga0e1bcf128ad8422667adffd1dea59791">HNDLE</a> <a class="code" href="examples_2macro_2midas__macro_8h.html#a57c495a1ba402faa4011746500d3826f">hdb</a>;
<a name="l00037"></a><a class="code" href="examples_2macro_2midas__macro_8h.html#aa12d00c1d41279616e0dd8670e1be414">00037</a> <a class="code" href="lrs1190_8c.html#a6877c9d7ac317ac3415ee1a1f92302a0">INT</a> <a class="code" href="examples_2macro_2midas__macro_8h.html#aa12d00c1d41279616e0dd8670e1be414">_crate</a> = 0;
<a name="l00038"></a>00038 
<a name="l00039"></a><a class="code" href="examples_2macro_2midas__macro_8h.html#ab53d3e6e6144dcb27935cc71c57bc508">00039</a> <span class="preprocessor">#define name(x) char *frontend_name = #x; char *frontend_file_name = __FILE__;</span>
<a name="l00040"></a><a class="code" href="examples_2macro_2midas__macro_8h.html#aa088095d2fabc6972c25ad622744cfd1">00040</a> <span class="preprocessor"></span><span class="preprocessor">#define display(s) INT display_period = s*1000;</span>
<a name="l00041"></a>00041 <span class="preprocessor"></span>
<a name="l00042"></a>00042 <span class="preprocessor">#ifdef TRIGGER_SETTINGS_DEFINED</span>
<a name="l00043"></a><a class="code" href="examples_2macro_2midas__macro_8h.html#a0bedba90e4b62eddbca641fac7402d4d">00043</a> <span class="preprocessor"></span><a class="code" href="structTRIGGER__SETTINGS.html">TRIGGER_SETTINGS</a> <a class="code" href="experiment_2analyzer_8c.html#a0bedba90e4b62eddbca641fac7402d4d">trigger_settings</a>;
<a name="l00044"></a>00044 <span class="preprocessor">#endif</span>
<a name="l00045"></a>00045 <span class="preprocessor"></span>
<a name="l00046"></a>00046 <span class="preprocessor">#ifdef SCALER_SETTINGS_DEFINED</span>
<a name="l00047"></a>00047 <span class="preprocessor"></span>SCALER_SETTINGS scaler_settings;
<a name="l00048"></a>00048 <span class="preprocessor">#endif</span>
<a name="l00049"></a>00049 <span class="preprocessor"></span>
<a name="l00050"></a>00050 <span class="preprocessor">#ifdef EXP_PARAM_DEFINED</span>
<a name="l00051"></a><a class="code" href="examples_2macro_2midas__macro_8h.html#a6f1a7395cc240fde69229adefec8127f">00051</a> <span class="preprocessor"></span><a class="code" href="structEXP__PARAM.html">EXP_PARAM</a> <a class="code" href="experiment_2adccalib_8c.html#a6f1a7395cc240fde69229adefec8127f">exp_param</a>;
<a name="l00052"></a>00052 <span class="preprocessor">#endif</span>
<a name="l00053"></a>00053 <span class="preprocessor"></span>
<a name="l00054"></a>00054 <span class="comment">/*-- Function declarations -----------------------------------------*/</span>
<a name="l00055"></a>00055 
<a name="l00056"></a>00056 <a class="code" href="lrs1190_8c.html#a6877c9d7ac317ac3415ee1a1f92302a0">INT</a> <a class="code" href="crate3_2crate_8cpp.html#a34c51ae8c88f4717087b0604975516f4">frontend_init</a>();
<a name="l00057"></a>00057 <a class="code" href="lrs1190_8c.html#a6877c9d7ac317ac3415ee1a1f92302a0">INT</a> <a class="code" href="crate3_2crate_8cpp.html#a15271255cca6c92978b28afd5a548382">frontend_exit</a>();
<a name="l00058"></a>00058 <a class="code" href="lrs1190_8c.html#a6877c9d7ac317ac3415ee1a1f92302a0">INT</a> <a class="code" href="crate3_2crate_8cpp.html#ad8bfe703c49342b9f0275aba77dc7758">begin_of_run</a>(<a class="code" href="lrs1190_8c.html#a6877c9d7ac317ac3415ee1a1f92302a0">INT</a> <a class="code" href="crate6__CAEN__TDC_2mfe__mucap_8c.html#a16695ea2bfd19f294afe066d6007ab36">run_number</a>, <span class="keywordtype">char</span> *error);
<a name="l00059"></a>00059 <a class="code" href="lrs1190_8c.html#a6877c9d7ac317ac3415ee1a1f92302a0">INT</a> <a class="code" href="crate3_2crate_8cpp.html#ae6d798649008b7523c77222bae2d4187">end_of_run</a>(<a class="code" href="lrs1190_8c.html#a6877c9d7ac317ac3415ee1a1f92302a0">INT</a> <a class="code" href="crate6__CAEN__TDC_2mfe__mucap_8c.html#a16695ea2bfd19f294afe066d6007ab36">run_number</a>, <span class="keywordtype">char</span> *error);
<a name="l00060"></a>00060 <a class="code" href="lrs1190_8c.html#a6877c9d7ac317ac3415ee1a1f92302a0">INT</a> <a class="code" href="examples_2macro_2midas__macro_8h.html#ac13d5e945d03bd84233e479cad2d892a">pause_run</a>(<a class="code" href="lrs1190_8c.html#a6877c9d7ac317ac3415ee1a1f92302a0">INT</a> <a class="code" href="crate6__CAEN__TDC_2mfe__mucap_8c.html#a16695ea2bfd19f294afe066d6007ab36">run_number</a>, <span class="keywordtype">char</span> *error);
<a name="l00061"></a>00061 <a class="code" href="lrs1190_8c.html#a6877c9d7ac317ac3415ee1a1f92302a0">INT</a> <a class="code" href="examples_2macro_2midas__macro_8h.html#a392520a13432f29f450f40456e26960f">resume_run</a>(<a class="code" href="lrs1190_8c.html#a6877c9d7ac317ac3415ee1a1f92302a0">INT</a> <a class="code" href="crate6__CAEN__TDC_2mfe__mucap_8c.html#a16695ea2bfd19f294afe066d6007ab36">run_number</a>, <span class="keywordtype">char</span> *error);
<a name="l00062"></a>00062 <a class="code" href="lrs1190_8c.html#a6877c9d7ac317ac3415ee1a1f92302a0">INT</a> <a class="code" href="crate3_2crate_8cpp.html#ada66837c3c3d263974ad717921145e0a">frontend_loop</a>();
<a name="l00063"></a>00063 
<a name="l00064"></a>00064 <a class="code" href="lrs1190_8c.html#a6877c9d7ac317ac3415ee1a1f92302a0">INT</a> <a class="code" href="examples_2macro_2midas__macro_8h.html#a5119873262164a125ed1fa28a6b335f2">read_trigger</a>(<span class="keywordtype">char</span> *pevent);
<a name="l00065"></a>00065 <a class="code" href="lrs1190_8c.html#a6877c9d7ac317ac3415ee1a1f92302a0">INT</a> <a class="code" href="examples_2macro_2midas__macro_8h.html#af5a588b15d392c7d654ee9dbbd19a8c9">read_scaler</a>(<span class="keywordtype">char</span> *pevent);
<a name="l00066"></a>00066 
<a name="l00067"></a>00067 <span class="comment">/*-- Equipment list ------------------------------------------------*/</span>
<a name="l00068"></a>00068 
<a name="l00069"></a><a class="code" href="examples_2macro_2midas__macro_8h.html#aa27501f113ff6d3171689e27cebfcf47">00069</a> <span class="preprocessor">#define mask(slot) (1&lt;&lt;(slot-1))</span>
<a name="l00070"></a>00070 <span class="preprocessor"></span>
<a name="l00071"></a><a class="code" href="examples_2macro_2midas__macro_8h.html#afa0480e61f061f5414ef5128b48153a5">00071</a> <span class="preprocessor">#define equipment_begin EQUIPMENT equipment[] = {</span>
<a name="l00072"></a>00072 <span class="preprocessor"></span>
<a name="l00073"></a><a class="code" href="examples_2macro_2midas__macro_8h.html#aea74f3898d8f18ca5353a8d92ac10e4f">00073</a> <span class="preprocessor">#define equipment_end   { &quot;&quot; }};</span>
<a name="l00074"></a>00074 <span class="preprocessor"></span>
<a name="l00075"></a><a class="code" href="examples_2macro_2midas__macro_8h.html#ae8b8f6d8b9bae4600c7eac6eee4e57b4">00075</a> <span class="preprocessor">#define equipment(name, id, type, source, readon, period, readout, cd, driver) \</span>
<a name="l00076"></a>00076 <span class="preprocessor">  { #name, id, 0, &quot;SYSTEM&quot;, type, source, &quot;MIDAS&quot;, TRUE, readon, period, 0, 0, &quot;&quot;,&quot;&quot;,&quot;&quot;, \</span>
<a name="l00077"></a>00077 <span class="preprocessor">    readout, cd, driver },</span>
<a name="l00078"></a>00078 <span class="preprocessor"></span>
<a name="l00079"></a><a class="code" href="examples_2macro_2midas__macro_8h.html#a160926a3bfb91dbaa45e9b8af1057706">00079</a> <span class="preprocessor">#define equipment_trigger(id, type, s) \</span>
<a name="l00080"></a>00080 <span class="preprocessor">  equipment(Trigger, id, EQ_##type, s, RO_RUNNING|RO_ODB, 500, \</span>
<a name="l00081"></a>00081 <span class="preprocessor">  read_trigger, NULL, NULL)</span>
<a name="l00082"></a>00082 <span class="preprocessor"></span>
<a name="l00083"></a><a class="code" href="examples_2macro_2midas__macro_8h.html#ad2d7ed5a48fdd81a391700d673563aa1">00083</a> <span class="preprocessor">#define equipment_periodic(name, id, period)  \</span>
<a name="l00084"></a>00084 <span class="preprocessor">  equipment(name, id, EQ_PERIODIC, 0,\</span>
<a name="l00085"></a>00085 <span class="preprocessor">  RO_RUNNING|RO_TRANSITIONS|RO_ODB, period*1000,\</span>
<a name="l00086"></a>00086 <span class="preprocessor">  read_##name, NULL, NULL)</span>
<a name="l00087"></a>00087 <span class="preprocessor"></span>
<a name="l00088"></a><a class="code" href="examples_2macro_2midas__macro_8h.html#a3f52c84e7d2c0a2358f5e80136473393">00088</a> <span class="preprocessor">#define equipment_hv(id, period) \</span>
<a name="l00089"></a>00089 <span class="preprocessor">  equipment(HV, id, EQ_SLOW, 0,\</span>
<a name="l00090"></a>00090 <span class="preprocessor">  RO_RUNNING|RO_TRANSITIONS, period*1000,\</span>
<a name="l00091"></a>00091 <span class="preprocessor">  cd_hv_read, cd_hv, hv_driver)</span>
<a name="l00092"></a>00092 <span class="preprocessor"></span>
<a name="l00093"></a><a class="code" href="examples_2macro_2midas__macro_8h.html#a4605aa16a2d1fb88998b696c2e9b28c7">00093</a> <span class="preprocessor">#define hv_driver_begin DEVICE_DRIVER hv_driver[] = {</span>
<a name="l00094"></a>00094 <span class="preprocessor"></span>
<a name="l00095"></a><a class="code" href="examples_2macro_2midas__macro_8h.html#a612199f8c1c02dff06a91020903b66c1">00095</a> <span class="preprocessor">#define driver(name, count) { #name, name, count },</span>
<a name="l00096"></a>00096 <span class="preprocessor"></span>
<a name="l00097"></a><a class="code" href="examples_2macro_2midas__macro_8h.html#a9abd005cae866fc61f40af94c4748305">00097</a> <span class="preprocessor">#define hv_driver_end { &quot;&quot; }};</span>
<a name="l00098"></a>00098 <span class="preprocessor"></span>
<a name="l00099"></a>00099 <span class="comment">/*-- Polling routine -----------------------------------------------*/</span>
<a name="l00100"></a>00100 
<a name="l00101"></a><a class="code" href="examples_2macro_2midas__macro_8h.html#a98cc3257284af91fa0e8da10ddf227c8">00101</a> <a class="code" href="lrs1190_8c.html#a6877c9d7ac317ac3415ee1a1f92302a0">INT</a> <a class="code" href="crate3_2crate_8cpp.html#a98cc3257284af91fa0e8da10ddf227c8">poll_event</a>(<a class="code" href="lrs1190_8c.html#a6877c9d7ac317ac3415ee1a1f92302a0">INT</a> source, <a class="code" href="lrs1190_8c.html#a6877c9d7ac317ac3415ee1a1f92302a0">INT</a> <a class="code" href="mdump_8c.html#a3d42cdd395a9c14f809d2fe53748c620">count</a>, <a class="code" href="group__midasincludecode.html#ga239c7f0d40651c3e419c5b9651507d14">BOOL</a> <a class="code" href="sis3803_8c.html#a8fa8e4c8bef10b038f6a033f736d5bce">test</a>)
<a name="l00102"></a>00102 <span class="comment">/* Polling routine for events. Returns &quot;source&quot; if event</span>
<a name="l00103"></a>00103 <span class="comment">   is available. If test equals TRUE, don&apos;t return. The test</span>
<a name="l00104"></a>00104 <span class="comment">   flag is used to time the polling */</span>
<a name="l00105"></a>00105 {
<a name="l00106"></a>00106    <a class="code" href="lrs1190_8c.html#a6877c9d7ac317ac3415ee1a1f92302a0">INT</a> <a class="code" href="mdump_8c.html#a65a8886d814fb9bf73f9d4f0fd64d162">i</a>, lam;
<a name="l00107"></a>00107 
<a name="l00108"></a>00108    <span class="keywordflow">for</span> (i = 0; i &lt; count; i++) {
<a name="l00109"></a>00109       <a class="code" href="group__mcstdfunctionh.html#ga39be24f9fa9fb8601023665fe896d401">cam_lam_read</a>(source &gt;&gt; 24, &amp;lam);
<a name="l00110"></a>00110       <span class="keywordflow">if</span> (lam)
<a name="l00111"></a>00111          <span class="keywordflow">if</span> (!test)
<a name="l00112"></a>00112             <span class="keywordflow">return</span> <a class="code" href="p30_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;
<a name="l00113"></a>00113    }
<a name="l00114"></a>00114 
<a name="l00115"></a>00115    <span class="keywordflow">return</span> <a class="code" href="p30_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;
<a name="l00116"></a>00116 }
<a name="l00117"></a>00117 
<a name="l00118"></a>00118 <span class="comment">/*-- Interrupt configuration for trigger event ---------------------*/</span>
<a name="l00119"></a>00119 
<a name="l00120"></a><a class="code" href="examples_2macro_2midas__macro_8h.html#a55dc1ffa15566edfd2ad2249aae97c77">00120</a> <a class="code" href="lrs1190_8c.html#a6877c9d7ac317ac3415ee1a1f92302a0">INT</a> <a class="code" href="crate3_2crate_8cpp.html#a55dc1ffa15566edfd2ad2249aae97c77">interrupt_configure</a>(<a class="code" href="lrs1190_8c.html#a6877c9d7ac317ac3415ee1a1f92302a0">INT</a> <a class="code" href="jorway73a_8c.html#a11d3b696651733f98e58d14ad8fa7a1d">cmd</a>, <a class="code" href="lrs1190_8c.html#a6877c9d7ac317ac3415ee1a1f92302a0">INT</a> source, <a class="code" href="group__midasincludecode.html#ga790216a8e71233fed28657b16a052e36">PTYPE</a> adr)
<a name="l00121"></a>00121 {
<a name="l00122"></a>00122    <span class="keywordflow">switch</span> (cmd) {
<a name="l00123"></a>00123    <span class="keywordflow">case</span> <a class="code" href="group__err26.html#gaab5043b2fd69a86d3bcecfb3fd8f7af3">CMD_INTERRUPT_ENABLE</a>:
<a name="l00124"></a>00124       <a class="code" href="group__mcstdfunctionh.html#ga5d95207e772c732839b0010706c1ecc9">cam_interrupt_enable</a>();
<a name="l00125"></a>00125       <span class="keywordflow">break</span>;
<a name="l00126"></a>00126    <span class="keywordflow">case</span> <a class="code" href="group__err26.html#gaa12884ae2e3cbffa489d7c5074a029f7">CMD_INTERRUPT_DISABLE</a>:
<a name="l00127"></a>00127       <a class="code" href="group__mcstdfunctionh.html#ga21c6d5bd474679bf5a810560564c7677">cam_interrupt_disable</a>();
<a name="l00128"></a>00128       <span class="keywordflow">break</span>;
<a name="l00129"></a>00129    <span class="keywordflow">case</span> <a class="code" href="group__err26.html#ga8a891110d186a3a4b02f6dfde253efb2">CMD_INTERRUPT_ATTACH</a>:
<a name="l00130"></a>00130       <a class="code" href="group__mcstdfunctionh.html#gaf23c4ba5de04fcabcc9ce5bb7441330b">cam_interrupt_attach</a>((<span class="keywordtype">void</span> (*)()) adr);
<a name="l00131"></a>00131       <span class="keywordflow">break</span>;
<a name="l00132"></a>00132    <span class="keywordflow">case</span> <a class="code" href="group__err26.html#gae055008eb0238aaf491eda741abcd26d">CMD_INTERRUPT_DETACH</a>:
<a name="l00133"></a>00133       <a class="code" href="group__mcstdfunctionh.html#ga0abf493fdf6fac4a8dd284d5998e6b30">cam_interrupt_detach</a>();
<a name="l00134"></a>00134       <span class="keywordflow">break</span>;
<a name="l00135"></a>00135    }
<a name="l00136"></a>00136    <span class="keywordflow">return</span> <a class="code" href="group__mvmestdinclude.html#gaa90cac659d18e8ef6294c7ae337f6b58">SUCCESS</a>;
<a name="l00137"></a>00137 }
<a name="l00138"></a>00138 
<a name="l00139"></a>00139 <span class="comment">/*-- trigger settings callback -------------------------------------*/</span>
<a name="l00140"></a>00140 
<a name="l00141"></a>00141 <span class="preprocessor">#ifdef TRIGGER_SETTINGS_DEFINED</span>
<a name="l00142"></a>00142 <span class="preprocessor"></span><span class="keywordtype">void</span> <a class="code" href="examples_2macro_2midas__macro_8h.html#a64a242365a3a121a65fb58a5c525a2b4">trigger_update</a>(<span class="keywordtype">void</span>);
<a name="l00143"></a>00143 
<a name="l00144"></a><a class="code" href="examples_2macro_2midas__macro_8h.html#a617695538e127d91d2405266067771e8">00144</a> <span class="keywordtype">void</span> <a class="code" href="examples_2macro_2midas__macro_8h.html#a617695538e127d91d2405266067771e8">trigger_upd</a>(<a class="code" href="lrs1190_8c.html#a6877c9d7ac317ac3415ee1a1f92302a0">INT</a> <a class="code" href="mucap__compress_8cpp.html#ab1f60c53f74e806a3b9f687af38d7421">hDB</a>, <a class="code" href="lrs1190_8c.html#a6877c9d7ac317ac3415ee1a1f92302a0">INT</a> <a class="code" href="mevb_8cpp.html#a8cd567d23219ba7fc83280cf20caf1c2">hKey</a>)
<a name="l00145"></a>00145 {
<a name="l00146"></a>00146    <a class="code" href="examples_2macro_2midas__macro_8h.html#a64a242365a3a121a65fb58a5c525a2b4">trigger_update</a>();
<a name="l00147"></a>00147 }
<a name="l00148"></a>00148 <span class="preprocessor">#endif</span>
<a name="l00149"></a>00149 <span class="preprocessor"></span>
<a name="l00150"></a><a class="code" href="examples_2macro_2midas__macro_8h.html#a701bc0936541995355b2238577724aaa">00150</a> <span class="preprocessor">#define trigger_update_begin  void trigger_update(void) {</span>
<a name="l00151"></a><a class="code" href="examples_2macro_2midas__macro_8h.html#af21e09a3c721ebb77767bc20d4a8f734">00151</a> <span class="preprocessor"></span><span class="preprocessor">#define trigger_update_end }</span>
<a name="l00152"></a>00152 <span class="preprocessor"></span>
<a name="l00153"></a>00153 <span class="comment">/*-- Frontend init function ----------------------------------------*/</span>
<a name="l00154"></a>00154 
<a name="l00155"></a>00155 <span class="keywordtype">void</span> <a class="code" href="examples_2macro_2midas__macro_8h.html#aa8253cd89ed4b268472ed62f4f2074ae">user_init</a>(<span class="keywordtype">void</span>);
<a name="l00156"></a>00156 <span class="keywordtype">void</span> <a class="code" href="examples_2macro_2midas__macro_8h.html#a485834592f09dc0a5c1951e4986a8296">user_exit</a>(<span class="keywordtype">void</span>);
<a name="l00157"></a>00157 
<a name="l00158"></a><a class="code" href="examples_2macro_2midas__macro_8h.html#a34c51ae8c88f4717087b0604975516f4">00158</a> <a class="code" href="lrs1190_8c.html#a6877c9d7ac317ac3415ee1a1f92302a0">INT</a> <a class="code" href="crate3_2crate_8cpp.html#a34c51ae8c88f4717087b0604975516f4">frontend_init</a>()
<a name="l00159"></a>00159 {
<a name="l00160"></a>00160    <a class="code" href="group__midasincludecode.html#ga0e1bcf128ad8422667adffd1dea59791">HNDLE</a> hkey;
<a name="l00161"></a>00161 <span class="preprocessor">#ifdef EXP_PARAM_DEFINED</span>
<a name="l00162"></a>00162 <span class="preprocessor"></span>   <a class="code" href="experiment_2experim_8h.html#a71c259065113884e6324e46c807d0967">EXP_PARAM_STR</a>(exp_param_str);
<a name="l00163"></a>00163 <span class="preprocessor">#endif</span>
<a name="l00164"></a>00164 <span class="preprocessor"></span><span class="preprocessor">#ifdef TRIGGER_SETTINGS_DEFINED</span>
<a name="l00165"></a>00165 <span class="preprocessor"></span>   <a class="code" href="experiment_2experim_8h.html#aba8c5b4adf8180aae43451def4ed3c0c">TRIGGER_SETTINGS_STR</a>(trigger_settings_str);
<a name="l00166"></a>00166 <span class="preprocessor">#endif</span>
<a name="l00167"></a>00167 <span class="preprocessor"></span><span class="preprocessor">#ifdef SCALER_SETTINGS_STR</span>
<a name="l00168"></a>00168 <span class="preprocessor"></span>   SCALER_SETTINGS_STR(scaler_settings_str);
<a name="l00169"></a>00169 <span class="preprocessor">#endif</span>
<a name="l00170"></a>00170 <span class="preprocessor"></span>
<a name="l00171"></a>00171    <a class="code" href="group__msectionh.html#ga1932e7947b0a024a845c5b8c19c3dda0">cm_get_experiment_database</a>(&amp;<a class="code" href="examples_2macro_2midas__macro_8h.html#a57c495a1ba402faa4011746500d3826f">hdb</a>, &amp;hkey);
<a name="l00172"></a>00172 
<a name="l00173"></a>00173 <span class="preprocessor">#ifdef EXP_PARAM_DEFINED</span>
<a name="l00174"></a>00174 <span class="preprocessor"></span>   <a class="code" href="group__msectionh.html#ga8ed1d02d89738e2ac692ec60e727d1a7">db_create_record</a>(<a class="code" href="examples_2macro_2midas__macro_8h.html#a57c495a1ba402faa4011746500d3826f">hdb</a>, 0, <span class="stringliteral">&quot;/Experiment/Run Parameters&quot;</span>, <a class="code" href="group__msectionh.html#gaccf82d3dbd8eb7090db598725713e012">strcomb</a>(exp_param_str));
<a name="l00175"></a>00175    <a class="code" href="group__msectionh.html#ga2c6408e2f225703c9a666a2ab23d7680">db_find_key</a>(<a class="code" href="examples_2macro_2midas__macro_8h.html#a57c495a1ba402faa4011746500d3826f">hdb</a>, 0, <span class="stringliteral">&quot;/Experiment/Run Parameters&quot;</span>, &amp;hkey);
<a name="l00176"></a>00176    <span class="keywordflow">if</span> (<a class="code" href="group__msectionh.html#ga3495173a9725dc8c44167b71560aa290">db_open_record</a>(<a class="code" href="examples_2macro_2midas__macro_8h.html#a57c495a1ba402faa4011746500d3826f">hdb</a>, hkey, &amp;exp_param,
<a name="l00177"></a>00177                       <span class="keyword">sizeof</span>(exp_param), <a class="code" href="group__mdefineh.html#gac4d1baf108e9ce6414088db508d7c182">MODE_READ</a>, NULL) != <a class="code" href="group__err23.html#ga4d6ab4d32144d851ddeb7931b81a63e3">DB_SUCCESS</a>) {
<a name="l00178"></a>00178       <a class="code" href="lrs1821_8h.html#aa6f8a5999f0a072ce20ab87bae8a9eb5">cm_msg</a>(<a class="code" href="lrs1821_8h.html#ac2d967025ca0f84f611d568f4ede934a">MERROR</a>, <span class="stringliteral">&quot;frontend_init&quot;</span>, <span class="stringliteral">&quot;Cannot open Run Parameters in ODB&quot;</span>);
<a name="l00179"></a>00179       <span class="keywordflow">return</span> -1;
<a name="l00180"></a>00180    }
<a name="l00181"></a>00181 <span class="preprocessor">#endif</span>
<a name="l00182"></a>00182 <span class="preprocessor"></span><span class="preprocessor">#ifdef TRIGGER_SETTINGS_DEFINED</span>
<a name="l00183"></a>00183 <span class="preprocessor"></span>   <a class="code" href="group__msectionh.html#ga8ed1d02d89738e2ac692ec60e727d1a7">db_create_record</a>(<a class="code" href="examples_2macro_2midas__macro_8h.html#a57c495a1ba402faa4011746500d3826f">hdb</a>, 0, <span class="stringliteral">&quot;/Equipment/Trigger/Settings&quot;</span>, <a class="code" href="group__msectionh.html#gaccf82d3dbd8eb7090db598725713e012">strcomb</a>(trigger_settings_str));
<a name="l00184"></a>00184    <a class="code" href="group__msectionh.html#ga2c6408e2f225703c9a666a2ab23d7680">db_find_key</a>(<a class="code" href="examples_2macro_2midas__macro_8h.html#a57c495a1ba402faa4011746500d3826f">hdb</a>, 0, <span class="stringliteral">&quot;/Equipment/Trigger/Settings&quot;</span>, &amp;hkey);
<a name="l00185"></a>00185    <span class="keywordflow">if</span> (<a class="code" href="group__msectionh.html#ga3495173a9725dc8c44167b71560aa290">db_open_record</a>(<a class="code" href="examples_2macro_2midas__macro_8h.html#a57c495a1ba402faa4011746500d3826f">hdb</a>, hkey, &amp;trigger_settings,
<a name="l00186"></a>00186                       <span class="keyword">sizeof</span>(trigger_settings), <a class="code" href="group__mdefineh.html#gac4d1baf108e9ce6414088db508d7c182">MODE_READ</a>, <a class="code" href="examples_2macro_2midas__macro_8h.html#a617695538e127d91d2405266067771e8">trigger_upd</a>) != <a class="code" href="group__err23.html#ga4d6ab4d32144d851ddeb7931b81a63e3">DB_SUCCESS</a>) {
<a name="l00187"></a>00187       <a class="code" href="lrs1821_8h.html#aa6f8a5999f0a072ce20ab87bae8a9eb5">cm_msg</a>(<a class="code" href="lrs1821_8h.html#ac2d967025ca0f84f611d568f4ede934a">MERROR</a>, <span class="stringliteral">&quot;frontend_init&quot;</span>, <span class="stringliteral">&quot;Cannot open Trigger Settings in ODB&quot;</span>);
<a name="l00188"></a>00188       <span class="keywordflow">return</span> -1;
<a name="l00189"></a>00189    }
<a name="l00190"></a>00190 <span class="preprocessor">#endif</span>
<a name="l00191"></a>00191 <span class="preprocessor"></span><span class="preprocessor">#ifdef SCALER_SETTINGS_DEFINED</span>
<a name="l00192"></a>00192 <span class="preprocessor"></span>   <a class="code" href="group__msectionh.html#ga8ed1d02d89738e2ac692ec60e727d1a7">db_create_record</a>(<a class="code" href="examples_2macro_2midas__macro_8h.html#a57c495a1ba402faa4011746500d3826f">hdb</a>, 0, <span class="stringliteral">&quot;/Equipment/Scaler/Settings&quot;</span>, <a class="code" href="group__msectionh.html#gaccf82d3dbd8eb7090db598725713e012">strcomb</a>(scaler_settings_str));
<a name="l00193"></a>00193    <a class="code" href="group__msectionh.html#ga2c6408e2f225703c9a666a2ab23d7680">db_find_key</a>(<a class="code" href="examples_2macro_2midas__macro_8h.html#a57c495a1ba402faa4011746500d3826f">hdb</a>, 0, <span class="stringliteral">&quot;/Equipment/Scaler/Settings&quot;</span>, &amp;hkey);
<a name="l00194"></a>00194    <span class="keywordflow">if</span> (<a class="code" href="group__msectionh.html#ga3495173a9725dc8c44167b71560aa290">db_open_record</a>(<a class="code" href="examples_2macro_2midas__macro_8h.html#a57c495a1ba402faa4011746500d3826f">hdb</a>, hkey, &amp;scaler_settings,
<a name="l00195"></a>00195                       <span class="keyword">sizeof</span>(scaler_settings), <a class="code" href="group__mdefineh.html#gac4d1baf108e9ce6414088db508d7c182">MODE_READ</a>, NULL) != <a class="code" href="group__err23.html#ga4d6ab4d32144d851ddeb7931b81a63e3">DB_SUCCESS</a>) {
<a name="l00196"></a>00196       <a class="code" href="lrs1821_8h.html#aa6f8a5999f0a072ce20ab87bae8a9eb5">cm_msg</a>(<a class="code" href="lrs1821_8h.html#ac2d967025ca0f84f611d568f4ede934a">MERROR</a>, <span class="stringliteral">&quot;frontend_init&quot;</span>, <span class="stringliteral">&quot;Cannot open Scaler Settings in ODB&quot;</span>);
<a name="l00197"></a>00197       <span class="keywordflow">return</span> -1;
<a name="l00198"></a>00198    }
<a name="l00199"></a>00199 <span class="preprocessor">#endif</span>
<a name="l00200"></a>00200 <span class="preprocessor"></span>
<a name="l00201"></a>00201    <a class="code" href="examples_2macro_2midas__macro_8h.html#aa8253cd89ed4b268472ed62f4f2074ae">user_init</a>();
<a name="l00202"></a>00202    <span class="keywordflow">return</span> <a class="code" href="group__mvmestdinclude.html#gaa90cac659d18e8ef6294c7ae337f6b58">SUCCESS</a>;
<a name="l00203"></a>00203 }
<a name="l00204"></a>00204 
<a name="l00205"></a><a class="code" href="examples_2macro_2midas__macro_8h.html#a15271255cca6c92978b28afd5a548382">00205</a> <a class="code" href="lrs1190_8c.html#a6877c9d7ac317ac3415ee1a1f92302a0">INT</a> <a class="code" href="crate3_2crate_8cpp.html#a15271255cca6c92978b28afd5a548382">frontend_exit</a>()
<a name="l00206"></a>00206 {
<a name="l00207"></a>00207    <a class="code" href="examples_2macro_2midas__macro_8h.html#a485834592f09dc0a5c1951e4986a8296">user_exit</a>();
<a name="l00208"></a>00208    <span class="keywordflow">return</span> <a class="code" href="group__mvmestdinclude.html#gaa90cac659d18e8ef6294c7ae337f6b58">SUCCESS</a>;
<a name="l00209"></a>00209 }
<a name="l00210"></a>00210 
<a name="l00211"></a><a class="code" href="examples_2macro_2midas__macro_8h.html#a6b151d734c2a6651c16378419812cb10">00211</a> <span class="preprocessor">#define init_begin   void user_init() {</span>
<a name="l00212"></a><a class="code" href="examples_2macro_2midas__macro_8h.html#a3b2d3dc40e77d8243c50ad0d08e50b22">00212</a> <span class="preprocessor"></span><span class="preprocessor">#define init_end     }</span>
<a name="l00213"></a><a class="code" href="examples_2macro_2midas__macro_8h.html#a71f1a06b6bc58fb3916e99c94ec23f7d">00213</a> <span class="preprocessor"></span><span class="preprocessor">#define exit_begin   void user_exit() {</span>
<a name="l00214"></a><a class="code" href="examples_2macro_2midas__macro_8h.html#a518c0c7fc27a9f132967cdcac6a9bd19">00214</a> <span class="preprocessor"></span><span class="preprocessor">#define exit_end     }</span>
<a name="l00215"></a>00215 <span class="preprocessor"></span>
<a name="l00216"></a>00216 <span class="comment">/*-- Callback functions --------------------------------------------*/</span>
<a name="l00217"></a>00217 
<a name="l00218"></a><a class="code" href="examples_2macro_2midas__macro_8h.html#a1ef6eda3d1d5cf0f1979627ecaab9123">00218</a> <span class="preprocessor">#define begin_run        INT begin_of_run(INT run_number, char *error) {</span>
<a name="l00219"></a><a class="code" href="examples_2macro_2midas__macro_8h.html#a1ef3c495f603ac242b2adc6de12f69f3">00219</a> <span class="preprocessor"></span><span class="preprocessor">#define begin_run_end    return SUCCESS; }</span>
<a name="l00220"></a><a class="code" href="examples_2macro_2midas__macro_8h.html#a1d5caa45070bd1175c5a3122849c80fa">00220</a> <span class="preprocessor"></span><span class="preprocessor">#define end_run          INT end_of_run(INT run_number, char *error) {</span>
<a name="l00221"></a><a class="code" href="examples_2macro_2midas__macro_8h.html#a59946939366c0adddc9c809efc3d2050">00221</a> <span class="preprocessor"></span><span class="preprocessor">#define end_run_end      return SUCCESS; }</span>
<a name="l00222"></a><a class="code" href="examples_2macro_2midas__macro_8h.html#ac13d5e945d03bd84233e479cad2d892a">00222</a> <span class="preprocessor"></span><span class="preprocessor">#define pause_run        INT pause_run(INT run_number, char *error) {</span>
<a name="l00223"></a><a class="code" href="examples_2macro_2midas__macro_8h.html#ab9f619ab08438ca36707e44ddf090c6c">00223</a> <span class="preprocessor"></span><span class="preprocessor">#define pause_run_end    return SUCCESS; }</span>
<a name="l00224"></a><a class="code" href="examples_2macro_2midas__macro_8h.html#a392520a13432f29f450f40456e26960f">00224</a> <span class="preprocessor"></span><span class="preprocessor">#define resume_run       INT resume_run(INT run_number, char *error) {</span>
<a name="l00225"></a><a class="code" href="examples_2macro_2midas__macro_8h.html#a66412b5b352fe04170864dad511d1f32">00225</a> <span class="preprocessor"></span><span class="preprocessor">#define resume_run_end   return SUCCESS; }</span>
<a name="l00226"></a>00226 <span class="preprocessor"></span>
<a name="l00227"></a>00227 <span class="comment">/*-- Frontend Loop -------------------------------------------------*/</span>
<a name="l00228"></a>00228 
<a name="l00229"></a><a class="code" href="examples_2macro_2midas__macro_8h.html#ada66837c3c3d263974ad717921145e0a">00229</a> <a class="code" href="lrs1190_8c.html#a6877c9d7ac317ac3415ee1a1f92302a0">INT</a> <a class="code" href="crate3_2crate_8cpp.html#ada66837c3c3d263974ad717921145e0a">frontend_loop</a>()
<a name="l00230"></a>00230 {
<a name="l00231"></a>00231    <span class="keywordflow">return</span> <a class="code" href="group__mvmestdinclude.html#gaa90cac659d18e8ef6294c7ae337f6b58">SUCCESS</a>;
<a name="l00232"></a>00232 }
<a name="l00233"></a>00233 
<a name="l00234"></a>00234 <span class="comment">/*-- Event readout -------------------------------------------------*/</span>
<a name="l00235"></a>00235 
<a name="l00236"></a><a class="code" href="examples_2macro_2midas__macro_8h.html#ac588c70e7c35c3059a7f6ca97de83803">00236</a> <span class="preprocessor">#define readout_begin(name) INT read_##name(char *pevent) \</span>
<a name="l00237"></a>00237 <span class="preprocessor">{                                                         \</span>
<a name="l00238"></a>00238 <span class="preprocessor">WORD *pdata; INT source;                                  \</span>
<a name="l00239"></a>00239 <span class="preprocessor">                                                          \</span>
<a name="l00240"></a>00240 <span class="preprocessor">  source = *((INT *)pevent);                              \</span>
<a name="l00241"></a>00241 <span class="preprocessor">  bk_init(pevent); {</span>
<a name="l00242"></a>00242 <span class="preprocessor"></span>
<a name="l00243"></a><a class="code" href="examples_2macro_2midas__macro_8h.html#a16c2a1af53d5aa38ab8721adf582273e">00243</a> <span class="preprocessor">#define readout_end } return bk_size(pevent); }</span>
<a name="l00244"></a>00244 <span class="preprocessor"></span>
<a name="l00245"></a><a class="code" href="examples_2macro_2midas__macro_8h.html#aabb75686588dc288d72867463018446c">00245</a> <span class="preprocessor">#define readout_abort return 0;</span>
<a name="l00246"></a>00246 <span class="preprocessor"></span>
<a name="l00247"></a><a class="code" href="examples_2macro_2midas__macro_8h.html#a0bd1d0ed89ce25955750de2382eed83f">00247</a> <span class="preprocessor">#define trigger_mask     TRIGGER_MASK(pevent)</span>
<a name="l00248"></a><a class="code" href="examples_2macro_2midas__macro_8h.html#a6bff0a5e8995a80f74212d31f551167a">00248</a> <span class="preprocessor"></span><span class="preprocessor">#define event_id         EVENT_ID(pevent)</span>
<a name="l00249"></a><a class="code" href="examples_2macro_2midas__macro_8h.html#a835229ca2b41635b0438a6311cbb56b2">00249</a> <span class="preprocessor"></span><span class="preprocessor">#define serial_number    SERIAL_NUMBER(pevent)</span>
<a name="l00250"></a><a class="code" href="examples_2macro_2midas__macro_8h.html#aea63d251ba3e235703c63097ccba1108">00250</a> <span class="preprocessor"></span><span class="preprocessor">#define time_stamp       TIME_STAMP(pevent)</span>
<a name="l00251"></a>00251 <span class="preprocessor"></span>
<a name="l00252"></a><a class="code" href="examples_2macro_2midas__macro_8h.html#ac484905625152119cf660ff11e288e08">00252</a> <span class="preprocessor">#define bank(name) bk_create(pevent, #name, TID_WORD, &amp;pdata);</span>
<a name="l00253"></a><a class="code" href="examples_2macro_2midas__macro_8h.html#a4873db28b54b7fca892f099cd9b24cb5">00253</a> <span class="preprocessor"></span><span class="preprocessor">#define bank32(name) bk_create(pevent, #name, TID_DWORD, &amp;pdata);</span>
<a name="l00254"></a><a class="code" href="examples_2macro_2midas__macro_8h.html#a51bdf02fb40a4a8c4805c0426f52861a">00254</a> <span class="preprocessor"></span><span class="preprocessor">#define bank_end  bk_close(pevent, pdata);</span>
<a name="l00255"></a>00255 <span class="preprocessor"></span>
<a name="l00256"></a><a class="code" href="examples_2macro_2midas__macro_8h.html#a5b55880ce7d302ae13576e90584a63bb">00256</a> <span class="preprocessor">#define read(n,a,f)         cam16i(_crate,n,a,f,pdata++);</span>
<a name="l00257"></a><a class="code" href="examples_2macro_2midas__macro_8h.html#a77b542444b84d4c7eac76c30878c26c5">00257</a> <span class="preprocessor"></span><span class="preprocessor">#define read_into(n,a,f,d)  cam16i(_crate,n,a,f,&amp;d);</span>
<a name="l00258"></a><a class="code" href="examples_2macro_2midas__macro_8h.html#a7a7dc78296cb2eb3b717fe3308c4793f">00258</a> <span class="preprocessor"></span><span class="preprocessor">#define read32(n,a,f)     { cam24i(_crate,n,a,f,(DWORD*)pdata); ((DWORD*)pdata)++; }</span>
<a name="l00259"></a><a class="code" href="examples_2macro_2midas__macro_8h.html#a6fbb683090a733152e51639d58b90cd6">00259</a> <span class="preprocessor"></span><span class="preprocessor">#define write(n,a,f,d)      cam24o(_crate,n,a,f,d);</span>
<a name="l00260"></a><a class="code" href="examples_2macro_2midas__macro_8h.html#a651b37b29f5bd19420aa915000e00ef9">00260</a> <span class="preprocessor"></span><span class="preprocessor">#define control(n,a,f)      camc(_crate,n,a,f);</span>
<a name="l00261"></a><a class="code" href="examples_2macro_2midas__macro_8h.html#ae0527bd651e2e6384db2ea7b09da0ec0">00261</a> <span class="preprocessor"></span><span class="preprocessor">#define test_q(n,a,f,q)     camc_q(_crate,n,a,f,&amp;q);</span>
<a name="l00262"></a><a class="code" href="examples_2macro_2midas__macro_8h.html#a684a39fc04552f0d3a96fc96c991f6fc">00262</a> <span class="preprocessor"></span><span class="preprocessor">#define wait_q(n,a,f)     { int _q; do { camc_q(_crate,n,a,f,&amp;_q); } while(!_q); }</span>
<a name="l00263"></a><a class="code" href="examples_2macro_2midas__macro_8h.html#a05e0cd895bbe1a8c7782a331419daba4">00263</a> <span class="preprocessor"></span><span class="preprocessor">#define last_read           *(pdata-1)</span>
<a name="l00264"></a><a class="code" href="examples_2macro_2midas__macro_8h.html#ae1942e6d7dd1150377a2f860c471edd6">00264</a> <span class="preprocessor"></span><span class="preprocessor">#define last_read32         *(((DWORD *)pdata)-1)</span>
<a name="l00265"></a>00265 <span class="preprocessor"></span>
<a name="l00266"></a><a class="code" href="examples_2macro_2midas__macro_8h.html#afd046183aa563b3b228df3566282c5a5">00266</a> <span class="preprocessor">#define camac_init cam_init();</span>
<a name="l00267"></a><a class="code" href="examples_2macro_2midas__macro_8h.html#ae45afc970e43ffc75caeb86ab7bd218f">00267</a> <span class="preprocessor"></span><span class="preprocessor">#define camac_set_crate(c) _crate = c;</span>
<a name="l00268"></a><a class="code" href="examples_2macro_2midas__macro_8h.html#a9f5a9272d2d2f650069bce0ee67fb803">00268</a> <span class="preprocessor"></span><span class="preprocessor">#define camac_crate_clear cam_crate_clear(_crate);</span>
<a name="l00269"></a><a class="code" href="examples_2macro_2midas__macro_8h.html#adfb44ce89d3eb8f23a1b1bb5ee6eb63d">00269</a> <span class="preprocessor"></span><span class="preprocessor">#define camac_crate_zinit cam_crate_zinit(_crate);</span>
<a name="l00270"></a><a class="code" href="examples_2macro_2midas__macro_8h.html#a432e7469117b8d18d8b30f3339ed58cd">00270</a> <span class="preprocessor"></span><span class="preprocessor">#define camac_inhibit_clear cam_inhibit_clear(_crate);</span>
<a name="l00271"></a><a class="code" href="examples_2macro_2midas__macro_8h.html#ad3d2f2fec0ce4e2129d4720630fa398c">00271</a> <span class="preprocessor"></span><span class="preprocessor">#define camac_inhibit_set cam_inhibit_set(_crate);</span>
<a name="l00272"></a><a class="code" href="examples_2macro_2midas__macro_8h.html#ab71faf07476c72197c0f06f7d4893a9b">00272</a> <span class="preprocessor"></span><span class="preprocessor">#define camac_lam_enable(n) cam_lam_enable(_crate,n);</span>
<a name="l00273"></a>00273 <span class="preprocessor"></span>
<a name="l00274"></a><a class="code" href="examples_2macro_2midas__macro_8h.html#af7cc668c769bcd127c0244f05ab337e0">00274</a> <span class="preprocessor">#define camac_lam_clear(n) cam_lam_clear(_crate,n);</span>
<a name="l00275"></a>00275 <span class="preprocessor"></span>
<a name="l00276"></a><a class="code" href="examples_2macro_2midas__macro_8h.html#a408ca6b6abc64f4b82ea76d9a70dcacc">00276</a> <span class="preprocessor">#define message(type, str)  cm_msg(M##type, &quot;user code&quot;, str);</span>
<a name="l00277"></a>00277 <span class="preprocessor"></span>
<a name="l00278"></a>00278 <span class="comment">/*-- Library functions ---------------------------------------------*/</span>
<a name="l00279"></a>00279 
<a name="l00280"></a><a class="code" href="examples_2macro_2midas__macro_8h.html#a777e018ead3838851d3f78d49017c3bf">00280</a> <span class="preprocessor">#define odb_set(path, value, type) \</span>
<a name="l00281"></a>00281 <span class="preprocessor">  db_set_value(hdb, 0, #path, &amp;value, sizeof(value), 1, TID_##type);</span>
<a name="l00282"></a>00282 <span class="preprocessor"></span>
<a name="l00283"></a><a class="code" href="examples_2macro_2midas__macro_8h.html#a5f516c6db008e2e8899c9ff2b1ac64d3">00283</a> <span class="preprocessor">#define sleep(ms) ss_sleep(ms);</span>
<a name="l00284"></a>00284 <span class="preprocessor"></span>
<a name="l00285"></a>00285 <span class="comment">/*-- Language elements ---------------------------------------------*/</span>
<a name="l00286"></a>00286 
<a name="l00287"></a><a class="code" href="examples_2macro_2midas__macro_8h.html#a38a90ca04f0b9e7dbcfeba0589268090">00287</a> <span class="preprocessor">#define variable(name) int name;</span>
<a name="l00288"></a><a class="code" href="examples_2macro_2midas__macro_8h.html#a42fc75607fc841aaf44d90b2b743aae1">00288</a> <span class="preprocessor"></span><span class="preprocessor">#define constant(name, value) int name=value;</span>
<a name="l00289"></a>00289 <span class="preprocessor"></span>
<a name="l00290"></a><a class="code" href="examples_2macro_2midas__macro_8h.html#ac017f6d6a9757a5cc0ef17db878555b7">00290</a> <span class="preprocessor">#define increment(var) var++;</span>
<a name="l00291"></a><a class="code" href="examples_2macro_2midas__macro_8h.html#a2ffc1c7dbefc8d64838be576b5dd4a01">00291</a> <span class="preprocessor"></span><span class="preprocessor">#define decrement(var) var--;</span>
<a name="l00292"></a><a class="code" href="examples_2macro_2midas__macro_8h.html#ade19deb32dce978b35a2adc244a7e9d5">00292</a> <span class="preprocessor"></span><span class="preprocessor">#define set(var, value) var = value;</span>
<a name="l00293"></a>00293 <span class="preprocessor"></span>
<a name="l00294"></a><a class="code" href="examples_2macro_2midas__macro_8h.html#a02e262edea13d80cc3715d742f2080f8">00294</a> <span class="preprocessor">#define loop(var,c1,c2) for (var=c1 ; var&lt;=c2 ; var++)</span>
<a name="l00295"></a><a class="code" href="examples_2macro_2midas__macro_8h.html#a01f23030e8f35ef3c830e0bbb53e91bc">00295</a> <span class="preprocessor"></span><span class="preprocessor">#define call(sub) sub();</span>
<a name="l00296"></a><a class="code" href="examples_2macro_2midas__macro_8h.html#aa6756696bd68e8b60d37f7c5a68aec3d">00296</a> <span class="preprocessor"></span><span class="preprocessor">#define begin {</span>
<a name="l00297"></a><a class="code" href="examples_2macro_2midas__macro_8h.html#a2fb839951208a8400aa14d71d7c6f974">00297</a> <span class="preprocessor"></span><span class="preprocessor">#define end }</span>
<a name="l00298"></a>00298 <span class="preprocessor"></span>
<a name="l00299"></a><a class="code" href="examples_2macro_2midas__macro_8h.html#a99e1ae05a489ee7468c277cdb9c7a2b8">00299</a> <span class="preprocessor">#define equal ==</span>
<a name="l00300"></a><a class="code" href="examples_2macro_2midas__macro_8h.html#a339a611d7f9dc3a59c359f0da7beaf3c">00300</a> <span class="preprocessor"></span><span class="preprocessor">#define or    ||</span>
<a name="l00301"></a><a class="code" href="examples_2macro_2midas__macro_8h.html#aa3d7d535cf450b91b9cb6d9cee2edbb9">00301</a> <span class="preprocessor"></span><span class="preprocessor">#define and   &amp;&amp;</span>
</pre></div></div>
<hr size="1"/><address style="text-align: right;"><small>Generated on 6 Jun 2014 for AlcapDAQ by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
