<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>AlcapDAQ: midas/mscb/rpc.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>midas/mscb/rpc.h File Reference</h1>
<p><a href="rpc_8h_source.html">Go to the source code of this file.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Data Structures</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structRPC__PARAM.html">RPC_PARAM</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structRPC__LIST.html">RPC_LIST</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structNET__COMMAND__HEADER.html">NET_COMMAND_HEADER</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structNET__COMMAND.html">NET_COMMAND</a></td></tr>
<tr><td colspan="2"><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rpc_8h.html#a7499d3aa0ca98d255f5147494ab4f572">TID_BYTE</a>&nbsp;&nbsp;&nbsp;1</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rpc_8h.html#a150e3437f490b1e7c0e11046a9ead174">TID_SBYTE</a>&nbsp;&nbsp;&nbsp;2</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rpc_8h.html#ad4af77af5f2910e73596592030e37ab7">TID_CHAR</a>&nbsp;&nbsp;&nbsp;3</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rpc_8h.html#a681cbe2c114c62cecccb882544d2debb">TID_WORD</a>&nbsp;&nbsp;&nbsp;4</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rpc_8h.html#a4281dafac4285eae3e3c9be0a1d93c5a">TID_SHORT</a>&nbsp;&nbsp;&nbsp;5</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rpc_8h.html#afed9e8d519719d7347f9fdb3031201d1">TID_DWORD</a>&nbsp;&nbsp;&nbsp;6</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rpc_8h.html#ad950d5fde6dd3ea7eba59fb6760a38cb">TID_INT</a>&nbsp;&nbsp;&nbsp;7</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rpc_8h.html#a252eb84661dfaa5959b5cb316117d696">TID_BOOL</a>&nbsp;&nbsp;&nbsp;8</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rpc_8h.html#ae932ec1b283f6c4b9c30a6d489beea7f">TID_FLOAT</a>&nbsp;&nbsp;&nbsp;9</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rpc_8h.html#a13378fa303cf601b4b491866a6688362">TID_DOUBLE</a>&nbsp;&nbsp;&nbsp;10</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rpc_8h.html#ab0a4dbaa6dd29b5b9708a242c16ddaf2">TID_BITFIELD</a>&nbsp;&nbsp;&nbsp;11</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rpc_8h.html#ab81af1d9631a5c29500d506f0c3470cd">TID_STRING</a>&nbsp;&nbsp;&nbsp;12</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rpc_8h.html#ace0b097869238969f28899be5be86e42">TID_ARRAY</a>&nbsp;&nbsp;&nbsp;13</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rpc_8h.html#a8d82076a05b53876103e1c53d5878b75">TID_STRUCT</a>&nbsp;&nbsp;&nbsp;14</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rpc_8h.html#a15ae151ae0b7588b3327bd8451d9bcb8">TID_KEY</a>&nbsp;&nbsp;&nbsp;15</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rpc_8h.html#aa63f41f547c7f46f828aaf35073807ea">TID_LINK</a>&nbsp;&nbsp;&nbsp;16</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rpc_8h.html#aedf8b3d53db358c7f8b92514815ab3d7">TID_LAST</a>&nbsp;&nbsp;&nbsp;17</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rpc_8h.html#ac474bc71cdbc17abcc6fef87c7270b7e">CBYTE</a>(_i)&nbsp;&nbsp;&nbsp;(* ((unsigned char *)   prpc_param[_i]))</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rpc_8h.html#af9748dba944fbcce1b23a04a7536f429">CPBYTE</a>(_i)&nbsp;&nbsp;&nbsp;(  ((unsigned char *)   prpc_param[_i]))</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rpc_8h.html#a1ec7a9cdd438909308d9676e166749e4">CSHORT</a>(_i)&nbsp;&nbsp;&nbsp;(* ((short *)           prpc_param[_i]))</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rpc_8h.html#a56ac03823a57b913d5d8a87835b47055">CPSHORT</a>(_i)&nbsp;&nbsp;&nbsp;(  ((short *)           prpc_param[_i]))</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rpc_8h.html#a187949f830579556334ed017deea814c">CINT</a>(_i)&nbsp;&nbsp;&nbsp;(* ((int *)             prpc_param[_i]))</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rpc_8h.html#a6f5372871739a94e9a75f248daf21318">CPINT</a>(_i)&nbsp;&nbsp;&nbsp;(  ((int *)             prpc_param[_i]))</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rpc_8h.html#a94a92016dc66b32a6c75df667df20866">CWORD</a>(_i)&nbsp;&nbsp;&nbsp;(* ((unsigned short *)  prpc_param[_i]))</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rpc_8h.html#a68a6343add951d2d9ca99197eac42fd2">CPWORD</a>(_i)&nbsp;&nbsp;&nbsp;(  ((unsigned short *)  prpc_param[_i]))</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rpc_8h.html#ad9595cc9ad1892c7df9f15bbe13495f6">CLONG</a>(_i)&nbsp;&nbsp;&nbsp;(* ((long *)            prpc_param[_i]))</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rpc_8h.html#a1f71c6a633aa001a82db113af235e9fb">CPLONG</a>(_i)&nbsp;&nbsp;&nbsp;(  ((long *)            prpc_param[_i]))</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rpc_8h.html#a5510b5fa698f191723b72859fef9fb84">CDWORD</a>(_i)&nbsp;&nbsp;&nbsp;(* ((unsigned int *)    prpc_param[_i]))</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rpc_8h.html#afff8900742914b9c11f421e66c8baa3b">CPDWORD</a>(_i)&nbsp;&nbsp;&nbsp;(  ((unsigned int *)    prpc_param[_i]))</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rpc_8h.html#a5cfbcdf3b322483c5423d6546b222816">CBOOL</a>(_i)&nbsp;&nbsp;&nbsp;(* ((int *)             prpc_param[_i]))</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rpc_8h.html#ab4adced60e524ba83b8a7c0d1c17cf8c">CPBOOL</a>(_i)&nbsp;&nbsp;&nbsp;(  ((int *)             prpc_param[_i]))</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rpc_8h.html#a010a021df10d5c4741f1697ede034703">CFLOAT</a>(_i)&nbsp;&nbsp;&nbsp;(* ((float *)           prpc_param[_i]))</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rpc_8h.html#aef98b3ad3de189b2503754d66b17b148">CPFLOAT</a>(_i)&nbsp;&nbsp;&nbsp;(  ((float *)           prpc_param[_i]))</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rpc_8h.html#a2dd79a558506d2550d1683f654ef0c86">CDOUBLE</a>(_i)&nbsp;&nbsp;&nbsp;(* ((double *)          prpc_param[_i]))</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rpc_8h.html#afd437523c43788bd9f4a31226211c61d">CPDOUBLE</a>(_i)&nbsp;&nbsp;&nbsp;(  ((double *)          prpc_param[_i]))</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rpc_8h.html#a603a9cd4e80a71ff906945bc10c463ba">CSTRING</a>(_i)&nbsp;&nbsp;&nbsp;(  ((char *)            prpc_param[_i]))</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rpc_8h.html#ab084bb5524f1fa32e39113ce6e1924ba">CARRAY</a>(_i)&nbsp;&nbsp;&nbsp;(  ((void *)            prpc_param[_i]))</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rpc_8h.html#a26dfdb889f7bda38d3ad2336b4ff16ee">RPC_IN</a>&nbsp;&nbsp;&nbsp;(1 &lt;&lt; 0)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rpc_8h.html#a1cc93d6c9309b897244079eb8630ab23">RPC_OUT</a>&nbsp;&nbsp;&nbsp;(1 &lt;&lt; 1)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rpc_8h.html#a7b02a565c2de352f7ace2c5d442d82af">RPC_POINTER</a>&nbsp;&nbsp;&nbsp;(1 &lt;&lt; 2)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rpc_8h.html#aede6b3bb560abaf2e83d1d6d0f6ce3f3">RPC_FIXARRAY</a>&nbsp;&nbsp;&nbsp;(1 &lt;&lt; 3)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rpc_8h.html#ac8fee151706080dfb104b55cbf0088b9">RPC_VARARRAY</a>&nbsp;&nbsp;&nbsp;(1 &lt;&lt; 4)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rpc_8h.html#a5cf5e72e7cdd75567b08ef7b3bd9e182">RPC_OUTGOING</a>&nbsp;&nbsp;&nbsp;(1 &lt;&lt; 5)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rpc_8h.html#a27e7938ab3f2180591365a085dd60abf">RPC_MSCB_INIT</a>&nbsp;&nbsp;&nbsp;1</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rpc_8h.html#a407c73c4db0468b7982ad4cb12511a09">RPC_MSCB_EXIT</a>&nbsp;&nbsp;&nbsp;2</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rpc_8h.html#a280740afb5814b3f37478fd973a235d2">RPC_MSCB_RESET</a>&nbsp;&nbsp;&nbsp;3</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rpc_8h.html#a58d499237e057b69babe61bef68ba055">RPC_MSCB_REBOOT</a>&nbsp;&nbsp;&nbsp;4</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rpc_8h.html#ae59fd32f76bb45b1ef1a463b36c97008">RPC_MSCB_PING</a>&nbsp;&nbsp;&nbsp;5</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rpc_8h.html#aa773f4bcabdd0b845ee4e75c928214ed">RPC_MSCB_INFO</a>&nbsp;&nbsp;&nbsp;6</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rpc_8h.html#a09e19ceed367ec23b5a9dacd62617773">RPC_MSCB_INFO_VARIABLE</a>&nbsp;&nbsp;&nbsp;7</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rpc_8h.html#af0b345076fbe3e681df331db8cea9fa5">RPC_MSCB_SET_ADDR</a>&nbsp;&nbsp;&nbsp;8</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rpc_8h.html#ac40e690d0eb2c31c8a425f9c81dc6514">RPC_MSCB_WRITE</a>&nbsp;&nbsp;&nbsp;9</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rpc_8h.html#ac7c0fe58748da975c8e8decfdf8bff57">RPC_MSCB_WRITE_GROUP</a>&nbsp;&nbsp;&nbsp;10</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rpc_8h.html#aac672b62b9530a0f4d9a76597448ffcb">RPC_MSCB_FLASH</a>&nbsp;&nbsp;&nbsp;11</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rpc_8h.html#a2f7375d1f241cbec99eea689f1415c71">RPC_MSCB_UPLOAD</a>&nbsp;&nbsp;&nbsp;12</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rpc_8h.html#a4ef285641e20dd9783f38724955e35d9">RPC_MSCB_READ</a>&nbsp;&nbsp;&nbsp;13</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rpc_8h.html#a1967331ab0b89d2b41410bdee44e2623">RPC_MSCB_READ_RANGE</a>&nbsp;&nbsp;&nbsp;14</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rpc_8h.html#af1a893fae4ac9470eed7ed5e98c74ce0">RPC_MSCB_USER</a>&nbsp;&nbsp;&nbsp;15</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rpc_8h.html#a962c14a59ae56ebeb7ec9b41c2291abd">RPC_MSCB_ECHO</a>&nbsp;&nbsp;&nbsp;16</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rpc_8h.html#a1c46dd0cde00c49bb27267e2dcb35064">RPC_MSCB_SET_NAME</a>&nbsp;&nbsp;&nbsp;17</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rpc_8h.html#a7f91a1c6d4d6d7f6b685bafb7d537329">RPC_MSCB_ADDR</a>&nbsp;&nbsp;&nbsp;18</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rpc_8h.html#a58afbb9407f25e4814c2af63607ecb67">RPC_MSCB_WRITE_BLOCK</a>&nbsp;&nbsp;&nbsp;19</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rpc_8h.html#a368ad8857ddf1b14e7c84f52e0759813">RPC_MSCB_GET_DEVICE</a>&nbsp;&nbsp;&nbsp;20</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rpc_8h.html#aafc4cfc5e00cef7ee8c2a8f1d6a6cda6">MSCB_RPC_PORT</a>&nbsp;&nbsp;&nbsp;1176</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rpc_8h.html#ad29d62bce98ff8494be9337cb1a0a1f1">RPC_TIMEOUT</a>&nbsp;&nbsp;&nbsp;10000</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rpc_8h.html#a19b06966ce058cda8e5dca8d682b2bd3">RPC_SUCCESS</a>&nbsp;&nbsp;&nbsp;1</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rpc_8h.html#ae7db91aa77eeed4371ba30dfc122ded6">RPC_NET_ERROR</a>&nbsp;&nbsp;&nbsp;2</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rpc_8h.html#a3cbff68ac5b5d52f692b8e880f9ef76c">RPC_INVALID_ID</a>&nbsp;&nbsp;&nbsp;3</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rpc_8h.html#a1a35d5e05d16d9040eaad41c4434a20a">RPC_EXCEED_BUFFER</a>&nbsp;&nbsp;&nbsp;4</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rpc_8h.html#a8425c3e26e60db8a22a5da8ea5d664b1">RPC_ERR_TIMEOUT</a>&nbsp;&nbsp;&nbsp;5</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rpc_8h.html#a46bf3ace1698ee72389c30bc61d78686">ALIGN8</a>(x)&nbsp;&nbsp;&nbsp;(((x)+7) &amp; ~7)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rpc_8h.html#a31190e25ed33be085ff0af476af2c029">NET_TCP_SIZE</a>&nbsp;&nbsp;&nbsp;65535</td></tr>
<tr><td colspan="2"><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rpc_8h.html#a45ad571637f12eebb4489e0ff552e92f">mrpc_server_loop</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rpc_8h.html#af1ea933c2885aaaeb1d4df7d4d4c41b8">mrpc_connect</a> (char *<a class="el" href="webpaw_8c.html#af30d16605d5c80183cd199983a653081">host_name</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rpc_8h.html#a0cbd83332d5f06ae34a67a4bf83a75a9">mrpc_connected</a> (int fd)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rpc_8h.html#a53529e202a6db320a735e39b8387c547">mrpc_disconnect</a> (int sock)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rpc_8h.html#a0cabb2986a6392ef93051b48e73ad9d3">mrpc_call</a> (int fdi, const int routine_id,...)</td></tr>
</table>
<hr/><h2>Define Documentation</h2>
<a class="anchor" id="a46bf3ace1698ee72389c30bc61d78686"></a><!-- doxytag: member="rpc.h::ALIGN8" ref="a46bf3ace1698ee72389c30bc61d78686" args="(x)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ALIGN8</td>
          <td>(</td>
          <td class="paramtype">x&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td>&nbsp;&nbsp;&nbsp;(((x)+7) &amp; ~7)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="rpc_8h_source.html#l00192">192</a> of file <a class="el" href="rpc_8h_source.html">rpc.h</a>.</p>

</div>
</div>
<a class="anchor" id="ab084bb5524f1fa32e39113ce6e1924ba"></a><!-- doxytag: member="rpc.h::CARRAY" ref="ab084bb5524f1fa32e39113ce6e1924ba" args="(_i)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CARRAY</td>
          <td>(</td>
          <td class="paramtype">_i&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td>&nbsp;&nbsp;&nbsp;(  ((void *)            prpc_param[_i]))</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="rpc_8h_source.html#l00116">116</a> of file <a class="el" href="rpc_8h_source.html">rpc.h</a>.</p>

</div>
</div>
<a class="anchor" id="a5cfbcdf3b322483c5423d6546b222816"></a><!-- doxytag: member="rpc.h::CBOOL" ref="a5cfbcdf3b322483c5423d6546b222816" args="(_i)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CBOOL</td>
          <td>(</td>
          <td class="paramtype">_i&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td>&nbsp;&nbsp;&nbsp;(* ((int *)             prpc_param[_i]))</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="rpc_8h_source.html#l00106">106</a> of file <a class="el" href="rpc_8h_source.html">rpc.h</a>.</p>

</div>
</div>
<a class="anchor" id="ac474bc71cdbc17abcc6fef87c7270b7e"></a><!-- doxytag: member="rpc.h::CBYTE" ref="ac474bc71cdbc17abcc6fef87c7270b7e" args="(_i)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CBYTE</td>
          <td>(</td>
          <td class="paramtype">_i&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td>&nbsp;&nbsp;&nbsp;(* ((unsigned char *)   prpc_param[_i]))</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="rpc_8h_source.html#l00088">88</a> of file <a class="el" href="rpc_8h_source.html">rpc.h</a>.</p>

</div>
</div>
<a class="anchor" id="a2dd79a558506d2550d1683f654ef0c86"></a><!-- doxytag: member="rpc.h::CDOUBLE" ref="a2dd79a558506d2550d1683f654ef0c86" args="(_i)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CDOUBLE</td>
          <td>(</td>
          <td class="paramtype">_i&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td>&nbsp;&nbsp;&nbsp;(* ((double *)          prpc_param[_i]))</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="rpc_8h_source.html#l00112">112</a> of file <a class="el" href="rpc_8h_source.html">rpc.h</a>.</p>

</div>
</div>
<a class="anchor" id="a5510b5fa698f191723b72859fef9fb84"></a><!-- doxytag: member="rpc.h::CDWORD" ref="a5510b5fa698f191723b72859fef9fb84" args="(_i)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CDWORD</td>
          <td>(</td>
          <td class="paramtype">_i&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td>&nbsp;&nbsp;&nbsp;(* ((unsigned int *)    prpc_param[_i]))</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="rpc_8h_source.html#l00103">103</a> of file <a class="el" href="rpc_8h_source.html">rpc.h</a>.</p>

</div>
</div>
<a class="anchor" id="a010a021df10d5c4741f1697ede034703"></a><!-- doxytag: member="rpc.h::CFLOAT" ref="a010a021df10d5c4741f1697ede034703" args="(_i)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CFLOAT</td>
          <td>(</td>
          <td class="paramtype">_i&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td>&nbsp;&nbsp;&nbsp;(* ((float *)           prpc_param[_i]))</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="rpc_8h_source.html#l00109">109</a> of file <a class="el" href="rpc_8h_source.html">rpc.h</a>.</p>

</div>
</div>
<a class="anchor" id="a187949f830579556334ed017deea814c"></a><!-- doxytag: member="rpc.h::CINT" ref="a187949f830579556334ed017deea814c" args="(_i)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CINT</td>
          <td>(</td>
          <td class="paramtype">_i&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td>&nbsp;&nbsp;&nbsp;(* ((int *)             prpc_param[_i]))</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="rpc_8h_source.html#l00094">94</a> of file <a class="el" href="rpc_8h_source.html">rpc.h</a>.</p>

</div>
</div>
<a class="anchor" id="ad9595cc9ad1892c7df9f15bbe13495f6"></a><!-- doxytag: member="rpc.h::CLONG" ref="ad9595cc9ad1892c7df9f15bbe13495f6" args="(_i)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CLONG</td>
          <td>(</td>
          <td class="paramtype">_i&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td>&nbsp;&nbsp;&nbsp;(* ((long *)            prpc_param[_i]))</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="rpc_8h_source.html#l00100">100</a> of file <a class="el" href="rpc_8h_source.html">rpc.h</a>.</p>

</div>
</div>
<a class="anchor" id="ab4adced60e524ba83b8a7c0d1c17cf8c"></a><!-- doxytag: member="rpc.h::CPBOOL" ref="ab4adced60e524ba83b8a7c0d1c17cf8c" args="(_i)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CPBOOL</td>
          <td>(</td>
          <td class="paramtype">_i&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td>&nbsp;&nbsp;&nbsp;(  ((int *)             prpc_param[_i]))</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="rpc_8h_source.html#l00107">107</a> of file <a class="el" href="rpc_8h_source.html">rpc.h</a>.</p>

</div>
</div>
<a class="anchor" id="af9748dba944fbcce1b23a04a7536f429"></a><!-- doxytag: member="rpc.h::CPBYTE" ref="af9748dba944fbcce1b23a04a7536f429" args="(_i)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CPBYTE</td>
          <td>(</td>
          <td class="paramtype">_i&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td>&nbsp;&nbsp;&nbsp;(  ((unsigned char *)   prpc_param[_i]))</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="rpc_8h_source.html#l00089">89</a> of file <a class="el" href="rpc_8h_source.html">rpc.h</a>.</p>

</div>
</div>
<a class="anchor" id="afd437523c43788bd9f4a31226211c61d"></a><!-- doxytag: member="rpc.h::CPDOUBLE" ref="afd437523c43788bd9f4a31226211c61d" args="(_i)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CPDOUBLE</td>
          <td>(</td>
          <td class="paramtype">_i&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td>&nbsp;&nbsp;&nbsp;(  ((double *)          prpc_param[_i]))</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="rpc_8h_source.html#l00113">113</a> of file <a class="el" href="rpc_8h_source.html">rpc.h</a>.</p>

</div>
</div>
<a class="anchor" id="afff8900742914b9c11f421e66c8baa3b"></a><!-- doxytag: member="rpc.h::CPDWORD" ref="afff8900742914b9c11f421e66c8baa3b" args="(_i)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CPDWORD</td>
          <td>(</td>
          <td class="paramtype">_i&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td>&nbsp;&nbsp;&nbsp;(  ((unsigned int *)    prpc_param[_i]))</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="rpc_8h_source.html#l00104">104</a> of file <a class="el" href="rpc_8h_source.html">rpc.h</a>.</p>

</div>
</div>
<a class="anchor" id="aef98b3ad3de189b2503754d66b17b148"></a><!-- doxytag: member="rpc.h::CPFLOAT" ref="aef98b3ad3de189b2503754d66b17b148" args="(_i)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CPFLOAT</td>
          <td>(</td>
          <td class="paramtype">_i&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td>&nbsp;&nbsp;&nbsp;(  ((float *)           prpc_param[_i]))</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="rpc_8h_source.html#l00110">110</a> of file <a class="el" href="rpc_8h_source.html">rpc.h</a>.</p>

</div>
</div>
<a class="anchor" id="a6f5372871739a94e9a75f248daf21318"></a><!-- doxytag: member="rpc.h::CPINT" ref="a6f5372871739a94e9a75f248daf21318" args="(_i)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CPINT</td>
          <td>(</td>
          <td class="paramtype">_i&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td>&nbsp;&nbsp;&nbsp;(  ((int *)             prpc_param[_i]))</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="rpc_8h_source.html#l00095">95</a> of file <a class="el" href="rpc_8h_source.html">rpc.h</a>.</p>

</div>
</div>
<a class="anchor" id="a1f71c6a633aa001a82db113af235e9fb"></a><!-- doxytag: member="rpc.h::CPLONG" ref="a1f71c6a633aa001a82db113af235e9fb" args="(_i)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CPLONG</td>
          <td>(</td>
          <td class="paramtype">_i&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td>&nbsp;&nbsp;&nbsp;(  ((long *)            prpc_param[_i]))</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="rpc_8h_source.html#l00101">101</a> of file <a class="el" href="rpc_8h_source.html">rpc.h</a>.</p>

</div>
</div>
<a class="anchor" id="a56ac03823a57b913d5d8a87835b47055"></a><!-- doxytag: member="rpc.h::CPSHORT" ref="a56ac03823a57b913d5d8a87835b47055" args="(_i)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CPSHORT</td>
          <td>(</td>
          <td class="paramtype">_i&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td>&nbsp;&nbsp;&nbsp;(  ((short *)           prpc_param[_i]))</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="rpc_8h_source.html#l00092">92</a> of file <a class="el" href="rpc_8h_source.html">rpc.h</a>.</p>

</div>
</div>
<a class="anchor" id="a68a6343add951d2d9ca99197eac42fd2"></a><!-- doxytag: member="rpc.h::CPWORD" ref="a68a6343add951d2d9ca99197eac42fd2" args="(_i)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CPWORD</td>
          <td>(</td>
          <td class="paramtype">_i&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td>&nbsp;&nbsp;&nbsp;(  ((unsigned short *)  prpc_param[_i]))</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="rpc_8h_source.html#l00098">98</a> of file <a class="el" href="rpc_8h_source.html">rpc.h</a>.</p>

</div>
</div>
<a class="anchor" id="a1ec7a9cdd438909308d9676e166749e4"></a><!-- doxytag: member="rpc.h::CSHORT" ref="a1ec7a9cdd438909308d9676e166749e4" args="(_i)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CSHORT</td>
          <td>(</td>
          <td class="paramtype">_i&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td>&nbsp;&nbsp;&nbsp;(* ((short *)           prpc_param[_i]))</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="rpc_8h_source.html#l00091">91</a> of file <a class="el" href="rpc_8h_source.html">rpc.h</a>.</p>

</div>
</div>
<a class="anchor" id="a603a9cd4e80a71ff906945bc10c463ba"></a><!-- doxytag: member="rpc.h::CSTRING" ref="a603a9cd4e80a71ff906945bc10c463ba" args="(_i)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CSTRING</td>
          <td>(</td>
          <td class="paramtype">_i&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td>&nbsp;&nbsp;&nbsp;(  ((char *)            prpc_param[_i]))</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="rpc_8h_source.html#l00115">115</a> of file <a class="el" href="rpc_8h_source.html">rpc.h</a>.</p>

</div>
</div>
<a class="anchor" id="a94a92016dc66b32a6c75df667df20866"></a><!-- doxytag: member="rpc.h::CWORD" ref="a94a92016dc66b32a6c75df667df20866" args="(_i)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CWORD</td>
          <td>(</td>
          <td class="paramtype">_i&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td>&nbsp;&nbsp;&nbsp;(* ((unsigned short *)  prpc_param[_i]))</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="rpc_8h_source.html#l00097">97</a> of file <a class="el" href="rpc_8h_source.html">rpc.h</a>.</p>

</div>
</div>
<a class="anchor" id="aafc4cfc5e00cef7ee8c2a8f1d6a6cda6"></a><!-- doxytag: member="rpc.h::MSCB_RPC_PORT" ref="aafc4cfc5e00cef7ee8c2a8f1d6a6cda6" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MSCB_RPC_PORT&nbsp;&nbsp;&nbsp;1176</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="rpc_8h_source.html#l00179">179</a> of file <a class="el" href="rpc_8h_source.html">rpc.h</a>.</p>

<p>Referenced by <a class="el" href="rpc_8c_source.html#l00649">mrpc_connect()</a>, and <a class="el" href="rpc_8c_source.html#l01047">mrpc_server_loop()</a>.</p>

</div>
</div>
<a class="anchor" id="a31190e25ed33be085ff0af476af2c029"></a><!-- doxytag: member="rpc.h::NET_TCP_SIZE" ref="a31190e25ed33be085ff0af476af2c029" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define NET_TCP_SIZE&nbsp;&nbsp;&nbsp;65535</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="rpc_8h_source.html#l00195">195</a> of file <a class="el" href="rpc_8h_source.html">rpc.h</a>.</p>

</div>
</div>
<a class="anchor" id="a8425c3e26e60db8a22a5da8ea5d664b1"></a><!-- doxytag: member="rpc.h::RPC_ERR_TIMEOUT" ref="a8425c3e26e60db8a22a5da8ea5d664b1" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RPC_ERR_TIMEOUT&nbsp;&nbsp;&nbsp;5</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="rpc_8h_source.html#l00189">189</a> of file <a class="el" href="rpc_8h_source.html">rpc.h</a>.</p>

<p>Referenced by <a class="el" href="rpc_8c_source.html#l00756">mrpc_call()</a>.</p>

</div>
</div>
<a class="anchor" id="a1a35d5e05d16d9040eaad41c4434a20a"></a><!-- doxytag: member="rpc.h::RPC_EXCEED_BUFFER" ref="a1a35d5e05d16d9040eaad41c4434a20a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RPC_EXCEED_BUFFER&nbsp;&nbsp;&nbsp;4</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="rpc_8h_source.html#l00188">188</a> of file <a class="el" href="rpc_8h_source.html">rpc.h</a>.</p>

</div>
</div>
<a class="anchor" id="aede6b3bb560abaf2e83d1d6d0f6ce3f3"></a><!-- doxytag: member="rpc.h::RPC_FIXARRAY" ref="aede6b3bb560abaf2e83d1d6d0f6ce3f3" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RPC_FIXARRAY&nbsp;&nbsp;&nbsp;(1 &lt;&lt; 3)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="rpc_8h_source.html#l00122">122</a> of file <a class="el" href="rpc_8h_source.html">rpc.h</a>.</p>

</div>
</div>
<a class="anchor" id="a26dfdb889f7bda38d3ad2336b4ff16ee"></a><!-- doxytag: member="rpc.h::RPC_IN" ref="a26dfdb889f7bda38d3ad2336b4ff16ee" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RPC_IN&nbsp;&nbsp;&nbsp;(1 &lt;&lt; 0)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="rpc_8h_source.html#l00119">119</a> of file <a class="el" href="rpc_8h_source.html">rpc.h</a>.</p>

</div>
</div>
<a class="anchor" id="a3cbff68ac5b5d52f692b8e880f9ef76c"></a><!-- doxytag: member="rpc.h::RPC_INVALID_ID" ref="a3cbff68ac5b5d52f692b8e880f9ef76c" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RPC_INVALID_ID&nbsp;&nbsp;&nbsp;3</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="rpc_8h_source.html#l00187">187</a> of file <a class="el" href="rpc_8h_source.html">rpc.h</a>.</p>

</div>
</div>
<a class="anchor" id="a7f91a1c6d4d6d7f6b685bafb7d537329"></a><!-- doxytag: member="rpc.h::RPC_MSCB_ADDR" ref="a7f91a1c6d4d6d7f6b685bafb7d537329" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RPC_MSCB_ADDR&nbsp;&nbsp;&nbsp;18</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="rpc_8h_source.html#l00160">160</a> of file <a class="el" href="rpc_8h_source.html">rpc.h</a>.</p>

<p>Referenced by <a class="el" href="mscb_8c_source.html#l01909">mscb_addr()</a>, and <a class="el" href="rpc_8c_source.html#l00400">server_execute()</a>.</p>

</div>
</div>
<a class="anchor" id="a962c14a59ae56ebeb7ec9b41c2291abd"></a><!-- doxytag: member="rpc.h::RPC_MSCB_ECHO" ref="a962c14a59ae56ebeb7ec9b41c2291abd" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RPC_MSCB_ECHO&nbsp;&nbsp;&nbsp;16</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="rpc_8h_source.html#l00158">158</a> of file <a class="el" href="rpc_8h_source.html">rpc.h</a>.</p>

<p>Referenced by <a class="el" href="mscb_8c_source.html#l03243">mscb_echo()</a>, and <a class="el" href="rpc_8c_source.html#l00400">server_execute()</a>.</p>

</div>
</div>
<a class="anchor" id="a407c73c4db0468b7982ad4cb12511a09"></a><!-- doxytag: member="rpc.h::RPC_MSCB_EXIT" ref="a407c73c4db0468b7982ad4cb12511a09" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RPC_MSCB_EXIT&nbsp;&nbsp;&nbsp;2</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="rpc_8h_source.html#l00144">144</a> of file <a class="el" href="rpc_8h_source.html">rpc.h</a>.</p>

<p>Referenced by <a class="el" href="mscb_8c_source.html#l01750">mscb_exit()</a>, and <a class="el" href="rpc_8c_source.html#l00400">server_execute()</a>.</p>

</div>
</div>
<a class="anchor" id="aac672b62b9530a0f4d9a76597448ffcb"></a><!-- doxytag: member="rpc.h::RPC_MSCB_FLASH" ref="aac672b62b9530a0f4d9a76597448ffcb" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RPC_MSCB_FLASH&nbsp;&nbsp;&nbsp;11</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="rpc_8h_source.html#l00153">153</a> of file <a class="el" href="rpc_8h_source.html">rpc.h</a>.</p>

<p>Referenced by <a class="el" href="mscb_8c_source.html#l02626">mscb_flash()</a>, and <a class="el" href="rpc_8c_source.html#l00400">server_execute()</a>.</p>

</div>
</div>
<a class="anchor" id="a368ad8857ddf1b14e7c84f52e0759813"></a><!-- doxytag: member="rpc.h::RPC_MSCB_GET_DEVICE" ref="a368ad8857ddf1b14e7c84f52e0759813" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RPC_MSCB_GET_DEVICE&nbsp;&nbsp;&nbsp;20</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="rpc_8h_source.html#l00162">162</a> of file <a class="el" href="rpc_8h_source.html">rpc.h</a>.</p>

<p>Referenced by <a class="el" href="mscb_8c_source.html#l01800">mscb_get_device()</a>.</p>

</div>
</div>
<a class="anchor" id="aa773f4bcabdd0b845ee4e75c928214ed"></a><!-- doxytag: member="rpc.h::RPC_MSCB_INFO" ref="aa773f4bcabdd0b845ee4e75c928214ed" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RPC_MSCB_INFO&nbsp;&nbsp;&nbsp;6</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="rpc_8h_source.html#l00148">148</a> of file <a class="el" href="rpc_8h_source.html">rpc.h</a>.</p>

<p>Referenced by <a class="el" href="mscb_8c_source.html#l02156">mscb_info()</a>, and <a class="el" href="rpc_8c_source.html#l00400">server_execute()</a>.</p>

</div>
</div>
<a class="anchor" id="a09e19ceed367ec23b5a9dacd62617773"></a><!-- doxytag: member="rpc.h::RPC_MSCB_INFO_VARIABLE" ref="a09e19ceed367ec23b5a9dacd62617773" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RPC_MSCB_INFO_VARIABLE&nbsp;&nbsp;&nbsp;7</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="rpc_8h_source.html#l00149">149</a> of file <a class="el" href="rpc_8h_source.html">rpc.h</a>.</p>

<p>Referenced by <a class="el" href="mscb_8c_source.html#l02221">mscb_info_variable()</a>, and <a class="el" href="rpc_8c_source.html#l00400">server_execute()</a>.</p>

</div>
</div>
<a class="anchor" id="a27e7938ab3f2180591365a085dd60abf"></a><!-- doxytag: member="rpc.h::RPC_MSCB_INIT" ref="a27e7938ab3f2180591365a085dd60abf" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RPC_MSCB_INIT&nbsp;&nbsp;&nbsp;1</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="rpc_8h_source.html#l00143">143</a> of file <a class="el" href="rpc_8h_source.html">rpc.h</a>.</p>

<p>Referenced by <a class="el" href="mscb_8c_source.html#l01593">mscb_init()</a>, and <a class="el" href="rpc_8c_source.html#l00400">server_execute()</a>.</p>

</div>
</div>
<a class="anchor" id="ae59fd32f76bb45b1ef1a463b36c97008"></a><!-- doxytag: member="rpc.h::RPC_MSCB_PING" ref="ae59fd32f76bb45b1ef1a463b36c97008" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RPC_MSCB_PING&nbsp;&nbsp;&nbsp;5</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="rpc_8h_source.html#l00147">147</a> of file <a class="el" href="rpc_8h_source.html">rpc.h</a>.</p>

<p>Referenced by <a class="el" href="mscb_8c_source.html#l02116">mscb_ping()</a>, and <a class="el" href="rpc_8c_source.html#l00400">server_execute()</a>.</p>

</div>
</div>
<a class="anchor" id="a4ef285641e20dd9783f38724955e35d9"></a><!-- doxytag: member="rpc.h::RPC_MSCB_READ" ref="a4ef285641e20dd9783f38724955e35d9" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RPC_MSCB_READ&nbsp;&nbsp;&nbsp;13</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="rpc_8h_source.html#l00155">155</a> of file <a class="el" href="rpc_8h_source.html">rpc.h</a>.</p>

<p>Referenced by <a class="el" href="mscb_8c_source.html#l02939">mscb_read()</a>, and <a class="el" href="rpc_8c_source.html#l00400">server_execute()</a>.</p>

</div>
</div>
<a class="anchor" id="a1967331ab0b89d2b41410bdee44e2623"></a><!-- doxytag: member="rpc.h::RPC_MSCB_READ_RANGE" ref="a1967331ab0b89d2b41410bdee44e2623" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RPC_MSCB_READ_RANGE&nbsp;&nbsp;&nbsp;14</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="rpc_8h_source.html#l00156">156</a> of file <a class="el" href="rpc_8h_source.html">rpc.h</a>.</p>

<p>Referenced by <a class="el" href="mscb_8c_source.html#l03060">mscb_read_range()</a>, and <a class="el" href="rpc_8c_source.html#l00400">server_execute()</a>.</p>

</div>
</div>
<a class="anchor" id="a58d499237e057b69babe61bef68ba055"></a><!-- doxytag: member="rpc.h::RPC_MSCB_REBOOT" ref="a58d499237e057b69babe61bef68ba055" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RPC_MSCB_REBOOT&nbsp;&nbsp;&nbsp;4</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="rpc_8h_source.html#l00146">146</a> of file <a class="el" href="rpc_8h_source.html">rpc.h</a>.</p>

<p>Referenced by <a class="el" href="mscb_8c_source.html#l02021">mscb_reboot()</a>, and <a class="el" href="rpc_8c_source.html#l00400">server_execute()</a>.</p>

</div>
</div>
<a class="anchor" id="a280740afb5814b3f37478fd973a235d2"></a><!-- doxytag: member="rpc.h::RPC_MSCB_RESET" ref="a280740afb5814b3f37478fd973a235d2" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RPC_MSCB_RESET&nbsp;&nbsp;&nbsp;3</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="rpc_8h_source.html#l00145">145</a> of file <a class="el" href="rpc_8h_source.html">rpc.h</a>.</p>

<p>Referenced by <a class="el" href="mscb_8c_source.html#l02068">mscb_reset()</a>, and <a class="el" href="rpc_8c_source.html#l00400">server_execute()</a>.</p>

</div>
</div>
<a class="anchor" id="af0b345076fbe3e681df331db8cea9fa5"></a><!-- doxytag: member="rpc.h::RPC_MSCB_SET_ADDR" ref="af0b345076fbe3e681df331db8cea9fa5" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RPC_MSCB_SET_ADDR&nbsp;&nbsp;&nbsp;8</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="rpc_8h_source.html#l00150">150</a> of file <a class="el" href="rpc_8h_source.html">rpc.h</a>.</p>

<p>Referenced by <a class="el" href="mscb_8c_source.html#l02286">mscb_set_addr()</a>, and <a class="el" href="rpc_8c_source.html#l00400">server_execute()</a>.</p>

</div>
</div>
<a class="anchor" id="a1c46dd0cde00c49bb27267e2dcb35064"></a><!-- doxytag: member="rpc.h::RPC_MSCB_SET_NAME" ref="a1c46dd0cde00c49bb27267e2dcb35064" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RPC_MSCB_SET_NAME&nbsp;&nbsp;&nbsp;17</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="rpc_8h_source.html#l00159">159</a> of file <a class="el" href="rpc_8h_source.html">rpc.h</a>.</p>

<p>Referenced by <a class="el" href="mscb_8c_source.html#l02345">mscb_set_name()</a>, and <a class="el" href="rpc_8c_source.html#l00400">server_execute()</a>.</p>

</div>
</div>
<a class="anchor" id="a2f7375d1f241cbec99eea689f1415c71"></a><!-- doxytag: member="rpc.h::RPC_MSCB_UPLOAD" ref="a2f7375d1f241cbec99eea689f1415c71" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RPC_MSCB_UPLOAD&nbsp;&nbsp;&nbsp;12</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="rpc_8h_source.html#l00154">154</a> of file <a class="el" href="rpc_8h_source.html">rpc.h</a>.</p>

<p>Referenced by <a class="el" href="mscb_8c_source.html#l02686">mscb_upload()</a>, and <a class="el" href="rpc_8c_source.html#l00400">server_execute()</a>.</p>

</div>
</div>
<a class="anchor" id="af1a893fae4ac9470eed7ed5e98c74ce0"></a><!-- doxytag: member="rpc.h::RPC_MSCB_USER" ref="af1a893fae4ac9470eed7ed5e98c74ce0" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RPC_MSCB_USER&nbsp;&nbsp;&nbsp;15</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="rpc_8h_source.html#l00157">157</a> of file <a class="el" href="rpc_8h_source.html">rpc.h</a>.</p>

<p>Referenced by <a class="el" href="mscb_8c_source.html#l03154">mscb_user()</a>, and <a class="el" href="rpc_8c_source.html#l00400">server_execute()</a>.</p>

</div>
</div>
<a class="anchor" id="ac40e690d0eb2c31c8a425f9c81dc6514"></a><!-- doxytag: member="rpc.h::RPC_MSCB_WRITE" ref="ac40e690d0eb2c31c8a425f9c81dc6514" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RPC_MSCB_WRITE&nbsp;&nbsp;&nbsp;9</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="rpc_8h_source.html#l00151">151</a> of file <a class="el" href="rpc_8h_source.html">rpc.h</a>.</p>

<p>Referenced by <a class="el" href="mscb_8c_source.html#l02461">mscb_write()</a>, <a class="el" href="mscb_8c_source.html#l02549">mscb_write_block()</a>, and <a class="el" href="rpc_8c_source.html#l00400">server_execute()</a>.</p>

</div>
</div>
<a class="anchor" id="a58afbb9407f25e4814c2af63607ecb67"></a><!-- doxytag: member="rpc.h::RPC_MSCB_WRITE_BLOCK" ref="a58afbb9407f25e4814c2af63607ecb67" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RPC_MSCB_WRITE_BLOCK&nbsp;&nbsp;&nbsp;19</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="rpc_8h_source.html#l00161">161</a> of file <a class="el" href="rpc_8h_source.html">rpc.h</a>.</p>

</div>
</div>
<a class="anchor" id="ac7c0fe58748da975c8e8decfdf8bff57"></a><!-- doxytag: member="rpc.h::RPC_MSCB_WRITE_GROUP" ref="ac7c0fe58748da975c8e8decfdf8bff57" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RPC_MSCB_WRITE_GROUP&nbsp;&nbsp;&nbsp;10</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="rpc_8h_source.html#l00152">152</a> of file <a class="el" href="rpc_8h_source.html">rpc.h</a>.</p>

<p>Referenced by <a class="el" href="mscb_8c_source.html#l02401">mscb_write_group()</a>, and <a class="el" href="rpc_8c_source.html#l00400">server_execute()</a>.</p>

</div>
</div>
<a class="anchor" id="ae7db91aa77eeed4371ba30dfc122ded6"></a><!-- doxytag: member="rpc.h::RPC_NET_ERROR" ref="ae7db91aa77eeed4371ba30dfc122ded6" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RPC_NET_ERROR&nbsp;&nbsp;&nbsp;2</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="rpc_8h_source.html#l00186">186</a> of file <a class="el" href="rpc_8h_source.html">rpc.h</a>.</p>

</div>
</div>
<a class="anchor" id="a1cc93d6c9309b897244079eb8630ab23"></a><!-- doxytag: member="rpc.h::RPC_OUT" ref="a1cc93d6c9309b897244079eb8630ab23" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RPC_OUT&nbsp;&nbsp;&nbsp;(1 &lt;&lt; 1)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="rpc_8h_source.html#l00120">120</a> of file <a class="el" href="rpc_8h_source.html">rpc.h</a>.</p>

</div>
</div>
<a class="anchor" id="a5cf5e72e7cdd75567b08ef7b3bd9e182"></a><!-- doxytag: member="rpc.h::RPC_OUTGOING" ref="a5cf5e72e7cdd75567b08ef7b3bd9e182" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RPC_OUTGOING&nbsp;&nbsp;&nbsp;(1 &lt;&lt; 5)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="rpc_8h_source.html#l00124">124</a> of file <a class="el" href="rpc_8h_source.html">rpc.h</a>.</p>

</div>
</div>
<a class="anchor" id="a7b02a565c2de352f7ace2c5d442d82af"></a><!-- doxytag: member="rpc.h::RPC_POINTER" ref="a7b02a565c2de352f7ace2c5d442d82af" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RPC_POINTER&nbsp;&nbsp;&nbsp;(1 &lt;&lt; 2)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="rpc_8h_source.html#l00121">121</a> of file <a class="el" href="rpc_8h_source.html">rpc.h</a>.</p>

</div>
</div>
<a class="anchor" id="a19b06966ce058cda8e5dca8d682b2bd3"></a><!-- doxytag: member="rpc.h::RPC_SUCCESS" ref="a19b06966ce058cda8e5dca8d682b2bd3" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RPC_SUCCESS&nbsp;&nbsp;&nbsp;1</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="rpc_8h_source.html#l00185">185</a> of file <a class="el" href="rpc_8h_source.html">rpc.h</a>.</p>

</div>
</div>
<a class="anchor" id="ad29d62bce98ff8494be9337cb1a0a1f1"></a><!-- doxytag: member="rpc.h::RPC_TIMEOUT" ref="ad29d62bce98ff8494be9337cb1a0a1f1" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RPC_TIMEOUT&nbsp;&nbsp;&nbsp;10000</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="rpc_8h_source.html#l00182">182</a> of file <a class="el" href="rpc_8h_source.html">rpc.h</a>.</p>

</div>
</div>
<a class="anchor" id="ac8fee151706080dfb104b55cbf0088b9"></a><!-- doxytag: member="rpc.h::RPC_VARARRAY" ref="ac8fee151706080dfb104b55cbf0088b9" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RPC_VARARRAY&nbsp;&nbsp;&nbsp;(1 &lt;&lt; 4)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="rpc_8h_source.html#l00123">123</a> of file <a class="el" href="rpc_8h_source.html">rpc.h</a>.</p>

</div>
</div>
<a class="anchor" id="ace0b097869238969f28899be5be86e42"></a><!-- doxytag: member="rpc.h::TID_ARRAY" ref="ace0b097869238969f28899be5be86e42" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TID_ARRAY&nbsp;&nbsp;&nbsp;13</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="rpc_8h_source.html#l00082">82</a> of file <a class="el" href="rpc_8h_source.html">rpc.h</a>.</p>

</div>
</div>
<a class="anchor" id="ab0a4dbaa6dd29b5b9708a242c16ddaf2"></a><!-- doxytag: member="rpc.h::TID_BITFIELD" ref="ab0a4dbaa6dd29b5b9708a242c16ddaf2" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TID_BITFIELD&nbsp;&nbsp;&nbsp;11</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="rpc_8h_source.html#l00080">80</a> of file <a class="el" href="rpc_8h_source.html">rpc.h</a>.</p>

</div>
</div>
<a class="anchor" id="a252eb84661dfaa5959b5cb316117d696"></a><!-- doxytag: member="rpc.h::TID_BOOL" ref="a252eb84661dfaa5959b5cb316117d696" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TID_BOOL&nbsp;&nbsp;&nbsp;8</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="rpc_8h_source.html#l00077">77</a> of file <a class="el" href="rpc_8h_source.html">rpc.h</a>.</p>

</div>
</div>
<a class="anchor" id="a7499d3aa0ca98d255f5147494ab4f572"></a><!-- doxytag: member="rpc.h::TID_BYTE" ref="a7499d3aa0ca98d255f5147494ab4f572" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TID_BYTE&nbsp;&nbsp;&nbsp;1</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="rpc_8h_source.html#l00070">70</a> of file <a class="el" href="rpc_8h_source.html">rpc.h</a>.</p>

</div>
</div>
<a class="anchor" id="ad4af77af5f2910e73596592030e37ab7"></a><!-- doxytag: member="rpc.h::TID_CHAR" ref="ad4af77af5f2910e73596592030e37ab7" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TID_CHAR&nbsp;&nbsp;&nbsp;3</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="rpc_8h_source.html#l00072">72</a> of file <a class="el" href="rpc_8h_source.html">rpc.h</a>.</p>

</div>
</div>
<a class="anchor" id="a13378fa303cf601b4b491866a6688362"></a><!-- doxytag: member="rpc.h::TID_DOUBLE" ref="a13378fa303cf601b4b491866a6688362" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TID_DOUBLE&nbsp;&nbsp;&nbsp;10</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="rpc_8h_source.html#l00079">79</a> of file <a class="el" href="rpc_8h_source.html">rpc.h</a>.</p>

</div>
</div>
<a class="anchor" id="afed9e8d519719d7347f9fdb3031201d1"></a><!-- doxytag: member="rpc.h::TID_DWORD" ref="afed9e8d519719d7347f9fdb3031201d1" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TID_DWORD&nbsp;&nbsp;&nbsp;6</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="rpc_8h_source.html#l00075">75</a> of file <a class="el" href="rpc_8h_source.html">rpc.h</a>.</p>

</div>
</div>
<a class="anchor" id="ae932ec1b283f6c4b9c30a6d489beea7f"></a><!-- doxytag: member="rpc.h::TID_FLOAT" ref="ae932ec1b283f6c4b9c30a6d489beea7f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TID_FLOAT&nbsp;&nbsp;&nbsp;9</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="rpc_8h_source.html#l00078">78</a> of file <a class="el" href="rpc_8h_source.html">rpc.h</a>.</p>

</div>
</div>
<a class="anchor" id="ad950d5fde6dd3ea7eba59fb6760a38cb"></a><!-- doxytag: member="rpc.h::TID_INT" ref="ad950d5fde6dd3ea7eba59fb6760a38cb" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TID_INT&nbsp;&nbsp;&nbsp;7</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="rpc_8h_source.html#l00076">76</a> of file <a class="el" href="rpc_8h_source.html">rpc.h</a>.</p>

</div>
</div>
<a class="anchor" id="a15ae151ae0b7588b3327bd8451d9bcb8"></a><!-- doxytag: member="rpc.h::TID_KEY" ref="a15ae151ae0b7588b3327bd8451d9bcb8" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TID_KEY&nbsp;&nbsp;&nbsp;15</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="rpc_8h_source.html#l00084">84</a> of file <a class="el" href="rpc_8h_source.html">rpc.h</a>.</p>

</div>
</div>
<a class="anchor" id="aedf8b3d53db358c7f8b92514815ab3d7"></a><!-- doxytag: member="rpc.h::TID_LAST" ref="aedf8b3d53db358c7f8b92514815ab3d7" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TID_LAST&nbsp;&nbsp;&nbsp;17</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="rpc_8h_source.html#l00086">86</a> of file <a class="el" href="rpc_8h_source.html">rpc.h</a>.</p>

</div>
</div>
<a class="anchor" id="aa63f41f547c7f46f828aaf35073807ea"></a><!-- doxytag: member="rpc.h::TID_LINK" ref="aa63f41f547c7f46f828aaf35073807ea" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TID_LINK&nbsp;&nbsp;&nbsp;16</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="rpc_8h_source.html#l00085">85</a> of file <a class="el" href="rpc_8h_source.html">rpc.h</a>.</p>

</div>
</div>
<a class="anchor" id="a150e3437f490b1e7c0e11046a9ead174"></a><!-- doxytag: member="rpc.h::TID_SBYTE" ref="a150e3437f490b1e7c0e11046a9ead174" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TID_SBYTE&nbsp;&nbsp;&nbsp;2</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="rpc_8h_source.html#l00071">71</a> of file <a class="el" href="rpc_8h_source.html">rpc.h</a>.</p>

</div>
</div>
<a class="anchor" id="a4281dafac4285eae3e3c9be0a1d93c5a"></a><!-- doxytag: member="rpc.h::TID_SHORT" ref="a4281dafac4285eae3e3c9be0a1d93c5a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TID_SHORT&nbsp;&nbsp;&nbsp;5</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="rpc_8h_source.html#l00074">74</a> of file <a class="el" href="rpc_8h_source.html">rpc.h</a>.</p>

</div>
</div>
<a class="anchor" id="ab81af1d9631a5c29500d506f0c3470cd"></a><!-- doxytag: member="rpc.h::TID_STRING" ref="ab81af1d9631a5c29500d506f0c3470cd" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TID_STRING&nbsp;&nbsp;&nbsp;12</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="rpc_8h_source.html#l00081">81</a> of file <a class="el" href="rpc_8h_source.html">rpc.h</a>.</p>

</div>
</div>
<a class="anchor" id="a8d82076a05b53876103e1c53d5878b75"></a><!-- doxytag: member="rpc.h::TID_STRUCT" ref="a8d82076a05b53876103e1c53d5878b75" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TID_STRUCT&nbsp;&nbsp;&nbsp;14</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="rpc_8h_source.html#l00083">83</a> of file <a class="el" href="rpc_8h_source.html">rpc.h</a>.</p>

</div>
</div>
<a class="anchor" id="a681cbe2c114c62cecccb882544d2debb"></a><!-- doxytag: member="rpc.h::TID_WORD" ref="a681cbe2c114c62cecccb882544d2debb" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TID_WORD&nbsp;&nbsp;&nbsp;4</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="rpc_8h_source.html#l00073">73</a> of file <a class="el" href="rpc_8h_source.html">rpc.h</a>.</p>

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="a0cabb2986a6392ef93051b48e73ad9d3"></a><!-- doxytag: member="rpc.h::mrpc_call" ref="a0cabb2986a6392ef93051b48e73ad9d3" args="(int fdi, const int routine_id,...)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mrpc_call </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>fdi</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int&nbsp;</td>
          <td class="paramname"> <em>routine_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>...</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="rpc_8c_source.html#l00756">756</a> of file <a class="el" href="rpc_8c_source.html">rpc.c</a>.</p>

<p>References <a class="el" href="midas_8h_source.html#l00904">ALIGN8</a>, <a class="el" href="melog_8c_source.html#l00085">closesocket</a>, <a class="el" href="rpc_8c_source.html#l00298">debug_log()</a>, <a class="el" href="msystem_8h_source.html#l00336">FD_SETSIZE</a>, <a class="el" href="midas_8h_source.html#l01801">RPC_PARAM::flags</a>, <a class="el" href="msystem_8h_source.html#l00386">NET_COMMAND::header</a>, <a class="el" href="mdump_8c_source.html#l00115">i</a>, <a class="el" href="mana_8cpp_source.html#l00677">index</a>, <a class="el" href="rpc_8c_source.html#l00327">mrecv_tcp()</a>, <a class="el" href="rpc_8c_source.html#l00716">mrpc_va_arg()</a>, <a class="el" href="rpc_8c_source.html#l00373">msend_tcp()</a>, <a class="el" href="midas_8h_source.html#l01802">RPC_PARAM::n</a>, <a class="el" href="examples_2macro_2midas__macro_8h_source.html#l00039">name</a>, <a class="el" href="msystem_8h_source.html#l00257">NET_BUFFER_SIZE</a>, <a class="el" href="mana_8cpp_source.html#l00657">param</a>, <a class="el" href="midas_8h_source.html#l01808">RPC_LIST::param</a>, <a class="el" href="msystem_8h_source.html#l00387">NET_COMMAND::param</a>, <a class="el" href="msystem_8h_source.html#l00382">NET_COMMAND_HEADER::param_size</a>, <a class="el" href="msystem_8h_source.html#l00381">NET_COMMAND_HEADER::routine_id</a>, <a class="el" href="rpc_8h_source.html#l00189">RPC_ERR_TIMEOUT</a>, <a class="el" href="midas_8h_source.html#l01071">RPC_EXCEED_BUFFER</a>, <a class="el" href="midas_8h_source.html#l01784">RPC_FIXARRAY</a>, <a class="el" href="midas_8h_source.html#l01781">RPC_IN</a>, <a class="el" href="midas_8h_source.html#l01074">RPC_INVALID_ID</a>, <a class="el" href="midas_8h_source.html#l01069">RPC_NET_ERROR</a>, <a class="el" href="midas_8h_source.html#l01782">RPC_OUT</a>, <a class="el" href="midas_8h_source.html#l01783">RPC_POINTER</a>, <a class="el" href="midas_8h_source.html#l01070">RPC_TIMEOUT</a>, <a class="el" href="midas_8h_source.html#l01785">RPC_VARARRAY</a>, <a class="el" href="patch__mevb_8cpp_source.html#l00079">status</a>, <a class="el" href="midas_8h_source.html#l01800">RPC_PARAM::tid</a>, <a class="el" href="midas_8h_source.html#l00747">TID_ARRAY</a>, <a class="el" href="midas_8h_source.html#l00742">TID_BOOL</a>, <a class="el" href="midas_8h_source.html#l00735">TID_BYTE</a>, <a class="el" href="midas_8h_source.html#l00737">TID_CHAR</a>, <a class="el" href="midas_8h_source.html#l00744">TID_DOUBLE</a>, <a class="el" href="midas_8h_source.html#l00740">TID_DWORD</a>, <a class="el" href="midas_8h_source.html#l00743">TID_FLOAT</a>, <a class="el" href="midas_8h_source.html#l00741">TID_INT</a>, <a class="el" href="midas_8h_source.html#l00750">TID_LINK</a>, <a class="el" href="midas_8h_source.html#l00736">TID_SBYTE</a>, <a class="el" href="midas_8h_source.html#l00739">TID_SHORT</a>, <a class="el" href="midas_8h_source.html#l00746">TID_STRING</a>, <a class="el" href="midas_8h_source.html#l00748">TID_STRUCT</a>, <a class="el" href="midas_8h_source.html#l00738">TID_WORD</a>, and <a class="el" href="CAET_8h_source.html#l00002">time</a>.</p>

<p>Referenced by <a class="el" href="mscb_8c_source.html#l01909">mscb_addr()</a>, <a class="el" href="mscb_8c_source.html#l03243">mscb_echo()</a>, <a class="el" href="mscb_8c_source.html#l01750">mscb_exit()</a>, <a class="el" href="mscb_8c_source.html#l02626">mscb_flash()</a>, <a class="el" href="mscb_8c_source.html#l01800">mscb_get_device()</a>, <a class="el" href="mscb_8c_source.html#l02156">mscb_info()</a>, <a class="el" href="mscb_8c_source.html#l02221">mscb_info_variable()</a>, <a class="el" href="mscb_8c_source.html#l01593">mscb_init()</a>, <a class="el" href="mscb_8c_source.html#l02116">mscb_ping()</a>, <a class="el" href="mscb_8c_source.html#l02939">mscb_read()</a>, <a class="el" href="mscb_8c_source.html#l03060">mscb_read_range()</a>, <a class="el" href="mscb_8c_source.html#l02021">mscb_reboot()</a>, <a class="el" href="mscb_8c_source.html#l02068">mscb_reset()</a>, <a class="el" href="mscb_8c_source.html#l02286">mscb_set_addr()</a>, <a class="el" href="mscb_8c_source.html#l02345">mscb_set_name()</a>, <a class="el" href="mscb_8c_source.html#l02686">mscb_upload()</a>, <a class="el" href="mscb_8c_source.html#l03154">mscb_user()</a>, <a class="el" href="mscb_8c_source.html#l02461">mscb_write()</a>, <a class="el" href="mscb_8c_source.html#l02549">mscb_write_block()</a>, and <a class="el" href="mscb_8c_source.html#l02401">mscb_write_group()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00757"></a>00757 {
<a name="l00758"></a>00758    va_list ap, aptmp;
<a name="l00759"></a>00759    <span class="keywordtype">char</span> <a class="code" href="odbhist_8c.html#a45bb529d5408fcb730eeccb339110d3f">str</a>[256], arg[8], arg_tmp[8];
<a name="l00760"></a>00760    <a class="code" href="lrs1190_8c.html#a6877c9d7ac317ac3415ee1a1f92302a0">INT</a> arg_type;
<a name="l00761"></a>00761    <a class="code" href="lrs1190_8c.html#a6877c9d7ac317ac3415ee1a1f92302a0">INT</a> <a class="code" href="mdump_8c.html#a65a8886d814fb9bf73f9d4f0fd64d162">i</a>, <a class="code" href="mana_8cpp.html#a312c2cad451d6bb0536fb9ec2863be59">index</a>, <a class="code" href="patch__mevb_8cpp.html#a015eb90e0de9f16e87bd149d4b9ce959">status</a>;
<a name="l00762"></a>00762    <a class="code" href="lrs1190_8c.html#a6877c9d7ac317ac3415ee1a1f92302a0">INT</a> param_size, arg_size, send_size;
<a name="l00763"></a>00763    <a class="code" href="lrs1190_8c.html#a6877c9d7ac317ac3415ee1a1f92302a0">INT</a> tid, flags;
<a name="l00764"></a>00764    fd_set readfds;
<a name="l00765"></a>00765    <span class="keyword">struct </span>timeval <a class="code" href="getHist_8cpp.html#a654210ae605a61110cf5a8a0c9f2d72c">timeout</a>;
<a name="l00766"></a>00766    <span class="keywordtype">char</span> *param_ptr;
<a name="l00767"></a>00767    <span class="keywordtype">int</span> bpointer;
<a name="l00768"></a>00768    <a class="code" href="structNET__COMMAND.html">NET_COMMAND</a> *nc;
<a name="l00769"></a>00769    time_t now;
<a name="l00770"></a>00770 
<a name="l00771"></a>00771    nc = (<a class="code" href="structNET__COMMAND.html">NET_COMMAND</a> *) <a class="code" href="rpc_8c.html#ae6ae865fae68267535e16f3a36033155">net_buffer</a>;
<a name="l00772"></a>00772    nc-&gt;<a class="code" href="structNET__COMMAND.html#a4427c9f240aabad9b39e98431ecc6ecf">header</a>.<a class="code" href="structNET__COMMAND__HEADER.html#a9805c951be630cb91f6cf5e5fd8a34f4">routine_id</a> = routine_id;
<a name="l00773"></a>00773 
<a name="l00774"></a>00774    <span class="keywordflow">for</span> (i = 0;; i++)
<a name="l00775"></a>00775       <span class="keywordflow">if</span> (<a class="code" href="rpc__clnt_8c.html#a4defa2be69416de20c5e49014806bd59">rpc_list</a>[i].<span class="keywordtype">id</span> == routine_id || <a class="code" href="rpc__clnt_8c.html#a4defa2be69416de20c5e49014806bd59">rpc_list</a>[i].<span class="keywordtype">id</span> == 0)
<a name="l00776"></a>00776          <span class="keywordflow">break</span>;
<a name="l00777"></a>00777    index = i;
<a name="l00778"></a>00778    <span class="keywordflow">if</span> (<a class="code" href="rpc__clnt_8c.html#a4defa2be69416de20c5e49014806bd59">rpc_list</a>[i].<span class="keywordtype">id</span> == 0) {
<a name="l00779"></a>00779       printf(<span class="stringliteral">&quot;mrpc_call: invalid rpc ID (%d)\n&quot;</span>, routine_id);
<a name="l00780"></a>00780       <span class="keywordflow">return</span> <a class="code" href="group__err25.html#ga3cbff68ac5b5d52f692b8e880f9ef76c">RPC_INVALID_ID</a>;
<a name="l00781"></a>00781    }
<a name="l00782"></a>00782 
<a name="l00783"></a>00783    <a class="code" href="CAET_8h.html#ab2d5aa7fce1a14d8bddfb2c333ea9679">time</a>(&amp;now);
<a name="l00784"></a>00784    strcpy(str, ctime(&amp;now));
<a name="l00785"></a>00785    str[19] = 0;
<a name="l00786"></a>00786    <a class="code" href="mscb_8c.html#a3f9b1b1b3b2ee5719d9ed7c7fc26638d">debug_log</a>(<span class="stringliteral">&quot;%s %s (&quot;</span>, str + 4, <a class="code" href="rpc__clnt_8c.html#a4defa2be69416de20c5e49014806bd59">rpc_list</a>[i].<a class="code" href="examples_2macro_2midas__macro_8h.html#ab53d3e6e6144dcb27935cc71c57bc508">name</a>);
<a name="l00787"></a>00787 
<a name="l00788"></a>00788    <span class="comment">/* examine variable argument list and convert it to parameter array */</span>
<a name="l00789"></a>00789    va_start(ap, routine_id);
<a name="l00790"></a>00790 
<a name="l00791"></a>00791    <span class="keywordflow">for</span> (i = 0, param_ptr = nc-&gt;<a class="code" href="structNET__COMMAND.html#a53f81d5350a50df99246d335dd703c63">param</a>; <a class="code" href="rpc__clnt_8c.html#a4defa2be69416de20c5e49014806bd59">rpc_list</a>[index].<a class="code" href="group__midasincludecode.html#ga9293ae60144cf99d2f5c8e4eaa30e3b0">param</a>[i].<a class="code" href="structRPC__PARAM.html#a7c0b23cc9ea8ef88c56b8ebcc2760be0">tid</a> != 0; i++) {
<a name="l00792"></a>00792       tid = <a class="code" href="rpc__clnt_8c.html#a4defa2be69416de20c5e49014806bd59">rpc_list</a>[index].<a class="code" href="group__midasincludecode.html#ga9293ae60144cf99d2f5c8e4eaa30e3b0">param</a>[i].<a class="code" href="structRPC__PARAM.html#a7c0b23cc9ea8ef88c56b8ebcc2760be0">tid</a>;
<a name="l00793"></a>00793       flags = <a class="code" href="rpc__clnt_8c.html#a4defa2be69416de20c5e49014806bd59">rpc_list</a>[index].<a class="code" href="group__midasincludecode.html#ga9293ae60144cf99d2f5c8e4eaa30e3b0">param</a>[i].<a class="code" href="group__midasincludecode.html#ga48fa8602fcb035305d1b87cf15354c2e">flags</a>;
<a name="l00794"></a>00794 
<a name="l00795"></a>00795       bpointer = (flags &amp; <a class="code" href="group__msectionh.html#ga7b02a565c2de352f7ace2c5d442d82af">RPC_POINTER</a>) || (flags &amp; <a class="code" href="group__msectionh.html#ga1cc93d6c9309b897244079eb8630ab23">RPC_OUT</a>) ||
<a name="l00796"></a>00796           (flags &amp; <a class="code" href="group__msectionh.html#gaede6b3bb560abaf2e83d1d6d0f6ce3f3">RPC_FIXARRAY</a>) || (flags &amp; <a class="code" href="group__msectionh.html#gac8fee151706080dfb104b55cbf0088b9">RPC_VARARRAY</a>) ||
<a name="l00797"></a>00797           tid == <a class="code" href="group__mdefineh.html#gab81af1d9631a5c29500d506f0c3470cd">TID_STRING</a> || tid == <a class="code" href="group__mdefineh.html#gace0b097869238969f28899be5be86e42">TID_ARRAY</a> || tid == <a class="code" href="group__mdefineh.html#ga8d82076a05b53876103e1c53d5878b75">TID_STRUCT</a> || tid == <a class="code" href="group__mdefineh.html#gaa63f41f547c7f46f828aaf35073807ea">TID_LINK</a>;
<a name="l00798"></a>00798 
<a name="l00799"></a>00799       <span class="keywordflow">if</span> (bpointer)
<a name="l00800"></a>00800          arg_type = <a class="code" href="group__mdefineh.html#gace0b097869238969f28899be5be86e42">TID_ARRAY</a>;
<a name="l00801"></a>00801       <span class="keywordflow">else</span>
<a name="l00802"></a>00802          arg_type = tid;
<a name="l00803"></a>00803 
<a name="l00804"></a>00804       <span class="comment">/* floats are passed as doubles, at least under NT */</span>
<a name="l00805"></a>00805       <span class="keywordflow">if</span> (tid == <a class="code" href="group__mdefineh.html#gae932ec1b283f6c4b9c30a6d489beea7f">TID_FLOAT</a> &amp;&amp; !bpointer)
<a name="l00806"></a>00806          arg_type = <a class="code" href="group__mdefineh.html#ga13378fa303cf601b4b491866a6688362">TID_DOUBLE</a>;
<a name="l00807"></a>00807 
<a name="l00808"></a>00808       <span class="comment">/* get pointer to argument */</span>
<a name="l00809"></a>00809       <a class="code" href="rpc_8c.html#a45d56e6957f29e3c89f0afa538816ed0">mrpc_va_arg</a>(&amp;ap, arg_type, arg);
<a name="l00810"></a>00810 
<a name="l00811"></a>00811       <span class="keywordflow">if</span> (flags &amp; <a class="code" href="group__msectionh.html#ga26dfdb889f7bda38d3ad2336b4ff16ee">RPC_IN</a>) {
<a name="l00812"></a>00812          <span class="keywordflow">if</span> (bpointer)
<a name="l00813"></a>00813             arg_size = <a class="code" href="rpc_8c.html#a870ec69b135fce2887bc9b6035555400">mtid_size</a>[tid];
<a name="l00814"></a>00814          <span class="keywordflow">else</span>
<a name="l00815"></a>00815             arg_size = <a class="code" href="rpc_8c.html#a870ec69b135fce2887bc9b6035555400">mtid_size</a>[arg_type];
<a name="l00816"></a>00816 
<a name="l00817"></a>00817          <span class="comment">/* for strings, the argument size depends on the string length */</span>
<a name="l00818"></a>00818          <span class="keywordflow">if</span> (tid == <a class="code" href="group__mdefineh.html#gab81af1d9631a5c29500d506f0c3470cd">TID_STRING</a> || tid == <a class="code" href="group__mdefineh.html#gaa63f41f547c7f46f828aaf35073807ea">TID_LINK</a>)
<a name="l00819"></a>00819             arg_size = 1 + strlen((<span class="keywordtype">char</span> *) *((<span class="keywordtype">char</span> **) arg));
<a name="l00820"></a>00820 
<a name="l00821"></a>00821          <span class="comment">/* for varibale length arrays, the size is given by</span>
<a name="l00822"></a>00822 <span class="comment">            the next parameter on the stack */</span>
<a name="l00823"></a>00823          <span class="keywordflow">if</span> (flags &amp; RPC_VARARRAY) {
<a name="l00824"></a>00824             memcpy(&amp;aptmp, &amp;ap, <span class="keyword">sizeof</span>(ap));
<a name="l00825"></a>00825             <a class="code" href="rpc_8c.html#a45d56e6957f29e3c89f0afa538816ed0">mrpc_va_arg</a>(&amp;aptmp, <a class="code" href="group__mdefineh.html#gace0b097869238969f28899be5be86e42">TID_ARRAY</a>, arg_tmp);
<a name="l00826"></a>00826 
<a name="l00827"></a>00827             <span class="keywordflow">if</span> (flags &amp; RPC_OUT)
<a name="l00828"></a>00828                arg_size = *((<a class="code" href="lrs1190_8c.html#a6877c9d7ac317ac3415ee1a1f92302a0">INT</a> *) * ((<span class="keywordtype">void</span> **) arg_tmp));
<a name="l00829"></a>00829             <span class="keywordflow">else</span>
<a name="l00830"></a>00830                arg_size = *((<a class="code" href="lrs1190_8c.html#a6877c9d7ac317ac3415ee1a1f92302a0">INT</a> *) arg_tmp);
<a name="l00831"></a>00831 
<a name="l00832"></a>00832             *((<a class="code" href="lrs1190_8c.html#a6877c9d7ac317ac3415ee1a1f92302a0">INT</a> *) param_ptr) = <a class="code" href="group__mmacroh.html#ga46bf3ace1698ee72389c30bc61d78686">ALIGN8</a>(arg_size);
<a name="l00833"></a>00833             param_ptr += <a class="code" href="group__mmacroh.html#ga46bf3ace1698ee72389c30bc61d78686">ALIGN8</a>(<span class="keyword">sizeof</span>(<a class="code" href="lrs1190_8c.html#a6877c9d7ac317ac3415ee1a1f92302a0">INT</a>));
<a name="l00834"></a>00834          }
<a name="l00835"></a>00835 
<a name="l00836"></a>00836          <span class="keywordflow">if</span> (tid == <a class="code" href="group__mdefineh.html#ga8d82076a05b53876103e1c53d5878b75">TID_STRUCT</a> || (flags &amp; <a class="code" href="group__msectionh.html#gaede6b3bb560abaf2e83d1d6d0f6ce3f3">RPC_FIXARRAY</a>))
<a name="l00837"></a>00837             arg_size = <a class="code" href="rpc__clnt_8c.html#a4defa2be69416de20c5e49014806bd59">rpc_list</a>[index].<a class="code" href="group__midasincludecode.html#ga9293ae60144cf99d2f5c8e4eaa30e3b0">param</a>[i].<a class="code" href="group__midasincludecode.html#ga9efd6f83a7fb77a714f70de65da00c51">n</a>;
<a name="l00838"></a>00838 
<a name="l00839"></a>00839          <span class="comment">/* always align parameter size */</span>
<a name="l00840"></a>00840          param_size = <a class="code" href="group__mmacroh.html#ga46bf3ace1698ee72389c30bc61d78686">ALIGN8</a>(arg_size);
<a name="l00841"></a>00841 
<a name="l00842"></a>00842          <span class="keywordflow">if</span> ((<span class="keywordtype">int</span>) param_ptr - (<span class="keywordtype">int</span>) nc + param_size &gt; <a class="code" href="group__msystemincludecode.html#ga7554d698d310e57e1c933a8f952a4bf8">NET_BUFFER_SIZE</a>) {
<a name="l00843"></a>00843             printf
<a name="l00844"></a>00844                 (<span class="stringliteral">&quot;mrpc_call: parameters (%d) too large for network buffer (%d)\n&quot;</span>,
<a name="l00845"></a>00845                  (<span class="keywordtype">int</span>) param_ptr - (<span class="keywordtype">int</span>) nc + param_size, <a class="code" href="group__msystemincludecode.html#ga7554d698d310e57e1c933a8f952a4bf8">NET_BUFFER_SIZE</a>);
<a name="l00846"></a>00846             <span class="keywordflow">return</span> <a class="code" href="group__err25.html#ga1a35d5e05d16d9040eaad41c4434a20a">RPC_EXCEED_BUFFER</a>;
<a name="l00847"></a>00847          }
<a name="l00848"></a>00848 
<a name="l00849"></a>00849          <span class="keywordflow">if</span> (bpointer)
<a name="l00850"></a>00850             memcpy(param_ptr, (<span class="keywordtype">void</span> *) *((<span class="keywordtype">void</span> **) arg), arg_size);
<a name="l00851"></a>00851          <span class="keywordflow">else</span> {
<a name="l00852"></a>00852             <span class="comment">/* floats are passed as doubles on most systems */</span>
<a name="l00853"></a>00853             <span class="keywordflow">if</span> (tid != <a class="code" href="group__mdefineh.html#gae932ec1b283f6c4b9c30a6d489beea7f">TID_FLOAT</a>)
<a name="l00854"></a>00854                memcpy(param_ptr, arg, arg_size);
<a name="l00855"></a>00855             <span class="keywordflow">else</span>
<a name="l00856"></a>00856                *((<span class="keywordtype">float</span> *) param_ptr) = (float) *((<span class="keywordtype">double</span> *) arg);
<a name="l00857"></a>00857          }
<a name="l00858"></a>00858 
<a name="l00859"></a>00859          <span class="keywordflow">switch</span> (tid) {
<a name="l00860"></a>00860          <span class="keywordflow">case</span> <a class="code" href="group__mdefineh.html#ga7499d3aa0ca98d255f5147494ab4f572">TID_BYTE</a>:
<a name="l00861"></a>00861             <a class="code" href="mscb_8c.html#a3f9b1b1b3b2ee5719d9ed7c7fc26638d">debug_log</a>(<span class="stringliteral">&quot; %d&quot;</span>, *((<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *) param_ptr));
<a name="l00862"></a>00862             <span class="keywordflow">break</span>;
<a name="l00863"></a>00863          <span class="keywordflow">case</span> <a class="code" href="group__mdefineh.html#ga150e3437f490b1e7c0e11046a9ead174">TID_SBYTE</a>:
<a name="l00864"></a>00864             <a class="code" href="mscb_8c.html#a3f9b1b1b3b2ee5719d9ed7c7fc26638d">debug_log</a>(<span class="stringliteral">&quot; %d&quot;</span>, *((<span class="keywordtype">char</span> *) param_ptr));
<a name="l00865"></a>00865             <span class="keywordflow">break</span>;
<a name="l00866"></a>00866          <span class="keywordflow">case</span> <a class="code" href="group__mdefineh.html#gad4af77af5f2910e73596592030e37ab7">TID_CHAR</a>:
<a name="l00867"></a>00867             <a class="code" href="mscb_8c.html#a3f9b1b1b3b2ee5719d9ed7c7fc26638d">debug_log</a>(<span class="stringliteral">&quot; %c&quot;</span>, *((<span class="keywordtype">char</span> *) param_ptr));
<a name="l00868"></a>00868             <span class="keywordflow">break</span>;
<a name="l00869"></a>00869          <span class="keywordflow">case</span> <a class="code" href="group__mdefineh.html#ga681cbe2c114c62cecccb882544d2debb">TID_WORD</a>:
<a name="l00870"></a>00870             <a class="code" href="mscb_8c.html#a3f9b1b1b3b2ee5719d9ed7c7fc26638d">debug_log</a>(<span class="stringliteral">&quot; %d&quot;</span>, *((<span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> *) param_ptr));
<a name="l00871"></a>00871             <span class="keywordflow">break</span>;
<a name="l00872"></a>00872          <span class="keywordflow">case</span> <a class="code" href="group__mdefineh.html#ga4281dafac4285eae3e3c9be0a1d93c5a">TID_SHORT</a>:
<a name="l00873"></a>00873             <a class="code" href="mscb_8c.html#a3f9b1b1b3b2ee5719d9ed7c7fc26638d">debug_log</a>(<span class="stringliteral">&quot; %d&quot;</span>, *((<span class="keywordtype">short</span> *) param_ptr));
<a name="l00874"></a>00874             <span class="keywordflow">break</span>;
<a name="l00875"></a>00875          <span class="keywordflow">case</span> <a class="code" href="group__mdefineh.html#gafed9e8d519719d7347f9fdb3031201d1">TID_DWORD</a>:
<a name="l00876"></a>00876             <a class="code" href="mscb_8c.html#a3f9b1b1b3b2ee5719d9ed7c7fc26638d">debug_log</a>(<span class="stringliteral">&quot; %d&quot;</span>, *((<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> *) param_ptr));
<a name="l00877"></a>00877             <span class="keywordflow">break</span>;
<a name="l00878"></a>00878          <span class="keywordflow">case</span> <a class="code" href="group__mdefineh.html#gad950d5fde6dd3ea7eba59fb6760a38cb">TID_INT</a>:
<a name="l00879"></a>00879             <a class="code" href="mscb_8c.html#a3f9b1b1b3b2ee5719d9ed7c7fc26638d">debug_log</a>(<span class="stringliteral">&quot; %d&quot;</span>, *((<span class="keywordtype">int</span> *) param_ptr));
<a name="l00880"></a>00880             <span class="keywordflow">break</span>;
<a name="l00881"></a>00881          <span class="keywordflow">case</span> <a class="code" href="group__mdefineh.html#ga252eb84661dfaa5959b5cb316117d696">TID_BOOL</a>:
<a name="l00882"></a>00882             <a class="code" href="mscb_8c.html#a3f9b1b1b3b2ee5719d9ed7c7fc26638d">debug_log</a>(<span class="stringliteral">&quot; %d&quot;</span>, *((<span class="keywordtype">int</span> *) param_ptr));
<a name="l00883"></a>00883             <span class="keywordflow">break</span>;
<a name="l00884"></a>00884          <span class="keywordflow">case</span> <a class="code" href="group__mdefineh.html#gae932ec1b283f6c4b9c30a6d489beea7f">TID_FLOAT</a>:
<a name="l00885"></a>00885             <a class="code" href="mscb_8c.html#a3f9b1b1b3b2ee5719d9ed7c7fc26638d">debug_log</a>(<span class="stringliteral">&quot; %f&quot;</span>, *((<span class="keywordtype">float</span> *) param_ptr));
<a name="l00886"></a>00886             <span class="keywordflow">break</span>;
<a name="l00887"></a>00887          <span class="keywordflow">case</span> <a class="code" href="group__mdefineh.html#ga13378fa303cf601b4b491866a6688362">TID_DOUBLE</a>:
<a name="l00888"></a>00888             <a class="code" href="mscb_8c.html#a3f9b1b1b3b2ee5719d9ed7c7fc26638d">debug_log</a>(<span class="stringliteral">&quot; %lf&quot;</span>, *((<span class="keywordtype">double</span> *) param_ptr));
<a name="l00889"></a>00889             <span class="keywordflow">break</span>;
<a name="l00890"></a>00890          <span class="keywordflow">case</span> <a class="code" href="group__mdefineh.html#gab81af1d9631a5c29500d506f0c3470cd">TID_STRING</a>:
<a name="l00891"></a>00891             <a class="code" href="mscb_8c.html#a3f9b1b1b3b2ee5719d9ed7c7fc26638d">debug_log</a>(<span class="stringliteral">&quot; %s&quot;</span>, (<span class="keywordtype">char</span> *) param_ptr);
<a name="l00892"></a>00892             <span class="keywordflow">break</span>;
<a name="l00893"></a>00893 
<a name="l00894"></a>00894          <span class="keywordflow">default</span>:
<a name="l00895"></a>00895             <a class="code" href="mscb_8c.html#a3f9b1b1b3b2ee5719d9ed7c7fc26638d">debug_log</a>(<span class="stringliteral">&quot; *&quot;</span>);
<a name="l00896"></a>00896             <span class="keywordflow">break</span>;
<a name="l00897"></a>00897          }
<a name="l00898"></a>00898 
<a name="l00899"></a>00899          param_ptr += param_size;
<a name="l00900"></a>00900 
<a name="l00901"></a>00901       }
<a name="l00902"></a>00902    }
<a name="l00903"></a>00903 
<a name="l00904"></a>00904    <a class="code" href="mscb_8c.html#a3f9b1b1b3b2ee5719d9ed7c7fc26638d">debug_log</a>(<span class="stringliteral">&quot; ) : (&quot;</span>);
<a name="l00905"></a>00905 
<a name="l00906"></a>00906    va_end(ap);
<a name="l00907"></a>00907 
<a name="l00908"></a>00908    nc-&gt;<a class="code" href="structNET__COMMAND.html#a4427c9f240aabad9b39e98431ecc6ecf">header</a>.<a class="code" href="structNET__COMMAND__HEADER.html#ae0c91723d3f4843639e659ccde63dc5a">param_size</a> = (int) param_ptr - (<span class="keywordtype">int</span>) nc-&gt;<a class="code" href="structNET__COMMAND.html#a53f81d5350a50df99246d335dd703c63">param</a>;
<a name="l00909"></a>00909 
<a name="l00910"></a>00910    send_size = nc-&gt;<a class="code" href="structNET__COMMAND.html#a4427c9f240aabad9b39e98431ecc6ecf">header</a>.<a class="code" href="structNET__COMMAND__HEADER.html#ae0c91723d3f4843639e659ccde63dc5a">param_size</a> + <span class="keyword">sizeof</span>(<a class="code" href="structNET__COMMAND__HEADER.html">NET_COMMAND_HEADER</a>);
<a name="l00911"></a>00911 
<a name="l00912"></a>00912    <span class="comment">/* send and wait for reply on send socket */</span>
<a name="l00913"></a>00913    i = <a class="code" href="rpc_8c.html#a76e5054eab87203ee04f10d036ab228b">msend_tcp</a>(sock, (<span class="keywordtype">char</span> *) nc, send_size);
<a name="l00914"></a>00914    <span class="keywordflow">if</span> (i != send_size) {
<a name="l00915"></a>00915       printf(<span class="stringliteral">&quot;mrpc_call: msend_tcp() failed\n&quot;</span>);
<a name="l00916"></a>00916       <span class="keywordflow">return</span> <a class="code" href="group__err25.html#gae7db91aa77eeed4371ba30dfc122ded6">RPC_NET_ERROR</a>;
<a name="l00917"></a>00917    }
<a name="l00918"></a>00918 
<a name="l00919"></a>00919    <span class="comment">/* make some timeout checking */</span>
<a name="l00920"></a>00920    FD_ZERO(&amp;readfds);
<a name="l00921"></a>00921    FD_SET(sock, &amp;readfds);
<a name="l00922"></a>00922 
<a name="l00923"></a>00923    <a class="code" href="getHist_8cpp.html#a654210ae605a61110cf5a8a0c9f2d72c">timeout</a>.tv_sec = <a class="code" href="group__err25.html#gad29d62bce98ff8494be9337cb1a0a1f1">RPC_TIMEOUT</a> / 1000;
<a name="l00924"></a>00924    <a class="code" href="getHist_8cpp.html#a654210ae605a61110cf5a8a0c9f2d72c">timeout</a>.tv_usec = (<a class="code" href="group__err25.html#gad29d62bce98ff8494be9337cb1a0a1f1">RPC_TIMEOUT</a> % 1000) * 1000;
<a name="l00925"></a>00925 
<a name="l00926"></a>00926    select(<a class="code" href="group__msystemincludecode.html#ga86c5dbf5a99358e288f573d6a1e0873f">FD_SETSIZE</a>, (<span class="keywordtype">void</span> *) &amp;readfds, NULL, NULL, (<span class="keywordtype">void</span> *) &amp;<a class="code" href="getHist_8cpp.html#a654210ae605a61110cf5a8a0c9f2d72c">timeout</a>);
<a name="l00927"></a>00927 
<a name="l00928"></a>00928    <span class="keywordflow">if</span> (!FD_ISSET(sock, &amp;readfds)) {
<a name="l00929"></a>00929       printf(<span class="stringliteral">&quot;mrpc_call: rpc timeout, routine = \&quot;%s\&quot;\n&quot;</span>, <a class="code" href="rpc__clnt_8c.html#a4defa2be69416de20c5e49014806bd59">rpc_list</a>[index].<a class="code" href="examples_2macro_2midas__macro_8h.html#ab53d3e6e6144dcb27935cc71c57bc508">name</a>);
<a name="l00930"></a>00930 
<a name="l00931"></a>00931       <span class="comment">/* disconnect to avoid that the reply to this mrpc_call comes at</span>
<a name="l00932"></a>00932 <span class="comment">         the next mrpc_call */</span>
<a name="l00933"></a>00933       <a class="code" href="melog_8c.html#a5a3eb971b466278ada4f7f87399a537c">closesocket</a>(sock);
<a name="l00934"></a>00934 
<a name="l00935"></a>00935       <span class="keywordflow">return</span> <a class="code" href="rpc_8h.html#a8425c3e26e60db8a22a5da8ea5d664b1">RPC_ERR_TIMEOUT</a>;
<a name="l00936"></a>00936    }
<a name="l00937"></a>00937 
<a name="l00938"></a>00938    <span class="comment">/* receive result on send socket */</span>
<a name="l00939"></a>00939    i = <a class="code" href="rpc_8c.html#a5814ff2ef954d762c6c301da71c72141">mrecv_tcp</a>(sock, <a class="code" href="rpc_8c.html#ae6ae865fae68267535e16f3a36033155">net_buffer</a>, <a class="code" href="group__msystemincludecode.html#ga7554d698d310e57e1c933a8f952a4bf8">NET_BUFFER_SIZE</a>);
<a name="l00940"></a>00940 
<a name="l00941"></a>00941    <span class="keywordflow">if</span> (i &lt;= 0) {
<a name="l00942"></a>00942       printf(<span class="stringliteral">&quot;mrpc_call: mrecv_tcp() failed, routine = \&quot;%s\&quot;\n&quot;</span>, <a class="code" href="rpc__clnt_8c.html#a4defa2be69416de20c5e49014806bd59">rpc_list</a>[index].<a class="code" href="examples_2macro_2midas__macro_8h.html#ab53d3e6e6144dcb27935cc71c57bc508">name</a>);
<a name="l00943"></a>00943       <span class="keywordflow">return</span> <a class="code" href="group__err25.html#gae7db91aa77eeed4371ba30dfc122ded6">RPC_NET_ERROR</a>;
<a name="l00944"></a>00944    }
<a name="l00945"></a>00945 
<a name="l00946"></a>00946    <span class="comment">/* extract result variables and place it to argument list */</span>
<a name="l00947"></a>00947    status = nc-&gt;<a class="code" href="structNET__COMMAND.html#a4427c9f240aabad9b39e98431ecc6ecf">header</a>.<a class="code" href="structNET__COMMAND__HEADER.html#a9805c951be630cb91f6cf5e5fd8a34f4">routine_id</a>;
<a name="l00948"></a>00948 
<a name="l00949"></a>00949    va_start(ap, routine_id);
<a name="l00950"></a>00950 
<a name="l00951"></a>00951    <span class="keywordflow">for</span> (i = 0, param_ptr = nc-&gt;<a class="code" href="structNET__COMMAND.html#a53f81d5350a50df99246d335dd703c63">param</a>; <a class="code" href="rpc__clnt_8c.html#a4defa2be69416de20c5e49014806bd59">rpc_list</a>[index].<a class="code" href="group__midasincludecode.html#ga9293ae60144cf99d2f5c8e4eaa30e3b0">param</a>[i].<a class="code" href="structRPC__PARAM.html#a7c0b23cc9ea8ef88c56b8ebcc2760be0">tid</a> != 0; i++) {
<a name="l00952"></a>00952       tid = <a class="code" href="rpc__clnt_8c.html#a4defa2be69416de20c5e49014806bd59">rpc_list</a>[index].<a class="code" href="group__midasincludecode.html#ga9293ae60144cf99d2f5c8e4eaa30e3b0">param</a>[i].<a class="code" href="structRPC__PARAM.html#a7c0b23cc9ea8ef88c56b8ebcc2760be0">tid</a>;
<a name="l00953"></a>00953       flags = <a class="code" href="rpc__clnt_8c.html#a4defa2be69416de20c5e49014806bd59">rpc_list</a>[index].<a class="code" href="group__midasincludecode.html#ga9293ae60144cf99d2f5c8e4eaa30e3b0">param</a>[i].<a class="code" href="group__midasincludecode.html#ga48fa8602fcb035305d1b87cf15354c2e">flags</a>;
<a name="l00954"></a>00954 
<a name="l00955"></a>00955       bpointer = (flags &amp; <a class="code" href="group__msectionh.html#ga7b02a565c2de352f7ace2c5d442d82af">RPC_POINTER</a>) || (flags &amp; RPC_OUT) ||
<a name="l00956"></a>00956           (flags &amp; RPC_FIXARRAY) || (flags &amp; RPC_VARARRAY) ||
<a name="l00957"></a>00957           tid == <a class="code" href="group__mdefineh.html#gab81af1d9631a5c29500d506f0c3470cd">TID_STRING</a> || tid == <a class="code" href="group__mdefineh.html#gace0b097869238969f28899be5be86e42">TID_ARRAY</a> || tid == <a class="code" href="group__mdefineh.html#ga8d82076a05b53876103e1c53d5878b75">TID_STRUCT</a> || tid == <a class="code" href="group__mdefineh.html#gaa63f41f547c7f46f828aaf35073807ea">TID_LINK</a>;
<a name="l00958"></a>00958 
<a name="l00959"></a>00959       <span class="keywordflow">if</span> (bpointer)
<a name="l00960"></a>00960          arg_type = <a class="code" href="group__mdefineh.html#gace0b097869238969f28899be5be86e42">TID_ARRAY</a>;
<a name="l00961"></a>00961       <span class="keywordflow">else</span>
<a name="l00962"></a>00962          arg_type = <a class="code" href="rpc__clnt_8c.html#a4defa2be69416de20c5e49014806bd59">rpc_list</a>[index].<a class="code" href="group__midasincludecode.html#ga9293ae60144cf99d2f5c8e4eaa30e3b0">param</a>[i].<a class="code" href="structRPC__PARAM.html#a7c0b23cc9ea8ef88c56b8ebcc2760be0">tid</a>;
<a name="l00963"></a>00963 
<a name="l00964"></a>00964       <span class="keywordflow">if</span> (tid == <a class="code" href="group__mdefineh.html#gae932ec1b283f6c4b9c30a6d489beea7f">TID_FLOAT</a> &amp;&amp; !bpointer)
<a name="l00965"></a>00965          arg_type = <a class="code" href="group__mdefineh.html#ga13378fa303cf601b4b491866a6688362">TID_DOUBLE</a>;
<a name="l00966"></a>00966 
<a name="l00967"></a>00967       <a class="code" href="rpc_8c.html#a45d56e6957f29e3c89f0afa538816ed0">mrpc_va_arg</a>(&amp;ap, arg_type, arg);
<a name="l00968"></a>00968 
<a name="l00969"></a>00969       <span class="keywordflow">if</span> (<a class="code" href="rpc__clnt_8c.html#a4defa2be69416de20c5e49014806bd59">rpc_list</a>[index].<a class="code" href="mana_8cpp.html#a6dadda9a6f1103026d1d128fe203aa9a">param</a>[i].flags &amp; RPC_OUT) {
<a name="l00970"></a>00970          tid = <a class="code" href="rpc__clnt_8c.html#a4defa2be69416de20c5e49014806bd59">rpc_list</a>[index].<a class="code" href="group__midasincludecode.html#ga9293ae60144cf99d2f5c8e4eaa30e3b0">param</a>[i].<a class="code" href="structRPC__PARAM.html#a7c0b23cc9ea8ef88c56b8ebcc2760be0">tid</a>;
<a name="l00971"></a>00971          arg_size = <a class="code" href="rpc_8c.html#a870ec69b135fce2887bc9b6035555400">mtid_size</a>[tid];
<a name="l00972"></a>00972 
<a name="l00973"></a>00973          <span class="keywordflow">if</span> (tid == <a class="code" href="group__mdefineh.html#gab81af1d9631a5c29500d506f0c3470cd">TID_STRING</a> || tid == <a class="code" href="group__mdefineh.html#gaa63f41f547c7f46f828aaf35073807ea">TID_LINK</a>)
<a name="l00974"></a>00974             arg_size = strlen((<span class="keywordtype">char</span> *) (param_ptr)) + 1;
<a name="l00975"></a>00975 
<a name="l00976"></a>00976          <span class="keywordflow">if</span> (flags &amp; RPC_VARARRAY) {
<a name="l00977"></a>00977             arg_size = *((<a class="code" href="lrs1190_8c.html#a6877c9d7ac317ac3415ee1a1f92302a0">INT</a> *) param_ptr);
<a name="l00978"></a>00978             param_ptr += <a class="code" href="group__mmacroh.html#ga46bf3ace1698ee72389c30bc61d78686">ALIGN8</a>(<span class="keyword">sizeof</span>(<a class="code" href="lrs1190_8c.html#a6877c9d7ac317ac3415ee1a1f92302a0">INT</a>));
<a name="l00979"></a>00979          }
<a name="l00980"></a>00980 
<a name="l00981"></a>00981          <span class="keywordflow">if</span> (tid == <a class="code" href="group__mdefineh.html#ga8d82076a05b53876103e1c53d5878b75">TID_STRUCT</a> || (flags &amp; RPC_FIXARRAY))
<a name="l00982"></a>00982             arg_size = <a class="code" href="rpc__clnt_8c.html#a4defa2be69416de20c5e49014806bd59">rpc_list</a>[index].<a class="code" href="group__midasincludecode.html#ga9293ae60144cf99d2f5c8e4eaa30e3b0">param</a>[i].<a class="code" href="group__midasincludecode.html#ga9efd6f83a7fb77a714f70de65da00c51">n</a>;
<a name="l00983"></a>00983 
<a name="l00984"></a>00984          <span class="comment">/* return parameters are always pointers */</span>
<a name="l00985"></a>00985          <span class="keywordflow">if</span> (*((<span class="keywordtype">char</span> **) arg))
<a name="l00986"></a>00986             memcpy((<span class="keywordtype">void</span> *) *((<span class="keywordtype">char</span> **) arg), param_ptr, arg_size);
<a name="l00987"></a>00987 
<a name="l00988"></a>00988          <span class="comment">/* parameter size is always aligned */</span>
<a name="l00989"></a>00989          param_size = <a class="code" href="group__mmacroh.html#ga46bf3ace1698ee72389c30bc61d78686">ALIGN8</a>(arg_size);
<a name="l00990"></a>00990 
<a name="l00991"></a>00991          <span class="keywordflow">switch</span> (tid) {
<a name="l00992"></a>00992          <span class="keywordflow">case</span> <a class="code" href="group__mdefineh.html#ga7499d3aa0ca98d255f5147494ab4f572">TID_BYTE</a>:
<a name="l00993"></a>00993             <a class="code" href="mscb_8c.html#a3f9b1b1b3b2ee5719d9ed7c7fc26638d">debug_log</a>(<span class="stringliteral">&quot; %d&quot;</span>, *((<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *) param_ptr));
<a name="l00994"></a>00994             <span class="keywordflow">break</span>;
<a name="l00995"></a>00995          <span class="keywordflow">case</span> <a class="code" href="group__mdefineh.html#ga150e3437f490b1e7c0e11046a9ead174">TID_SBYTE</a>:
<a name="l00996"></a>00996             <a class="code" href="mscb_8c.html#a3f9b1b1b3b2ee5719d9ed7c7fc26638d">debug_log</a>(<span class="stringliteral">&quot; %d&quot;</span>, *((<span class="keywordtype">char</span> *) param_ptr));
<a name="l00997"></a>00997             <span class="keywordflow">break</span>;
<a name="l00998"></a>00998          <span class="keywordflow">case</span> <a class="code" href="group__mdefineh.html#gad4af77af5f2910e73596592030e37ab7">TID_CHAR</a>:
<a name="l00999"></a>00999             <a class="code" href="mscb_8c.html#a3f9b1b1b3b2ee5719d9ed7c7fc26638d">debug_log</a>(<span class="stringliteral">&quot; %c&quot;</span>, *((<span class="keywordtype">char</span> *) param_ptr));
<a name="l01000"></a>01000             <span class="keywordflow">break</span>;
<a name="l01001"></a>01001          <span class="keywordflow">case</span> <a class="code" href="group__mdefineh.html#ga681cbe2c114c62cecccb882544d2debb">TID_WORD</a>:
<a name="l01002"></a>01002             <a class="code" href="mscb_8c.html#a3f9b1b1b3b2ee5719d9ed7c7fc26638d">debug_log</a>(<span class="stringliteral">&quot; %d&quot;</span>, *((<span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> *) param_ptr));
<a name="l01003"></a>01003             <span class="keywordflow">break</span>;
<a name="l01004"></a>01004          <span class="keywordflow">case</span> <a class="code" href="group__mdefineh.html#ga4281dafac4285eae3e3c9be0a1d93c5a">TID_SHORT</a>:
<a name="l01005"></a>01005             <a class="code" href="mscb_8c.html#a3f9b1b1b3b2ee5719d9ed7c7fc26638d">debug_log</a>(<span class="stringliteral">&quot; %d&quot;</span>, *((<span class="keywordtype">short</span> *) param_ptr));
<a name="l01006"></a>01006             <span class="keywordflow">break</span>;
<a name="l01007"></a>01007          <span class="keywordflow">case</span> <a class="code" href="group__mdefineh.html#gafed9e8d519719d7347f9fdb3031201d1">TID_DWORD</a>:
<a name="l01008"></a>01008             <a class="code" href="mscb_8c.html#a3f9b1b1b3b2ee5719d9ed7c7fc26638d">debug_log</a>(<span class="stringliteral">&quot; %d&quot;</span>, *((<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> *) param_ptr));
<a name="l01009"></a>01009             <span class="keywordflow">break</span>;
<a name="l01010"></a>01010          <span class="keywordflow">case</span> <a class="code" href="group__mdefineh.html#gad950d5fde6dd3ea7eba59fb6760a38cb">TID_INT</a>:
<a name="l01011"></a>01011             <a class="code" href="mscb_8c.html#a3f9b1b1b3b2ee5719d9ed7c7fc26638d">debug_log</a>(<span class="stringliteral">&quot; %d&quot;</span>, *((<span class="keywordtype">int</span> *) param_ptr));
<a name="l01012"></a>01012             <span class="keywordflow">break</span>;
<a name="l01013"></a>01013          <span class="keywordflow">case</span> <a class="code" href="group__mdefineh.html#ga252eb84661dfaa5959b5cb316117d696">TID_BOOL</a>:
<a name="l01014"></a>01014             <a class="code" href="mscb_8c.html#a3f9b1b1b3b2ee5719d9ed7c7fc26638d">debug_log</a>(<span class="stringliteral">&quot; %d&quot;</span>, *((<span class="keywordtype">int</span> *) param_ptr));
<a name="l01015"></a>01015             <span class="keywordflow">break</span>;
<a name="l01016"></a>01016          <span class="keywordflow">case</span> <a class="code" href="group__mdefineh.html#gae932ec1b283f6c4b9c30a6d489beea7f">TID_FLOAT</a>:
<a name="l01017"></a>01017             <a class="code" href="mscb_8c.html#a3f9b1b1b3b2ee5719d9ed7c7fc26638d">debug_log</a>(<span class="stringliteral">&quot; %f&quot;</span>, *((<span class="keywordtype">float</span> *) param_ptr));
<a name="l01018"></a>01018             <span class="keywordflow">break</span>;
<a name="l01019"></a>01019          <span class="keywordflow">case</span> <a class="code" href="group__mdefineh.html#ga13378fa303cf601b4b491866a6688362">TID_DOUBLE</a>:
<a name="l01020"></a>01020             <a class="code" href="mscb_8c.html#a3f9b1b1b3b2ee5719d9ed7c7fc26638d">debug_log</a>(<span class="stringliteral">&quot; %lf&quot;</span>, *((<span class="keywordtype">double</span> *) param_ptr));
<a name="l01021"></a>01021             <span class="keywordflow">break</span>;
<a name="l01022"></a>01022          <span class="keywordflow">case</span> <a class="code" href="group__mdefineh.html#gab81af1d9631a5c29500d506f0c3470cd">TID_STRING</a>:
<a name="l01023"></a>01023             <a class="code" href="mscb_8c.html#a3f9b1b1b3b2ee5719d9ed7c7fc26638d">debug_log</a>(<span class="stringliteral">&quot; %s&quot;</span>, (<span class="keywordtype">char</span> *) param_ptr);
<a name="l01024"></a>01024             <span class="keywordflow">break</span>;
<a name="l01025"></a>01025 
<a name="l01026"></a>01026          <span class="keywordflow">default</span>:
<a name="l01027"></a>01027             <a class="code" href="mscb_8c.html#a3f9b1b1b3b2ee5719d9ed7c7fc26638d">debug_log</a>(<span class="stringliteral">&quot; *&quot;</span>);
<a name="l01028"></a>01028             <span class="keywordflow">break</span>;
<a name="l01029"></a>01029          }
<a name="l01030"></a>01030 
<a name="l01031"></a>01031          param_ptr += param_size;
<a name="l01032"></a>01032       }
<a name="l01033"></a>01033    }
<a name="l01034"></a>01034 
<a name="l01035"></a>01035    <a class="code" href="mscb_8c.html#a3f9b1b1b3b2ee5719d9ed7c7fc26638d">debug_log</a>(<span class="stringliteral">&quot; ) : %d\n&quot;</span>, status);
<a name="l01036"></a>01036 
<a name="l01037"></a>01037    va_end(ap);
<a name="l01038"></a>01038 
<a name="l01039"></a>01039    <span class="keywordflow">return</span> status;
<a name="l01040"></a>01040 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="af1ea933c2885aaaeb1d4df7d4d4c41b8"></a><!-- doxytag: member="rpc.h::mrpc_connect" ref="af1ea933c2885aaaeb1d4df7d4d4c41b8" args="(char *host_name)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mrpc_connect </td>
          <td>(</td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>host_name</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="rpc_8c_source.html#l00649">649</a> of file <a class="el" href="rpc_8c_source.html">rpc.c</a>.</p>

<p>References <a class="el" href="rpc_8h_source.html#l00179">MSCB_RPC_PORT</a>, and <a class="el" href="patch__mevb_8cpp_source.html#l00079">status</a>.</p>

<p>Referenced by <a class="el" href="mscb_8c_source.html#l01593">mscb_init()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00650"></a>00650 {
<a name="l00651"></a>00651    <a class="code" href="lrs1190_8c.html#a6877c9d7ac317ac3415ee1a1f92302a0">INT</a> <a class="code" href="patch__mevb_8cpp.html#a015eb90e0de9f16e87bd149d4b9ce959">status</a>, sock;
<a name="l00652"></a>00652    <span class="keyword">struct </span>sockaddr_in bind_addr;
<a name="l00653"></a>00653    <span class="keyword">struct </span>hostent *phe;
<a name="l00654"></a>00654 
<a name="l00655"></a>00655 <span class="preprocessor">#ifdef _MSC_VER</span>
<a name="l00656"></a>00656 <span class="preprocessor"></span>   {
<a name="l00657"></a>00657       WSADATA WSAData;
<a name="l00658"></a>00658 
<a name="l00659"></a>00659       <span class="comment">/* Start windows sockets */</span>
<a name="l00660"></a>00660       <span class="keywordflow">if</span> (WSAStartup(MAKEWORD(1, 1), &amp;WSAData) != 0)
<a name="l00661"></a>00661          <span class="keywordflow">return</span> -1;
<a name="l00662"></a>00662    }
<a name="l00663"></a>00663 <span class="preprocessor">#endif</span>
<a name="l00664"></a>00664 <span class="preprocessor"></span>
<a name="l00665"></a>00665    <span class="comment">/* create a new socket for connecting to remote server */</span>
<a name="l00666"></a>00666    sock = socket(AF_INET, SOCK_STREAM, 0);
<a name="l00667"></a>00667    <span class="keywordflow">if</span> (sock == -1) {
<a name="l00668"></a>00668       perror(<span class="stringliteral">&quot;mrpc_connect&quot;</span>);
<a name="l00669"></a>00669       <span class="keywordflow">return</span> -1;
<a name="l00670"></a>00670    }
<a name="l00671"></a>00671 
<a name="l00672"></a>00672    <span class="comment">/* let OS choose any port number */</span>
<a name="l00673"></a>00673    memset(&amp;bind_addr, 0, <span class="keyword">sizeof</span>(bind_addr));
<a name="l00674"></a>00674    bind_addr.sin_family = AF_INET;
<a name="l00675"></a>00675    bind_addr.sin_addr.s_addr = 0;
<a name="l00676"></a>00676    bind_addr.sin_port = 0;
<a name="l00677"></a>00677 
<a name="l00678"></a>00678    status = bind(sock, (<span class="keywordtype">void</span> *) &amp;bind_addr, <span class="keyword">sizeof</span>(bind_addr));
<a name="l00679"></a>00679    <span class="keywordflow">if</span> (status &lt; 0) {
<a name="l00680"></a>00680       perror(<span class="stringliteral">&quot;mrpc_connect&quot;</span>);
<a name="l00681"></a>00681       <span class="keywordflow">return</span> -1;
<a name="l00682"></a>00682    }
<a name="l00683"></a>00683 
<a name="l00684"></a>00684    <span class="comment">/* connect to remote node */</span>
<a name="l00685"></a>00685    memset(&amp;bind_addr, 0, <span class="keyword">sizeof</span>(bind_addr));
<a name="l00686"></a>00686    bind_addr.sin_family = AF_INET;
<a name="l00687"></a>00687    bind_addr.sin_addr.s_addr = 0;
<a name="l00688"></a>00688    bind_addr.sin_port = htons((<span class="keywordtype">short</span>) <a class="code" href="rpc_8h.html#aafc4cfc5e00cef7ee8c2a8f1d6a6cda6">MSCB_RPC_PORT</a>);
<a name="l00689"></a>00689 
<a name="l00690"></a>00690    phe = gethostbyname(<a class="code" href="crate6__CAEN__TDC_2mfe__mucap_8c.html#af65cc3664520b7cd0817adc7106f9624">host_name</a>);
<a name="l00691"></a>00691    <span class="keywordflow">if</span> (phe == NULL) {
<a name="l00692"></a>00692       perror(<span class="stringliteral">&quot;mrpc_connect&quot;</span>);
<a name="l00693"></a>00693       <span class="keywordflow">return</span> -1;
<a name="l00694"></a>00694    }
<a name="l00695"></a>00695    memcpy((<span class="keywordtype">char</span> *) &amp;(bind_addr.sin_addr), phe-&gt;h_addr, phe-&gt;h_length);
<a name="l00696"></a>00696 
<a name="l00697"></a>00697    status = connect(sock, (<span class="keywordtype">void</span> *) &amp;bind_addr, <span class="keyword">sizeof</span>(bind_addr));
<a name="l00698"></a>00698    <span class="keywordflow">if</span> (status != 0) {
<a name="l00699"></a>00699       perror(<span class="stringliteral">&quot;mrpc_connect&quot;</span>);
<a name="l00700"></a>00700       <span class="keywordflow">return</span> -1;
<a name="l00701"></a>00701    }
<a name="l00702"></a>00702 
<a name="l00703"></a>00703    <span class="keywordflow">return</span> sock;
<a name="l00704"></a>00704 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a0cbd83332d5f06ae34a67a4bf83a75a9"></a><!-- doxytag: member="rpc.h::mrpc_connected" ref="a0cbd83332d5f06ae34a67a4bf83a75a9" args="(int fd)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mrpc_connected </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>fd</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mscb_8c_source.html#l01586">1586</a> of file <a class="el" href="mscb_8c_source.html">mscb.c</a>.</p>

<p>References <a class="el" href="mscb_8h_source.html#l00265">MSCB_TYPE_RPC</a>, and <a class="el" href="mscb_8h_source.html#l00269">MSCB_FD::type</a>.</p>

<p>Referenced by <a class="el" href="mscb_8c_source.html#l01909">mscb_addr()</a>, <a class="el" href="mscb_8c_source.html#l03243">mscb_echo()</a>, <a class="el" href="mscb_8c_source.html#l01750">mscb_exit()</a>, <a class="el" href="mscb_8c_source.html#l02626">mscb_flash()</a>, <a class="el" href="mscb_8c_source.html#l01800">mscb_get_device()</a>, <a class="el" href="mscb_8c_source.html#l02156">mscb_info()</a>, <a class="el" href="mscb_8c_source.html#l02221">mscb_info_variable()</a>, <a class="el" href="mscb_8c_source.html#l02116">mscb_ping()</a>, <a class="el" href="mscb_8c_source.html#l02939">mscb_read()</a>, <a class="el" href="mscb_8c_source.html#l03060">mscb_read_range()</a>, <a class="el" href="mscb_8c_source.html#l02021">mscb_reboot()</a>, <a class="el" href="mscb_8c_source.html#l02068">mscb_reset()</a>, <a class="el" href="mscb_8c_source.html#l02286">mscb_set_addr()</a>, <a class="el" href="mscb_8c_source.html#l02345">mscb_set_name()</a>, <a class="el" href="mscb_8c_source.html#l02686">mscb_upload()</a>, <a class="el" href="mscb_8c_source.html#l03154">mscb_user()</a>, <a class="el" href="mscb_8c_source.html#l02461">mscb_write()</a>, <a class="el" href="mscb_8c_source.html#l02549">mscb_write_block()</a>, and <a class="el" href="mscb_8c_source.html#l02401">mscb_write_group()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l01587"></a>01587 {
<a name="l01588"></a>01588    <span class="keywordflow">return</span> <a class="code" href="mscb_8c.html#a1c1583e306a1688dccce81a7085ac15a">mscb_fd</a>[fd - 1].<a class="code" href="structMSCB__FD.html#ae427fc239f83f01f7a3d8a128cb9b2a3">type</a> == <a class="code" href="mscb_8h.html#a307b4900ff0e3f1ee6d0f7d97f68f45e">MSCB_TYPE_RPC</a>;
<a name="l01589"></a>01589 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a53529e202a6db320a735e39b8387c547"></a><!-- doxytag: member="rpc.h::mrpc_disconnect" ref="a53529e202a6db320a735e39b8387c547" args="(int sock)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mrpc_disconnect </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>sock</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="rpc_8c_source.html#l00708">708</a> of file <a class="el" href="rpc_8c_source.html">rpc.c</a>.</p>

<p>References <a class="el" href="melog_8c_source.html#l00085">closesocket</a>, and <a class="el" href="midas_8h_source.html#l01066">RPC_SUCCESS</a>.</p>

<p>Referenced by <a class="el" href="mscb_8c_source.html#l01750">mscb_exit()</a>, and <a class="el" href="mscb_8c_source.html#l01593">mscb_init()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00709"></a>00709 {
<a name="l00710"></a>00710    <a class="code" href="melog_8c.html#a5a3eb971b466278ada4f7f87399a537c">closesocket</a>(sock);
<a name="l00711"></a>00711    <span class="keywordflow">return</span> <a class="code" href="group__err25.html#ga19b06966ce058cda8e5dca8d682b2bd3">RPC_SUCCESS</a>;
<a name="l00712"></a>00712 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a45ad571637f12eebb4489e0ff552e92f"></a><!-- doxytag: member="rpc.h::mrpc_server_loop" ref="a45ad571637f12eebb4489e0ff552e92f" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mrpc_server_loop </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="rpc_8c_source.html#l01047">1047</a> of file <a class="el" href="rpc_8c_source.html">rpc.c</a>.</p>

<p>References <a class="el" href="melog_8c_source.html#l00085">closesocket</a>, <a class="el" href="msystem_8h_source.html#l00336">FD_SETSIZE</a>, <a class="el" href="scs__310__ql355p_8c_source.html#l00055">flag</a>, <a class="el" href="mdump_8c_source.html#l00115">i</a>, <a class="el" href="rpc_8c_source.html#l00327">mrecv_tcp()</a>, <a class="el" href="rpc_8c_source.html#l00487">mrpc_execute()</a>, <a class="el" href="mscb_8c_source.html#l01788">mscb_cleanup()</a>, <a class="el" href="rpc_8h_source.html#l00179">MSCB_RPC_PORT</a>, <a class="el" href="rpc_8c_source.html#l00289">N_MAX_CONNECTION</a>, <a class="el" href="msystem_8h_source.html#l00257">NET_BUFFER_SIZE</a>, and <a class="el" href="patch__mevb_8cpp_source.html#l00079">status</a>.</p>

<p>Referenced by <a class="el" href="msc_8c_source.html#l01246">main()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l01048"></a>01048 {
<a name="l01049"></a>01049    <span class="keywordtype">int</span> <a class="code" href="mdump_8c.html#a65a8886d814fb9bf73f9d4f0fd64d162">i</a>, <a class="code" href="patch__mevb_8cpp.html#a015eb90e0de9f16e87bd149d4b9ce959">status</a>, sock, lsock, len, <a class="code" href="scs__310__ql355p_8c.html#a11764cc96bb263d1f257bcc01205a787">flag</a>;
<a name="l01050"></a>01050    <span class="keyword">struct </span>sockaddr_in serv_addr, acc_addr;
<a name="l01051"></a>01051    <span class="keywordtype">char</span> <a class="code" href="odbhist_8c.html#a45bb529d5408fcb730eeccb339110d3f">str</a>[256];
<a name="l01052"></a>01052    <span class="keyword">struct </span>hostent *phe;
<a name="l01053"></a>01053    fd_set readfds;
<a name="l01054"></a>01054    <span class="keyword">struct </span>timeval <a class="code" href="getHist_8cpp.html#a654210ae605a61110cf5a8a0c9f2d72c">timeout</a>;
<a name="l01055"></a>01055 
<a name="l01056"></a>01056 <span class="preprocessor">#ifdef _MSC_VER</span>
<a name="l01057"></a>01057 <span class="preprocessor"></span>   {
<a name="l01058"></a>01058       WSADATA WSAData;
<a name="l01059"></a>01059 
<a name="l01060"></a>01060       <span class="comment">/* Start windows sockets */</span>
<a name="l01061"></a>01061       <span class="keywordflow">if</span> (WSAStartup(MAKEWORD(1, 1), &amp;WSAData) != 0)
<a name="l01062"></a>01062          <span class="keywordflow">return</span>;
<a name="l01063"></a>01063    }
<a name="l01064"></a>01064 <span class="preprocessor">#endif</span>
<a name="l01065"></a>01065 <span class="preprocessor"></span>
<a name="l01066"></a>01066    <span class="comment">/* create a new socket */</span>
<a name="l01067"></a>01067    lsock = socket(AF_INET, SOCK_STREAM, 0);
<a name="l01068"></a>01068 
<a name="l01069"></a>01069    <span class="keywordflow">if</span> (lsock == -1) {
<a name="l01070"></a>01070       perror(<span class="stringliteral">&quot;mrpc_server_loop&quot;</span>);
<a name="l01071"></a>01071       <span class="keywordflow">return</span>;
<a name="l01072"></a>01072    }
<a name="l01073"></a>01073 
<a name="l01074"></a>01074    <span class="comment">/* bind local node name and port to socket */</span>
<a name="l01075"></a>01075    memset(&amp;serv_addr, 0, <span class="keyword">sizeof</span>(serv_addr));
<a name="l01076"></a>01076    serv_addr.sin_family = AF_INET;
<a name="l01077"></a>01077 
<a name="l01078"></a>01078    serv_addr.sin_addr.s_addr = htonl(INADDR_ANY);
<a name="l01079"></a>01079    serv_addr.sin_port = htons((<span class="keywordtype">short</span>) <a class="code" href="rpc_8h.html#aafc4cfc5e00cef7ee8c2a8f1d6a6cda6">MSCB_RPC_PORT</a>);
<a name="l01080"></a>01080 
<a name="l01081"></a>01081    <span class="comment">/* try reusing address */</span>
<a name="l01082"></a>01082    flag = 1;
<a name="l01083"></a>01083    setsockopt(lsock, SOL_SOCKET, SO_REUSEADDR, (<span class="keywordtype">char</span> *) &amp;flag, <span class="keyword">sizeof</span>(<a class="code" href="lrs1190_8c.html#a6877c9d7ac317ac3415ee1a1f92302a0">INT</a>));
<a name="l01084"></a>01084 
<a name="l01085"></a>01085    status = bind(lsock, (<span class="keyword">struct</span> sockaddr *) &amp;serv_addr, <span class="keyword">sizeof</span>(serv_addr));
<a name="l01086"></a>01086    <span class="keywordflow">if</span> (status &lt; 0) {
<a name="l01087"></a>01087       perror(<span class="stringliteral">&quot;mrpc_server_loop&quot;</span>);
<a name="l01088"></a>01088       <span class="keywordflow">return</span>;
<a name="l01089"></a>01089    }
<a name="l01090"></a>01090 
<a name="l01091"></a>01091    <span class="comment">/* listen for connection */</span>
<a name="l01092"></a>01092    status = listen(lsock, SOMAXCONN);
<a name="l01093"></a>01093    <span class="keywordflow">if</span> (status &lt; 0) {
<a name="l01094"></a>01094       perror(<span class="stringliteral">&quot;mrpc_server_loop&quot;</span>);
<a name="l01095"></a>01095       <span class="keywordflow">return</span>;
<a name="l01096"></a>01096    }
<a name="l01097"></a>01097 
<a name="l01098"></a>01098    printf(<span class="stringliteral">&quot;Server listening...\n&quot;</span>);
<a name="l01099"></a>01099    <span class="keywordflow">do</span> {
<a name="l01100"></a>01100       FD_ZERO(&amp;readfds);
<a name="l01101"></a>01101       FD_SET(lsock, &amp;readfds);
<a name="l01102"></a>01102 
<a name="l01103"></a>01103       <span class="keywordflow">for</span> (i = 0; i &lt; <a class="code" href="rpc_8c.html#afe498814be109ed81e106af13375f975">N_MAX_CONNECTION</a>; i++)
<a name="l01104"></a>01104          <span class="keywordflow">if</span> (<a class="code" href="rpc_8c.html#ac91ddd86a680f9bcdf95038103398c2c">rpc_sock</a>[i] &gt; 0)
<a name="l01105"></a>01105             FD_SET(<a class="code" href="rpc_8c.html#ac91ddd86a680f9bcdf95038103398c2c">rpc_sock</a>[i], &amp;readfds);
<a name="l01106"></a>01106 
<a name="l01107"></a>01107       <a class="code" href="getHist_8cpp.html#a654210ae605a61110cf5a8a0c9f2d72c">timeout</a>.tv_sec = 0;
<a name="l01108"></a>01108       <a class="code" href="getHist_8cpp.html#a654210ae605a61110cf5a8a0c9f2d72c">timeout</a>.tv_usec = 100000;
<a name="l01109"></a>01109 
<a name="l01110"></a>01110       status = select(<a class="code" href="group__msystemincludecode.html#ga86c5dbf5a99358e288f573d6a1e0873f">FD_SETSIZE</a>, (<span class="keywordtype">void</span> *) &amp;readfds, NULL, NULL, (<span class="keywordtype">void</span> *) &amp;<a class="code" href="getHist_8cpp.html#a654210ae605a61110cf5a8a0c9f2d72c">timeout</a>);
<a name="l01111"></a>01111 
<a name="l01112"></a>01112       <span class="keywordflow">if</span> (FD_ISSET(lsock, &amp;readfds)) {
<a name="l01113"></a>01113          len = <span class="keyword">sizeof</span>(acc_addr);
<a name="l01114"></a>01114          sock = accept(lsock, (<span class="keyword">struct</span> sockaddr *) &amp;acc_addr, &amp;len);
<a name="l01115"></a>01115 
<a name="l01116"></a>01116          <span class="comment">/* find new entry in socket table */</span>
<a name="l01117"></a>01117          <span class="keywordflow">for</span> (i = 0; i &lt; N_MAX_CONNECTION; i++)
<a name="l01118"></a>01118             <span class="keywordflow">if</span> (<a class="code" href="rpc_8c.html#ac91ddd86a680f9bcdf95038103398c2c">rpc_sock</a>[i] == 0)
<a name="l01119"></a>01119                <span class="keywordflow">break</span>;
<a name="l01120"></a>01120 
<a name="l01121"></a>01121          <span class="keywordflow">if</span> (i == N_MAX_CONNECTION) {
<a name="l01122"></a>01122             printf(<span class="stringliteral">&quot;Maximum number of connections exceeded\n&quot;</span>);
<a name="l01123"></a>01123             <a class="code" href="melog_8c.html#a5a3eb971b466278ada4f7f87399a537c">closesocket</a>(sock);
<a name="l01124"></a>01124          } <span class="keywordflow">else</span> {
<a name="l01125"></a>01125             <a class="code" href="rpc_8c.html#ac91ddd86a680f9bcdf95038103398c2c">rpc_sock</a>[i] = sock;
<a name="l01126"></a>01126 
<a name="l01127"></a>01127             phe = gethostbyaddr((<span class="keywordtype">char</span> *) &amp;acc_addr.sin_addr, 4, AF_INET);
<a name="l01128"></a>01128             <span class="keywordflow">if</span> (phe != NULL)
<a name="l01129"></a>01129                strcpy(str, phe-&gt;h_name);
<a name="l01130"></a>01130             <span class="keywordflow">else</span>
<a name="l01131"></a>01131                strcpy(str, (<span class="keywordtype">char</span> *) inet_ntoa(acc_addr.sin_addr));
<a name="l01132"></a>01132 
<a name="l01133"></a>01133             printf(<span class="stringliteral">&quot;Open new connection from %s\n&quot;</span>, str);
<a name="l01134"></a>01134          }
<a name="l01135"></a>01135       } <span class="keywordflow">else</span> {
<a name="l01136"></a>01136          <span class="comment">/* check if open connection received data */</span>
<a name="l01137"></a>01137          <span class="keywordflow">for</span> (i = 0; i &lt; N_MAX_CONNECTION; i++)
<a name="l01138"></a>01138             <span class="keywordflow">if</span> (<a class="code" href="rpc_8c.html#ac91ddd86a680f9bcdf95038103398c2c">rpc_sock</a>[i] &gt; 0 &amp;&amp; FD_ISSET(<a class="code" href="rpc_8c.html#ac91ddd86a680f9bcdf95038103398c2c">rpc_sock</a>[i], &amp;readfds)) {
<a name="l01139"></a>01139                len = <a class="code" href="rpc_8c.html#a5814ff2ef954d762c6c301da71c72141">mrecv_tcp</a>(<a class="code" href="rpc_8c.html#ac91ddd86a680f9bcdf95038103398c2c">rpc_sock</a>[i], <a class="code" href="rpc_8c.html#ae6ae865fae68267535e16f3a36033155">net_buffer</a>, <a class="code" href="group__msystemincludecode.html#ga7554d698d310e57e1c933a8f952a4bf8">NET_BUFFER_SIZE</a>);
<a name="l01140"></a>01140                <span class="keywordflow">if</span> (len &lt; 0) {
<a name="l01141"></a>01141                   <span class="comment">/* remove stale fd */</span>
<a name="l01142"></a>01142                   <a class="code" href="mscb_8c.html#aa23f2aa5aeb2b8ba41266b3467f32c60">mscb_cleanup</a>(<a class="code" href="rpc_8c.html#ac91ddd86a680f9bcdf95038103398c2c">rpc_sock</a>[i]);
<a name="l01143"></a>01143 
<a name="l01144"></a>01144                   <span class="comment">/* close broken connection */</span>
<a name="l01145"></a>01145                   printf(<span class="stringliteral">&quot;Close connection\n&quot;</span>);
<a name="l01146"></a>01146                   <a class="code" href="melog_8c.html#a5a3eb971b466278ada4f7f87399a537c">closesocket</a>(<a class="code" href="rpc_8c.html#ac91ddd86a680f9bcdf95038103398c2c">rpc_sock</a>[i]);
<a name="l01147"></a>01147                   <a class="code" href="rpc_8c.html#ac91ddd86a680f9bcdf95038103398c2c">rpc_sock</a>[i] = 0;
<a name="l01148"></a>01148                } <span class="keywordflow">else</span> {
<a name="l01149"></a>01149                   <a class="code" href="rpc_8c.html#a0cdd3262a80802ee68bf70e547a840a8">_server_sock</a> = <a class="code" href="rpc_8c.html#ac91ddd86a680f9bcdf95038103398c2c">rpc_sock</a>[i];
<a name="l01150"></a>01150                   <a class="code" href="rpc_8c.html#aae0747db657c4123339908b80f8e7ca9">mrpc_execute</a>(<a class="code" href="rpc_8c.html#ac91ddd86a680f9bcdf95038103398c2c">rpc_sock</a>[i], <a class="code" href="rpc_8c.html#ae6ae865fae68267535e16f3a36033155">net_buffer</a>);
<a name="l01151"></a>01151                }
<a name="l01152"></a>01152             }
<a name="l01153"></a>01153       }
<a name="l01154"></a>01154 
<a name="l01155"></a>01155    } <span class="keywordflow">while</span> (1);
<a name="l01156"></a>01156 
<a name="l01157"></a>01157    printf(<span class="stringliteral">&quot;Server aborted.\n&quot;</span>);
<a name="l01158"></a>01158 }
</pre></div></p>

</div>
</div>
</div>
<hr size="1"/><address style="text-align: right;"><small>Generated on 6 Jun 2014 for AlcapDAQ by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
