<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>AlcapDAQ: midas/utils/mhist.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>midas/utils/mhist.c File Reference</h1><code>#include &quot;<a class="el" href="midas_8h_source.html">midas.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="msystem_8h_source.html">msystem.h</a>&quot;</code><br/>

<p><a href="mhist_8c_source.html">Go to the source code of this file.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mhist_8c.html#a1c4effcb9a2b3357fbfa63a6edfa0cc6">tmp</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mhist_8c.html#a5fd49e26bd650faf0fa9841e123ac787">write_hist_speed</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mhist_8c.html#a896b20721ecf3a7aea8037cc8d81be22">generate_hist</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="odbhist_8c.html#a392e62da233ed3e2f7c3fd4f487a3896">INT</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mhist_8c.html#ab6a03831018cac4dc7129fa93ff324d4">query_params</a> (<a class="el" href="odbhist_8c.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> *ev_id, <a class="el" href="odbhist_8c.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> *<a class="el" href="old__mevb_8cpp.html#af4211e1ba0e676018599e88cfae3537a">start_time</a>, <a class="el" href="odbhist_8c.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> *end_time, <a class="el" href="odbhist_8c.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> *<a class="el" href="mscbutil_8c.html#ad856acfe9ce335571b00a73df5e23e6b">interval</a>, char *<a class="el" href="odbhist_8c.html#afb511f623cd68ee7526e819a11155abf">var_name</a>, <a class="el" href="odbhist_8c.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> *var_type, <a class="el" href="odbhist_8c.html#a392e62da233ed3e2f7c3fd4f487a3896">INT</a> *var_n_data, <a class="el" href="odbhist_8c.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> *<a class="el" href="mana__orig_8c.html#a312c2cad451d6bb0536fb9ec2863be59">index</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="odbhist_8c.html#a392e62da233ed3e2f7c3fd4f487a3896">INT</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mhist_8c.html#ae6f0e6a1ce73866f70cd40443e30374b">display_vars</a> (char *<a class="el" href="odbhist_8c.html#a4da1fcf44864d811e793f03bf36e6e17">file_name</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mhist_8c.html#a1602b65e28be1e9d67f0baccfe9a4535">display_single_hist</a> (<a class="el" href="odbhist_8c.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> <a class="el" href="mzdump_8c.html#ac6d03005c20c7feabe0b6be6902f0a5e">event_id</a>, <a class="el" href="odbhist_8c.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> <a class="el" href="old__mevb_8cpp.html#af4211e1ba0e676018599e88cfae3537a">start_time</a>, <a class="el" href="odbhist_8c.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> end_time, <a class="el" href="odbhist_8c.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> <a class="el" href="mscbutil_8c.html#ad856acfe9ce335571b00a73df5e23e6b">interval</a>, char *<a class="el" href="odbhist_8c.html#afb511f623cd68ee7526e819a11155abf">var_name</a>, <a class="el" href="odbhist_8c.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> <a class="el" href="mana__orig_8c.html#a312c2cad451d6bb0536fb9ec2863be59">index</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mhist_8c.html#a47fabed368eee188d085b524b86125ca">display_range_hist</a> (<a class="el" href="odbhist_8c.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> <a class="el" href="mzdump_8c.html#ac6d03005c20c7feabe0b6be6902f0a5e">event_id</a>, <a class="el" href="odbhist_8c.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> <a class="el" href="old__mevb_8cpp.html#af4211e1ba0e676018599e88cfae3537a">start_time</a>, <a class="el" href="odbhist_8c.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> end_time, <a class="el" href="odbhist_8c.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> <a class="el" href="mscbutil_8c.html#ad856acfe9ce335571b00a73df5e23e6b">interval</a>, char *<a class="el" href="odbhist_8c.html#afb511f623cd68ee7526e819a11155abf">var_name</a>, <a class="el" href="odbhist_8c.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> index1, <a class="el" href="odbhist_8c.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> index2)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="odbhist_8c.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mhist_8c.html#add14c4c0e5ef427ee8afddc3198f8f44">convert_time</a> (char *t)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mhist_8c.html#a0ddf1224851353fc92bfbff6f499fa97">main</a> (int argc, char *argv[])</td></tr>
<tr><td colspan="2"><h2>Variables</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="structTAG.html">TAG</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mhist_8c.html#a84d2b41bcb58b6f39025dd0e42bda850">temp_tag</a> []</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="structTAG.html">TAG</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mhist_8c.html#a920ce11439caff71f59faeb017b84bb9">hv_tag</a> []</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">float&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mhist_8c.html#a3bfdcf880b0179e2eff0d53bf3573260">hist</a> [200]</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">float&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mhist_8c.html#a041ccd56f8f77adcd83b1e7cc0163cc8">hv</a> [100]</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="odbhist_8c.html#a050c65e107f0c828f856a231f4b4e788">BOOL</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mhist_8c.html#ab8807066c6d3cac932af3c18621e04d0">binary_time</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="structTAG.html">TAG</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mhist_8c.html#a27ce05f73a16e6abc070da1007833b9b">tag</a> [10]</td></tr>
</table>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="add14c4c0e5ef427ee8afddc3198f8f44"></a><!-- doxytag: member="mhist.c::convert_time" ref="add14c4c0e5ef427ee8afddc3198f8f44" args="(char *t)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="odbhist_8c.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> convert_time </td>
          <td>(</td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>t</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mhist_8c_source.html#l00400">400</a> of file <a class="el" href="mhist_8c_source.html">mhist.c</a>.</p>

<p>Referenced by <a class="el" href="mhist_8c_source.html#l00455">main()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00402"></a>00402 {
<a name="l00403"></a>00403    <span class="keyword">struct </span>tm tms;
<a name="l00404"></a>00404    <a class="code" href="group__mvmestdinclude.html#ga798af1e30bc65f319c1a246cecf59e39">DWORD</a> ltime;
<a name="l00405"></a>00405    <a class="code" href="lrs1190_8c.html#a6877c9d7ac317ac3415ee1a1f92302a0">INT</a> isdst;
<a name="l00406"></a>00406 
<a name="l00407"></a>00407 <span class="preprocessor">#if !defined(OS_VXWORKS)</span>
<a name="l00408"></a>00408 <span class="preprocessor"></span><span class="preprocessor">#if !defined(OS_VMS)</span>
<a name="l00409"></a>00409 <span class="preprocessor"></span>   tzset();
<a name="l00410"></a>00410 <span class="preprocessor">#endif</span>
<a name="l00411"></a>00411 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00412"></a>00412 <span class="preprocessor"></span>
<a name="l00413"></a>00413    memset(&amp;tms, 0, <span class="keyword">sizeof</span>(tms));
<a name="l00414"></a>00414 
<a name="l00415"></a>00415    tms.tm_year = 10 * (t[0] - <span class="charliteral">&apos;0&apos;</span>) + (t[1] - <span class="charliteral">&apos;0&apos;</span>);
<a name="l00416"></a>00416    tms.tm_mon = 10 * (t[2] - <span class="charliteral">&apos;0&apos;</span>) + (t[3] - <span class="charliteral">&apos;0&apos;</span>) - 1;
<a name="l00417"></a>00417    tms.tm_mday = 10 * (t[4] - <span class="charliteral">&apos;0&apos;</span>) + (t[5] - <span class="charliteral">&apos;0&apos;</span>);
<a name="l00418"></a>00418    <span class="keywordflow">if</span> (tms.tm_year &lt; 90)
<a name="l00419"></a>00419       tms.tm_year += 100;
<a name="l00420"></a>00420    <span class="keywordflow">if</span> (t[6] == <span class="charliteral">&apos;.&apos;</span>) {
<a name="l00421"></a>00421       tms.tm_hour = 10 * (t[7] - <span class="charliteral">&apos;0&apos;</span>) + (t[8] - <span class="charliteral">&apos;0&apos;</span>);
<a name="l00422"></a>00422       tms.tm_min = 10 * (t[9] - <span class="charliteral">&apos;0&apos;</span>) + (t[10] - <span class="charliteral">&apos;0&apos;</span>);
<a name="l00423"></a>00423       <span class="keywordflow">if</span> (t[11])
<a name="l00424"></a>00424          tms.tm_sec = 10 * (t[11] - <span class="charliteral">&apos;0&apos;</span>) + (t[12] - <span class="charliteral">&apos;0&apos;</span>);
<a name="l00425"></a>00425    }
<a name="l00426"></a>00426 
<a name="l00427"></a>00427    ltime = mktime(&amp;tms);
<a name="l00428"></a>00428 
<a name="l00429"></a>00429    <span class="comment">/* correct for dst */</span>
<a name="l00430"></a>00430    memcpy(&amp;tms, localtime(&amp;ltime), <span class="keyword">sizeof</span>(tms));
<a name="l00431"></a>00431 
<a name="l00432"></a>00432    isdst = tms.tm_isdst;
<a name="l00433"></a>00433    memset(&amp;tms, 0, <span class="keyword">sizeof</span>(tms));
<a name="l00434"></a>00434    tms.tm_isdst = isdst;
<a name="l00435"></a>00435 
<a name="l00436"></a>00436    tms.tm_year = 10 * (t[0] - <span class="charliteral">&apos;0&apos;</span>) + (t[1] - <span class="charliteral">&apos;0&apos;</span>);
<a name="l00437"></a>00437    tms.tm_mon = 10 * (t[2] - <span class="charliteral">&apos;0&apos;</span>) + (t[3] - <span class="charliteral">&apos;0&apos;</span>) - 1;
<a name="l00438"></a>00438    tms.tm_mday = 10 * (t[4] - <span class="charliteral">&apos;0&apos;</span>) + (t[5] - <span class="charliteral">&apos;0&apos;</span>);
<a name="l00439"></a>00439    <span class="keywordflow">if</span> (tms.tm_year &lt; 90)
<a name="l00440"></a>00440       tms.tm_year += 100;
<a name="l00441"></a>00441    <span class="keywordflow">if</span> (t[6] == <span class="charliteral">&apos;.&apos;</span>) {
<a name="l00442"></a>00442       tms.tm_hour = 10 * (t[7] - <span class="charliteral">&apos;0&apos;</span>) + (t[8] - <span class="charliteral">&apos;0&apos;</span>);
<a name="l00443"></a>00443       tms.tm_min = 10 * (t[9] - <span class="charliteral">&apos;0&apos;</span>) + (t[10] - <span class="charliteral">&apos;0&apos;</span>);
<a name="l00444"></a>00444       <span class="keywordflow">if</span> (t[11])
<a name="l00445"></a>00445          tms.tm_sec = 10 * (t[11] - <span class="charliteral">&apos;0&apos;</span>) + (t[12] - <span class="charliteral">&apos;0&apos;</span>);
<a name="l00446"></a>00446    }
<a name="l00447"></a>00447 
<a name="l00448"></a>00448    ltime = mktime(&amp;tms);
<a name="l00449"></a>00449 
<a name="l00450"></a>00450    <span class="keywordflow">return</span> ltime;
<a name="l00451"></a>00451 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a47fabed368eee188d085b524b86125ca"></a><!-- doxytag: member="mhist.c::display_range_hist" ref="a47fabed368eee188d085b524b86125ca" args="(DWORD event_id, DWORD start_time, DWORD end_time, DWORD interval, char *var_name, DWORD index1, DWORD index2)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void display_range_hist </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="odbhist_8c.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a>&nbsp;</td>
          <td class="paramname"> <em>event_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="odbhist_8c.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a>&nbsp;</td>
          <td class="paramname"> <em>start_time</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="odbhist_8c.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a>&nbsp;</td>
          <td class="paramname"> <em>end_time</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="odbhist_8c.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a>&nbsp;</td>
          <td class="paramname"> <em>interval</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>var_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="odbhist_8c.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a>&nbsp;</td>
          <td class="paramname"> <em>index1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="odbhist_8c.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a>&nbsp;</td>
          <td class="paramname"> <em>index2</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mhist_8c_source.html#l00341">341</a> of file <a class="el" href="mhist_8c_source.html">mhist.c</a>.</p>

<p>References <a class="el" href="mhist_8c_source.html#l00101">binary_time</a>, <a class="el" href="fal_8c_source.html#l00201">buffer</a>, <a class="el" href="odb_8c_source.html#l06308">db_sprintf()</a>, <a class="el" href="midas_8c_source.html#l14339">hs_read()</a>, <a class="el" href="midas_8h_source.html#l01095">HS_TRUNCATED</a>, <a class="el" href="mdump_8c_source.html#l00115">i</a>, <a class="el" href="odbhist_8c_source.html#l00058">j</a>, <a class="el" href="camac_8c_source.html#l00506">n</a>, <a class="el" href="midas_8c_source.html#l08162">rpc_tid_size()</a>, <a class="el" href="ybos_8c_source.html#l00373">size</a>, <a class="el" href="patch__mevb_8cpp_source.html#l00079">status</a>, <a class="el" href="midas_8h_source.html#l00746">TID_STRING</a>, and <a class="el" href="mana_8cpp_source.html#l00675">type</a>.</p>

<p>Referenced by <a class="el" href="mhist_8c_source.html#l00455">main()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00344"></a>00344 {
<a name="l00345"></a>00345    <span class="keywordtype">char</span> <a class="code" href="fal_8c.html#a368f7094dc38acca20612bbb392552f4">buffer</a>[50][10000];
<a name="l00346"></a>00346    <a class="code" href="group__mvmestdinclude.html#ga798af1e30bc65f319c1a246cecf59e39">DWORD</a> tbuffer[1000];
<a name="l00347"></a>00347    <a class="code" href="group__mvmestdinclude.html#ga798af1e30bc65f319c1a246cecf59e39">DWORD</a> <a class="code" href="mdump_8c.html#a65a8886d814fb9bf73f9d4f0fd64d162">i</a>, <a class="code" href="ybos_8c.html#adfdd3a80d1d8ea7918a6d1ebee518102">size</a>[50], tbsize, <a class="code" href="camac_8c.html#a76f11d9a0a47b94f72c2d0e77fb32240">n</a>[50], <a class="code" href="mana_8cpp.html#a9a59b4d9fa62abe25a78cc38137ffd8e">type</a>[50], idx;
<a name="l00348"></a>00348    <span class="keywordtype">char</span> <a class="code" href="odbhist_8c.html#a45bb529d5408fcb730eeccb339110d3f">str</a>[256];
<a name="l00349"></a>00349    <a class="code" href="lrs1190_8c.html#a6877c9d7ac317ac3415ee1a1f92302a0">INT</a> <a class="code" href="patch__mevb_8cpp.html#a015eb90e0de9f16e87bd149d4b9ce959">status</a> = 0, <a class="code" href="odbhist_8c.html#a2df6784bd380a288cf2c3e7e2c43a6b8">j</a>;
<a name="l00350"></a>00350 
<a name="l00351"></a>00351    <span class="keywordflow">if</span> (index2 &gt; index1 + 49) {
<a name="l00352"></a>00352       printf(<span class="stringliteral">&quot;Specified range too large (max 50)\n&quot;</span>);
<a name="l00353"></a>00353       <span class="keywordflow">return</span>;
<a name="l00354"></a>00354    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (index2 &lt; index1) {
<a name="l00355"></a>00355       printf(<span class="stringliteral">&quot;Wrong specified range (low&gt;high)\n&quot;</span>);
<a name="l00356"></a>00356       <span class="keywordflow">return</span>;
<a name="l00357"></a>00357    }
<a name="l00358"></a>00358 
<a name="l00359"></a>00359    <span class="keywordflow">do</span> {
<a name="l00360"></a>00360       <span class="keywordflow">for</span> (<a class="code" href="odbhist_8c.html#a2df6784bd380a288cf2c3e7e2c43a6b8">j</a> = 0, idx = index1; idx &lt; index2 + 1; idx++, <a class="code" href="odbhist_8c.html#a2df6784bd380a288cf2c3e7e2c43a6b8">j</a>++) {
<a name="l00361"></a>00361          size[<a class="code" href="odbhist_8c.html#a2df6784bd380a288cf2c3e7e2c43a6b8">j</a>] = <span class="keyword">sizeof</span>(buffer);
<a name="l00362"></a>00362          tbsize = <span class="keyword">sizeof</span>(tbuffer);
<a name="l00363"></a>00363          status = <a class="code" href="group__msectionh.html#ga1413cb517aa08a142a2028b0455fa924">hs_read</a>(<a class="code" href="examples_2macro_2midas__macro_8h.html#a6bff0a5e8995a80f74212d31f551167a">event_id</a>, <a class="code" href="old__mevb_8cpp.html#af4211e1ba0e676018599e88cfae3537a">start_time</a>, end_time, <a class="code" href="mscbutil_8c.html#ad856acfe9ce335571b00a73df5e23e6b">interval</a>, <a class="code" href="odbhist_8c.html#afb511f623cd68ee7526e819a11155abf">var_name</a>, idx,
<a name="l00364"></a>00364                           tbuffer, &amp;tbsize, buffer[<a class="code" href="odbhist_8c.html#a2df6784bd380a288cf2c3e7e2c43a6b8">j</a>], &amp;size[j], &amp;type[j], &amp;n[j]);
<a name="l00365"></a>00365 
<a name="l00366"></a>00366          <span class="keywordflow">if</span> (n[<a class="code" href="odbhist_8c.html#a2df6784bd380a288cf2c3e7e2c43a6b8">j</a>] == 0)
<a name="l00367"></a>00367             printf(<span class="stringliteral">&quot;No variables \&quot;%s\&quot; found in specified time range\n&quot;</span>, <a class="code" href="odbhist_8c.html#afb511f623cd68ee7526e819a11155abf">var_name</a>);
<a name="l00368"></a>00368 
<a name="l00369"></a>00369          <span class="keywordflow">if</span> (status == <a class="code" href="group__err26.html#ga8b8cfc047a951f9afe9f833484d7e814">HS_TRUNCATED</a>)
<a name="l00370"></a>00370             <a class="code" href="old__mevb_8cpp.html#af4211e1ba0e676018599e88cfae3537a">start_time</a> = tbuffer[n[<a class="code" href="odbhist_8c.html#a2df6784bd380a288cf2c3e7e2c43a6b8">j</a>] - 1] + (tbuffer[n[<a class="code" href="odbhist_8c.html#a2df6784bd380a288cf2c3e7e2c43a6b8">j</a>] - 1] - tbuffer[n[<a class="code" href="odbhist_8c.html#a2df6784bd380a288cf2c3e7e2c43a6b8">j</a>] - 2]);
<a name="l00371"></a>00371       }
<a name="l00372"></a>00372    } <span class="keywordflow">while</span> (status == <a class="code" href="group__err26.html#ga8b8cfc047a951f9afe9f833484d7e814">HS_TRUNCATED</a>);
<a name="l00373"></a>00373 
<a name="l00374"></a>00374    printf(<span class="stringliteral">&quot;mhist for Var:%s[%ld:%ld]\n&quot;</span>, <a class="code" href="odbhist_8c.html#afb511f623cd68ee7526e819a11155abf">var_name</a>, index1, index2);
<a name="l00375"></a>00375    <span class="keywordflow">for</span> (i = 0; i &lt; n[0]; i++) {
<a name="l00376"></a>00376       <span class="keywordflow">if</span> (<a class="code" href="mhist_8c.html#ab8807066c6d3cac932af3c18621e04d0">binary_time</a>)
<a name="l00377"></a>00377          sprintf(str, <span class="stringliteral">&quot;%li &quot;</span>, tbuffer[i]);
<a name="l00378"></a>00378       <span class="keywordflow">else</span> {
<a name="l00379"></a>00379          sprintf(str, <span class="stringliteral">&quot;%s&quot;</span>, ctime(&amp;tbuffer[i]) + 4);
<a name="l00380"></a>00380          str[20] = <span class="charliteral">&apos;\t&apos;</span>;
<a name="l00381"></a>00381       }
<a name="l00382"></a>00382 
<a name="l00383"></a>00383       <span class="keywordflow">for</span> (<a class="code" href="odbhist_8c.html#a2df6784bd380a288cf2c3e7e2c43a6b8">j</a> = 0, idx = index1; idx &lt; index2 + 1; idx++, <a class="code" href="odbhist_8c.html#a2df6784bd380a288cf2c3e7e2c43a6b8">j</a>++) {
<a name="l00384"></a>00384          <span class="keywordflow">if</span> (type[<a class="code" href="odbhist_8c.html#a2df6784bd380a288cf2c3e7e2c43a6b8">j</a>] == <a class="code" href="group__mdefineh.html#gab81af1d9631a5c29500d506f0c3470cd">TID_STRING</a>) {
<a name="l00385"></a>00385             strcat(str, <span class="stringliteral">&quot;\n&quot;</span>);
<a name="l00386"></a>00386             strcpy(&amp;str[strlen(str)], &amp;(buffer[<a class="code" href="odbhist_8c.html#a2df6784bd380a288cf2c3e7e2c43a6b8">j</a>])[0] + (size[j] / n[j]) * i);
<a name="l00387"></a>00387          } <span class="keywordflow">else</span> {
<a name="l00388"></a>00388             strcat(str, <span class="stringliteral">&quot;\t&quot;</span>);
<a name="l00389"></a>00389             <a class="code" href="group__msectionh.html#ga14e4b0190141d168b49e36178705552e">db_sprintf</a>(&amp;str[strlen(str)], buffer[<a class="code" href="odbhist_8c.html#a2df6784bd380a288cf2c3e7e2c43a6b8">j</a>], <a class="code" href="group__msectionh.html#gaa0bf5cc257f83e9a7f3936738fe009f3">rpc_tid_size</a>(type[j]), i, type[j]);
<a name="l00390"></a>00390          }
<a name="l00391"></a>00391       }
<a name="l00392"></a>00392 
<a name="l00393"></a>00393       strcat(str, <span class="stringliteral">&quot;\n&quot;</span>);
<a name="l00394"></a>00394 
<a name="l00395"></a>00395       printf(str);
<a name="l00396"></a>00396    }
<a name="l00397"></a>00397 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a1602b65e28be1e9d67f0baccfe9a4535"></a><!-- doxytag: member="mhist.c::display_single_hist" ref="a1602b65e28be1e9d67f0baccfe9a4535" args="(DWORD event_id, DWORD start_time, DWORD end_time, DWORD interval, char *var_name, DWORD index)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void display_single_hist </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="odbhist_8c.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a>&nbsp;</td>
          <td class="paramname"> <em>event_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="odbhist_8c.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a>&nbsp;</td>
          <td class="paramname"> <em>start_time</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="odbhist_8c.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a>&nbsp;</td>
          <td class="paramname"> <em>end_time</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="odbhist_8c.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a>&nbsp;</td>
          <td class="paramname"> <em>interval</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>var_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="odbhist_8c.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a>&nbsp;</td>
          <td class="paramname"> <em>index</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mhist_8c_source.html#l00296">296</a> of file <a class="el" href="mhist_8c_source.html">mhist.c</a>.</p>

<p>References <a class="el" href="mhist_8c_source.html#l00101">binary_time</a>, <a class="el" href="fal_8c_source.html#l00201">buffer</a>, <a class="el" href="odb_8c_source.html#l06308">db_sprintf()</a>, <a class="el" href="midas_8c_source.html#l14339">hs_read()</a>, <a class="el" href="midas_8h_source.html#l01095">HS_TRUNCATED</a>, <a class="el" href="mdump_8c_source.html#l00115">i</a>, <a class="el" href="camac_8c_source.html#l00506">n</a>, <a class="el" href="midas_8c_source.html#l08162">rpc_tid_size()</a>, <a class="el" href="ybos_8c_source.html#l00373">size</a>, <a class="el" href="patch__mevb_8cpp_source.html#l00079">status</a>, <a class="el" href="midas_8h_source.html#l00746">TID_STRING</a>, and <a class="el" href="mana_8cpp_source.html#l00675">type</a>.</p>

<p>Referenced by <a class="el" href="mhist_8c_source.html#l00455">main()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00299"></a>00299 {
<a name="l00300"></a>00300    <span class="keywordtype">char</span> <a class="code" href="fal_8c.html#a368f7094dc38acca20612bbb392552f4">buffer</a>[10000];
<a name="l00301"></a>00301    <a class="code" href="group__mvmestdinclude.html#ga798af1e30bc65f319c1a246cecf59e39">DWORD</a> tbuffer[1000];
<a name="l00302"></a>00302    <a class="code" href="group__mvmestdinclude.html#ga798af1e30bc65f319c1a246cecf59e39">DWORD</a> <a class="code" href="mdump_8c.html#a65a8886d814fb9bf73f9d4f0fd64d162">i</a>, <a class="code" href="ybos_8c.html#adfdd3a80d1d8ea7918a6d1ebee518102">size</a>, tbsize, <a class="code" href="camac_8c.html#a76f11d9a0a47b94f72c2d0e77fb32240">n</a>, <a class="code" href="mana_8cpp.html#a9a59b4d9fa62abe25a78cc38137ffd8e">type</a>;
<a name="l00303"></a>00303    <span class="keywordtype">char</span> <a class="code" href="odbhist_8c.html#a45bb529d5408fcb730eeccb339110d3f">str</a>[256];
<a name="l00304"></a>00304    <a class="code" href="lrs1190_8c.html#a6877c9d7ac317ac3415ee1a1f92302a0">INT</a> <a class="code" href="patch__mevb_8cpp.html#a015eb90e0de9f16e87bd149d4b9ce959">status</a> = 0;
<a name="l00305"></a>00305 
<a name="l00306"></a>00306    <span class="keywordflow">do</span> {
<a name="l00307"></a>00307       size = <span class="keyword">sizeof</span>(buffer);
<a name="l00308"></a>00308       tbsize = <span class="keyword">sizeof</span>(tbuffer);
<a name="l00309"></a>00309       status = <a class="code" href="group__msectionh.html#ga1413cb517aa08a142a2028b0455fa924">hs_read</a>(<a class="code" href="examples_2macro_2midas__macro_8h.html#a6bff0a5e8995a80f74212d31f551167a">event_id</a>, <a class="code" href="old__mevb_8cpp.html#af4211e1ba0e676018599e88cfae3537a">start_time</a>, end_time, <a class="code" href="mscbutil_8c.html#ad856acfe9ce335571b00a73df5e23e6b">interval</a>, <a class="code" href="odbhist_8c.html#afb511f623cd68ee7526e819a11155abf">var_name</a>, <a class="code" href="mana_8cpp.html#a312c2cad451d6bb0536fb9ec2863be59">index</a>,
<a name="l00310"></a>00310                        tbuffer, &amp;tbsize, buffer, &amp;size, &amp;type, &amp;n);
<a name="l00311"></a>00311 
<a name="l00312"></a>00312       <span class="keywordflow">if</span> (n == 0)
<a name="l00313"></a>00313          printf(<span class="stringliteral">&quot;No variables \&quot;%s\&quot; found in specified time range\n&quot;</span>, <a class="code" href="odbhist_8c.html#afb511f623cd68ee7526e819a11155abf">var_name</a>);
<a name="l00314"></a>00314 
<a name="l00315"></a>00315       <span class="keywordflow">for</span> (i = 0; i &lt; n; i++) {
<a name="l00316"></a>00316          <span class="keywordflow">if</span> (<a class="code" href="mhist_8c.html#ab8807066c6d3cac932af3c18621e04d0">binary_time</a>)
<a name="l00317"></a>00317             sprintf(str, <span class="stringliteral">&quot;%li &quot;</span>, tbuffer[i]);
<a name="l00318"></a>00318          <span class="keywordflow">else</span> {
<a name="l00319"></a>00319             sprintf(str, <span class="stringliteral">&quot;%s&quot;</span>, ctime(&amp;tbuffer[i]) + 4);
<a name="l00320"></a>00320             str[20] = <span class="charliteral">&apos;\t&apos;</span>;
<a name="l00321"></a>00321          }
<a name="l00322"></a>00322          <span class="keywordflow">if</span> (type == <a class="code" href="group__mdefineh.html#gab81af1d9631a5c29500d506f0c3470cd">TID_STRING</a>) {
<a name="l00323"></a>00323             strcat(str, <span class="stringliteral">&quot;\n&quot;</span>);
<a name="l00324"></a>00324             strcpy(&amp;str[strlen(str)], buffer + (size / n) * i);
<a name="l00325"></a>00325          } <span class="keywordflow">else</span>
<a name="l00326"></a>00326             <a class="code" href="group__msectionh.html#ga14e4b0190141d168b49e36178705552e">db_sprintf</a>(&amp;str[strlen(str)], buffer, <a class="code" href="group__msectionh.html#gaa0bf5cc257f83e9a7f3936738fe009f3">rpc_tid_size</a>(type), i, type);
<a name="l00327"></a>00327 
<a name="l00328"></a>00328          strcat(str, <span class="stringliteral">&quot;\n&quot;</span>);
<a name="l00329"></a>00329 
<a name="l00330"></a>00330          printf(str);
<a name="l00331"></a>00331       }
<a name="l00332"></a>00332 
<a name="l00333"></a>00333       <span class="keywordflow">if</span> (status == <a class="code" href="group__err26.html#ga8b8cfc047a951f9afe9f833484d7e814">HS_TRUNCATED</a>)
<a name="l00334"></a>00334          <a class="code" href="old__mevb_8cpp.html#af4211e1ba0e676018599e88cfae3537a">start_time</a> = tbuffer[n - 1] + (tbuffer[n - 1] - tbuffer[n - 2]);
<a name="l00335"></a>00335 
<a name="l00336"></a>00336    } <span class="keywordflow">while</span> (status == <a class="code" href="group__err26.html#ga8b8cfc047a951f9afe9f833484d7e814">HS_TRUNCATED</a>);
<a name="l00337"></a>00337 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="ae6f0e6a1ce73866f70cd40443e30374b"></a><!-- doxytag: member="mhist.c::display_vars" ref="ae6f0e6a1ce73866f70cd40443e30374b" args="(char *file_name)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="odbhist_8c.html#a392e62da233ed3e2f7c3fd4f487a3896">INT</a> display_vars </td>
          <td>(</td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>file_name</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mhist_8c_source.html#l00238">238</a> of file <a class="el" href="mhist_8c_source.html">mhist.c</a>.</p>

<p>References <a class="el" href="examples_2macro_2midas__macro_8h_source.html#l00248">event_id</a>, <a class="el" href="midas_8c_source.html#l13907">hs_count_events()</a>, <a class="el" href="midas_8c_source.html#l14064">hs_count_vars()</a>, <a class="el" href="midas_8c_source.html#l13818">hs_enum_events()</a>, <a class="el" href="midas_8c_source.html#l14134">hs_enum_vars()</a>, <a class="el" href="midas_8h_source.html#l01092">HS_SUCCESS</a>, <a class="el" href="mdump_8c_source.html#l00115">i</a>, <a class="el" href="odbhist_8c_source.html#l00058">j</a>, <a class="el" href="camac_8c_source.html#l00506">n</a>, <a class="el" href="midas_8h_source.html#l00681">NAME_LENGTH</a>, and <a class="el" href="patch__mevb_8cpp_source.html#l00079">status</a>.</p>

<p>Referenced by <a class="el" href="mhist_8c_source.html#l00455">main()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00239"></a>00239 {
<a name="l00240"></a>00240    <a class="code" href="group__mvmestdinclude.html#ga798af1e30bc65f319c1a246cecf59e39">DWORD</a> <a class="code" href="patch__mevb_8cpp.html#a015eb90e0de9f16e87bd149d4b9ce959">status</a>, <a class="code" href="mdump_8c.html#a65a8886d814fb9bf73f9d4f0fd64d162">i</a>, <a class="code" href="odbhist_8c.html#a2df6784bd380a288cf2c3e7e2c43a6b8">j</a>, bytes, <a class="code" href="camac_8c.html#a76f11d9a0a47b94f72c2d0e77fb32240">n</a>, nv, ltime, *var_n, n_bytes;
<a name="l00241"></a>00241    <a class="code" href="lrs1190_8c.html#a6877c9d7ac317ac3415ee1a1f92302a0">INT</a> *<a class="code" href="examples_2macro_2midas__macro_8h.html#a6bff0a5e8995a80f74212d31f551167a">event_id</a>, name_size, id_size;
<a name="l00242"></a>00242    <span class="keywordtype">char</span> *event_name;
<a name="l00243"></a>00243    <span class="keywordtype">char</span> *var_names;
<a name="l00244"></a>00244 
<a name="l00245"></a>00245    ltime = 0;
<a name="l00246"></a>00246    <span class="keywordflow">if</span> (<a class="code" href="odbhist_8c.html#a4da1fcf44864d811e793f03bf36e6e17">file_name</a>[0]) {
<a name="l00247"></a>00247       <span class="keyword">struct </span>tm tms;
<a name="l00248"></a>00248 
<a name="l00249"></a>00249       memset(&amp;tms, 0, <span class="keyword">sizeof</span>(tms));
<a name="l00250"></a>00250       tms.tm_hour = 12;
<a name="l00251"></a>00251       tms.tm_year = 10 * (<a class="code" href="odbhist_8c.html#a4da1fcf44864d811e793f03bf36e6e17">file_name</a>[0] - <span class="charliteral">&apos;0&apos;</span>) + (<a class="code" href="odbhist_8c.html#a4da1fcf44864d811e793f03bf36e6e17">file_name</a>[1] - <span class="charliteral">&apos;0&apos;</span>);
<a name="l00252"></a>00252       <span class="keywordflow">if</span> (tms.tm_year &lt; 90)
<a name="l00253"></a>00253          tms.tm_year += 100;
<a name="l00254"></a>00254       tms.tm_mon = 10 * (<a class="code" href="odbhist_8c.html#a4da1fcf44864d811e793f03bf36e6e17">file_name</a>[2] - <span class="charliteral">&apos;0&apos;</span>) + (<a class="code" href="odbhist_8c.html#a4da1fcf44864d811e793f03bf36e6e17">file_name</a>[3] - <span class="charliteral">&apos;0&apos;</span>) - 1;
<a name="l00255"></a>00255       tms.tm_mday = 10 * (<a class="code" href="odbhist_8c.html#a4da1fcf44864d811e793f03bf36e6e17">file_name</a>[4] - <span class="charliteral">&apos;0&apos;</span>) + (<a class="code" href="odbhist_8c.html#a4da1fcf44864d811e793f03bf36e6e17">file_name</a>[5] - <span class="charliteral">&apos;0&apos;</span>);
<a name="l00256"></a>00256       ltime = mktime(&amp;tms);
<a name="l00257"></a>00257    }
<a name="l00258"></a>00258 
<a name="l00259"></a>00259    status = <a class="code" href="group__msectionh.html#ga8e4e2004af1da6f95ccf8227cf0b2004">hs_count_events</a>(ltime, &amp;n);
<a name="l00260"></a>00260    <span class="keywordflow">if</span> (status != <a class="code" href="group__err26.html#ga2d533509db8628a7e0eb794e2b3e77b0">HS_SUCCESS</a>)
<a name="l00261"></a>00261       <span class="keywordflow">return</span> status;
<a name="l00262"></a>00262 
<a name="l00263"></a>00263    name_size = n * <a class="code" href="group__midasincludecode.html#gaf71324c57f05ff9e24bd384925dd6b17">NAME_LENGTH</a>;
<a name="l00264"></a>00264    id_size = n * <span class="keyword">sizeof</span>(<a class="code" href="lrs1190_8c.html#a6877c9d7ac317ac3415ee1a1f92302a0">INT</a>);
<a name="l00265"></a>00265    event_name = malloc(name_size);
<a name="l00266"></a>00266    event_id = malloc(id_size);
<a name="l00267"></a>00267    <a class="code" href="group__msectionh.html#ga30bdb0daec584d9ddea0af5e99c5ceb1">hs_enum_events</a>(ltime, event_name, (<a class="code" href="group__mvmestdinclude.html#ga798af1e30bc65f319c1a246cecf59e39">DWORD</a> *) &amp; name_size, event_id,
<a name="l00268"></a>00268                   (<a class="code" href="group__mvmestdinclude.html#ga798af1e30bc65f319c1a246cecf59e39">DWORD</a> *) &amp; id_size);
<a name="l00269"></a>00269 
<a name="l00270"></a>00270    <span class="keywordflow">for</span> (i = 0; i &lt; n; i++) {
<a name="l00271"></a>00271       printf(<span class="stringliteral">&quot;\nEvent ID %d: %s\n&quot;</span>, event_id[i], event_name + i * NAME_LENGTH);
<a name="l00272"></a>00272       <a class="code" href="group__msectionh.html#gac798dee41f652e183de1e1c044b62f49">hs_count_vars</a>(ltime, event_id[i], &amp;nv);
<a name="l00273"></a>00273       bytes = nv * NAME_LENGTH;
<a name="l00274"></a>00274       n_bytes = nv * <span class="keyword">sizeof</span>(<a class="code" href="group__mvmestdinclude.html#ga798af1e30bc65f319c1a246cecf59e39">DWORD</a>);
<a name="l00275"></a>00275       var_names = malloc(bytes);
<a name="l00276"></a>00276       var_n = malloc(nv * <span class="keyword">sizeof</span>(<a class="code" href="group__mvmestdinclude.html#ga798af1e30bc65f319c1a246cecf59e39">DWORD</a>));
<a name="l00277"></a>00277 
<a name="l00278"></a>00278       <a class="code" href="group__msectionh.html#ga0e2ab7218eaffd8953bccf70ecb29fa4">hs_enum_vars</a>(ltime, event_id[i], var_names, &amp;bytes, var_n, &amp;n_bytes);
<a name="l00279"></a>00279       <span class="keywordflow">for</span> (j = 0; j &lt; nv; j++)
<a name="l00280"></a>00280          <span class="keywordflow">if</span> (var_n[j] &gt; 1)
<a name="l00281"></a>00281             printf(<span class="stringliteral">&quot;%ld: %s[%ld]\n&quot;</span>, j, var_names + j * NAME_LENGTH, var_n[j]);
<a name="l00282"></a>00282          <span class="keywordflow">else</span>
<a name="l00283"></a>00283             printf(<span class="stringliteral">&quot;%ld: %s\n&quot;</span>, j, var_names + j * NAME_LENGTH);
<a name="l00284"></a>00284 
<a name="l00285"></a>00285       free(var_n);
<a name="l00286"></a>00286       free(var_names);
<a name="l00287"></a>00287    }
<a name="l00288"></a>00288 
<a name="l00289"></a>00289    free(event_name);
<a name="l00290"></a>00290    free(event_id);
<a name="l00291"></a>00291 
<a name="l00292"></a>00292    <span class="keywordflow">return</span> <a class="code" href="group__err26.html#ga2d533509db8628a7e0eb794e2b3e77b0">HS_SUCCESS</a>;
<a name="l00293"></a>00293 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a896b20721ecf3a7aea8037cc8d81be22"></a><!-- doxytag: member="mhist.c::generate_hist" ref="a896b20721ecf3a7aea8037cc8d81be22" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void generate_hist </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mhist_8c_source.html#l00133">133</a> of file <a class="el" href="mhist_8c_source.html">mhist.c</a>.</p>

<p>References <a class="el" href="mhist_8c_source.html#l00099">hist</a>, <a class="el" href="midas_8c_source.html#l13463">hs_define_event()</a>, <a class="el" href="midas_8c_source.html#l13688">hs_write_event()</a>, <a class="el" href="mhist_8c_source.html#l00100">hv</a>, <a class="el" href="mdump_8c_source.html#l00115">i</a>, <a class="el" href="odbhist_8c_source.html#l00058">j</a>, <a class="el" href="system_8c_source.html#l02491">ss_sleep()</a>, and <a class="el" href="system_8c_source.html#l02332">ss_time()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00135"></a>00135 {
<a name="l00136"></a>00136    <span class="keywordtype">int</span> <a class="code" href="mdump_8c.html#a65a8886d814fb9bf73f9d4f0fd64d162">i</a>, <a class="code" href="odbhist_8c.html#a2df6784bd380a288cf2c3e7e2c43a6b8">j</a>;
<a name="l00137"></a>00137 
<a name="l00138"></a>00138    <a class="code" href="group__msectionh.html#ga45f115952fa24a5a71345f2b57821aec">hs_define_event</a>(1, <span class="stringliteral">&quot;Temperature&quot;</span>, <a class="code" href="mhist_8c.html#a84d2b41bcb58b6f39025dd0e42bda850">temp_tag</a>, <span class="keyword">sizeof</span>(<a class="code" href="mhist_8c.html#a84d2b41bcb58b6f39025dd0e42bda850">temp_tag</a>));
<a name="l00139"></a>00139    <a class="code" href="group__msectionh.html#ga607ef6f6ef2f547c09f05a5a7fe4c3d6">hs_write_event</a>(1, <a class="code" href="mhist_8c.html#a3bfdcf880b0179e2eff0d53bf3573260">hist</a>, <span class="keyword">sizeof</span>(<a class="code" href="mhist_8c.html#a3bfdcf880b0179e2eff0d53bf3573260">hist</a>));
<a name="l00140"></a>00140 
<a name="l00141"></a>00141    <a class="code" href="group__msectionh.html#ga45f115952fa24a5a71345f2b57821aec">hs_define_event</a>(2, <span class="stringliteral">&quot;HV&quot;</span>, <a class="code" href="mhist_8c.html#a920ce11439caff71f59faeb017b84bb9">hv_tag</a>, <span class="keyword">sizeof</span>(<a class="code" href="mhist_8c.html#a920ce11439caff71f59faeb017b84bb9">hv_tag</a>));
<a name="l00142"></a>00142    <a class="code" href="group__msectionh.html#ga607ef6f6ef2f547c09f05a5a7fe4c3d6">hs_write_event</a>(2, <a class="code" href="mhist_8c.html#a041ccd56f8f77adcd83b1e7cc0163cc8">hv</a>, <span class="keyword">sizeof</span>(<a class="code" href="mhist_8c.html#a041ccd56f8f77adcd83b1e7cc0163cc8">hv</a>));
<a name="l00143"></a>00143 
<a name="l00144"></a>00144    <span class="keywordflow">for</span> (i = 0; i &lt; 10; i++) {
<a name="l00145"></a>00145       <a class="code" href="mhist_8c.html#a3bfdcf880b0179e2eff0d53bf3573260">hist</a>[0] = (float) i;
<a name="l00146"></a>00146       <a class="code" href="mhist_8c.html#a3bfdcf880b0179e2eff0d53bf3573260">hist</a>[1] = i / 10.f;
<a name="l00147"></a>00147       <a class="code" href="group__msectionh.html#ga607ef6f6ef2f547c09f05a5a7fe4c3d6">hs_write_event</a>(1, <a class="code" href="mhist_8c.html#a3bfdcf880b0179e2eff0d53bf3573260">hist</a>, <span class="keyword">sizeof</span>(<a class="code" href="mhist_8c.html#a3bfdcf880b0179e2eff0d53bf3573260">hist</a>));
<a name="l00148"></a>00148 
<a name="l00149"></a>00149       <span class="keywordflow">for</span> (j = 0; j &lt; 100; j++)
<a name="l00150"></a>00150          <a class="code" href="mhist_8c.html#a041ccd56f8f77adcd83b1e7cc0163cc8">hv</a>[j] = j + i / 10.f;
<a name="l00151"></a>00151       <a class="code" href="group__msectionh.html#ga607ef6f6ef2f547c09f05a5a7fe4c3d6">hs_write_event</a>(2, <a class="code" href="mhist_8c.html#a041ccd56f8f77adcd83b1e7cc0163cc8">hv</a>, <span class="keyword">sizeof</span>(<a class="code" href="mhist_8c.html#a041ccd56f8f77adcd83b1e7cc0163cc8">hv</a>));
<a name="l00152"></a>00152       printf(<span class="stringliteral">&quot;%ld\n&quot;</span>, <a class="code" href="group__msectionh.html#ga910c0323866ee0d55ea786b90f594b49">ss_time</a>());
<a name="l00153"></a>00153       <a class="code" href="group__msectionh.html#gaaec652d8878ceb5ef38ad1ba2cbf7dec">ss_sleep</a>(1000);
<a name="l00154"></a>00154    }
<a name="l00155"></a>00155 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a0ddf1224851353fc92bfbff6f499fa97"></a><!-- doxytag: member="mhist.c::main" ref="a0ddf1224851353fc92bfbff6f499fa97" args="(int argc, char *argv[])" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int main </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>argc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>argv</em>[]</td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mhist_8c_source.html#l00455">455</a> of file <a class="el" href="mhist_8c_source.html">mhist.c</a>.</p>

<p>References <a class="el" href="mhist_8c_source.html#l00101">binary_time</a>, <a class="el" href="midas_8c_source.html#l01032">cm_set_msg_print()</a>, <a class="el" href="mhist_8c_source.html#l00400">convert_time()</a>, <a class="el" href="midas_8h_source.html#l00639">DIR_SEPARATOR</a>, <a class="el" href="mhist_8c_source.html#l00341">display_range_hist()</a>, <a class="el" href="mhist_8c_source.html#l00296">display_single_hist()</a>, <a class="el" href="mhist_8c_source.html#l00238">display_vars()</a>, <a class="el" href="examples_2macro_2midas__macro_8h_source.html#l00248">event_id</a>, <a class="el" href="p30_8h_source.html#l00042">FALSE</a>, <a class="el" href="odbhist_8c_source.html#l00059">file_name</a>, <a class="el" href="midas_8c_source.html#l14695">hs_dump()</a>, <a class="el" href="midas_8c_source.html#l14924">hs_fdump()</a>, <a class="el" href="midas_8c_source.html#l13244">hs_set_path()</a>, <a class="el" href="midas_8h_source.html#l01092">HS_SUCCESS</a>, <a class="el" href="mdump_8c_source.html#l00115">i</a>, <a class="el" href="mana_8cpp_source.html#l00677">index</a>, <a class="el" href="mscbutil_8c_source.html#l00654">interval</a>, <a class="el" href="midas_8h_source.html#l00931">MT_ALL</a>, <a class="el" href="midas_8h_source.html#l00681">NAME_LENGTH</a>, <a class="el" href="sis3803_8c_source.html#l00925">p</a>, <a class="el" href="mhist_8c_source.html#l00158">query_params()</a>, <a class="el" href="system_8c_source.html#l02332">ss_time()</a>, <a class="el" href="old__mevb_8cpp_source.html#l00065">start_time</a>, <a class="el" href="patch__mevb_8cpp_source.html#l00079">status</a>, <a class="el" href="p30_8h_source.html#l00043">TRUE</a>, <a class="el" href="odb__check_8cc_source.html#l00011">usage()</a>, and <a class="el" href="odbhist_8c_source.html#l00059">var_name</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00456"></a>00456 {
<a name="l00457"></a>00457    <a class="code" href="group__mvmestdinclude.html#ga798af1e30bc65f319c1a246cecf59e39">DWORD</a> <a class="code" href="patch__mevb_8cpp.html#a015eb90e0de9f16e87bd149d4b9ce959">status</a>, <a class="code" href="examples_2macro_2midas__macro_8h.html#a6bff0a5e8995a80f74212d31f551167a">event_id</a>, <a class="code" href="old__mevb_8cpp.html#af4211e1ba0e676018599e88cfae3537a">start_time</a> = 0, end_time, <a class="code" href="mscbutil_8c.html#ad856acfe9ce335571b00a73df5e23e6b">interval</a>, <a class="code" href="mana_8cpp.html#a312c2cad451d6bb0536fb9ec2863be59">index</a>, index1 = 0, index2 =
<a name="l00458"></a>00458        0;
<a name="l00459"></a>00459    <a class="code" href="lrs1190_8c.html#a6877c9d7ac317ac3415ee1a1f92302a0">INT</a> <a class="code" href="mdump_8c.html#a65a8886d814fb9bf73f9d4f0fd64d162">i</a>, var_n_data;
<a name="l00460"></a>00460    <a class="code" href="group__midasincludecode.html#ga239c7f0d40651c3e419c5b9651507d14">BOOL</a> list_query;
<a name="l00461"></a>00461    <a class="code" href="group__mvmestdinclude.html#ga798af1e30bc65f319c1a246cecf59e39">DWORD</a> var_type;
<a name="l00462"></a>00462    <span class="keywordtype">char</span> <a class="code" href="odbhist_8c.html#afb511f623cd68ee7526e819a11155abf">var_name</a>[<a class="code" href="group__midasincludecode.html#gaf71324c57f05ff9e24bd384925dd6b17">NAME_LENGTH</a>], <a class="code" href="odbhist_8c.html#a4da1fcf44864d811e793f03bf36e6e17">file_name</a>[256];
<a name="l00463"></a>00463    <span class="keywordtype">char</span> *<a class="code" href="sis3803_8c.html#afcb0609a0beab248bb3994a3368bd9ff">p</a>, path_name[256], path1_name[256];
<a name="l00464"></a>00464    <span class="keywordtype">char</span> start_name[64];
<a name="l00465"></a>00465    <span class="keywordtype">char</span> *column;
<a name="l00466"></a>00466 
<a name="l00467"></a>00467    <span class="comment">/* turn off system message */</span>
<a name="l00468"></a>00468    <a class="code" href="group__msectionh.html#gaf4589061aab20d351d901b6d2ccc0cc0">cm_set_msg_print</a>(0, <a class="code" href="group__mdefineh.html#ga3378bf6f53a24392145df33c8acc9c0c">MT_ALL</a>, puts);
<a name="l00469"></a>00469 
<a name="l00470"></a>00470    var_name[0] = 0;
<a name="l00471"></a>00471    file_name[0] = 0;
<a name="l00472"></a>00472    list_query = <a class="code" href="p30_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;
<a name="l00473"></a>00473    path_name[0] = 0;
<a name="l00474"></a>00474    path1_name[0] = 0;
<a name="l00475"></a>00475    start_name[0] = 0;
<a name="l00476"></a>00476 
<a name="l00477"></a>00477    <span class="keywordflow">if</span> (argc == 1) {
<a name="l00478"></a>00478       status = <a class="code" href="mhist_8c.html#ab6a03831018cac4dc7129fa93ff324d4">query_params</a>(&amp;event_id, &amp;start_time, &amp;end_time,
<a name="l00479"></a>00479                             &amp;interval, var_name, &amp;var_type, &amp;var_n_data, &amp;index);
<a name="l00480"></a>00480       <span class="keywordflow">if</span> (status != <a class="code" href="group__err26.html#ga2d533509db8628a7e0eb794e2b3e77b0">HS_SUCCESS</a>)
<a name="l00481"></a>00481          <span class="keywordflow">return</span> 1;
<a name="l00482"></a>00482    } <span class="keywordflow">else</span> {
<a name="l00483"></a>00483       <span class="comment">/* at least one argument */</span>
<a name="l00484"></a>00484       end_time = <a class="code" href="group__msectionh.html#ga910c0323866ee0d55ea786b90f594b49">ss_time</a>();
<a name="l00485"></a>00485       start_time = end_time - 3600;
<a name="l00486"></a>00486       interval = 1;
<a name="l00487"></a>00487       index = 0, index1 = 0, index2 = 0;
<a name="l00488"></a>00488       var_type = 0;
<a name="l00489"></a>00489       event_id = 0;
<a name="l00490"></a>00490       <a class="code" href="mhist_8c.html#ab8807066c6d3cac932af3c18621e04d0">binary_time</a> = <a class="code" href="p30_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;
<a name="l00491"></a>00491 
<a name="l00492"></a>00492       <span class="keywordflow">for</span> (i = 1; i &lt; argc; i++) {
<a name="l00493"></a>00493          <span class="keywordflow">if</span> (argv[i][0] == <span class="charliteral">&apos;-&apos;</span> &amp;&amp; argv[i][1] == <span class="charliteral">&apos;b&apos;</span>)
<a name="l00494"></a>00494             <a class="code" href="mhist_8c.html#ab8807066c6d3cac932af3c18621e04d0">binary_time</a> = <a class="code" href="p30_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;
<a name="l00495"></a>00495          <span class="keywordflow">else</span> <span class="keywordflow">if</span> (argv[i][0] == <span class="charliteral">&apos;-&apos;</span> &amp;&amp; argv[i][1] == <span class="charliteral">&apos;l&apos;</span>)
<a name="l00496"></a>00496             list_query = <a class="code" href="p30_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;
<a name="l00497"></a>00497          <span class="keywordflow">else</span> <span class="keywordflow">if</span> (argv[i][0] == <span class="charliteral">&apos;-&apos;</span>) {
<a name="l00498"></a>00498             <span class="keywordflow">if</span> (i + 1 &gt;= argc || argv[i + 1][0] == <span class="charliteral">&apos;-&apos;</span>)
<a name="l00499"></a>00499                <span class="keywordflow">goto</span> <a class="code" href="odb__check_8cc.html#a2ef30c42cbc289d899a8be5d2d8f77d0">usage</a>;
<a name="l00500"></a>00500             <span class="keywordflow">if</span> (strncmp(argv[i], <span class="stringliteral">&quot;-e&quot;</span>, 2) == 0)
<a name="l00501"></a>00501                event_id = atoi(argv[++i]);
<a name="l00502"></a>00502             <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strncmp(argv[i], <span class="stringliteral">&quot;-v&quot;</span>, 2) == 0)
<a name="l00503"></a>00503                strcpy(var_name, argv[++i]);
<a name="l00504"></a>00504             <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strncmp(argv[i], <span class="stringliteral">&quot;-i&quot;</span>, 2) == 0) {
<a name="l00505"></a>00505                <span class="keywordflow">if</span> ((column = strchr(argv[++i], <span class="charliteral">&apos;:&apos;</span>)) == NULL) {
<a name="l00506"></a>00506                   index1 = atoi(argv[i]);
<a name="l00507"></a>00507                   index2 = 0;
<a name="l00508"></a>00508                } <span class="keywordflow">else</span> {
<a name="l00509"></a>00509                   *column = 0;
<a name="l00510"></a>00510                   index1 = atoi(argv[i]);
<a name="l00511"></a>00511                   index2 = atoi(column + 1);
<a name="l00512"></a>00512                }
<a name="l00513"></a>00513             } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strncmp(argv[i], <span class="stringliteral">&quot;-h&quot;</span>, 2) == 0)
<a name="l00514"></a>00514                start_time = <a class="code" href="group__msectionh.html#ga910c0323866ee0d55ea786b90f594b49">ss_time</a>() - atoi(argv[++i]) * 3600;
<a name="l00515"></a>00515             <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strncmp(argv[i], <span class="stringliteral">&quot;-d&quot;</span>, 2) == 0)
<a name="l00516"></a>00516                start_time = <a class="code" href="group__msectionh.html#ga910c0323866ee0d55ea786b90f594b49">ss_time</a>() - atoi(argv[++i]) * 3600 * 24;
<a name="l00517"></a>00517             <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strncmp(argv[i], <span class="stringliteral">&quot;-s&quot;</span>, 2) == 0) {
<a name="l00518"></a>00518                strcpy(start_name, argv[++i]);
<a name="l00519"></a>00519                start_time = <a class="code" href="mhist_8c.html#add14c4c0e5ef427ee8afddc3198f8f44">convert_time</a>(argv[i]);
<a name="l00520"></a>00520             } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strncmp(argv[i], <span class="stringliteral">&quot;-p&quot;</span>, 2) == 0)
<a name="l00521"></a>00521                end_time = <a class="code" href="mhist_8c.html#add14c4c0e5ef427ee8afddc3198f8f44">convert_time</a>(argv[++i]);
<a name="l00522"></a>00522             <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strncmp(argv[i], <span class="stringliteral">&quot;-t&quot;</span>, 2) == 0)
<a name="l00523"></a>00523                interval = atoi(argv[++i]);
<a name="l00524"></a>00524             <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strncmp(argv[i], <span class="stringliteral">&quot;-f&quot;</span>, 2) == 0)
<a name="l00525"></a>00525                strcpy(path_name, argv[++i]);
<a name="l00526"></a>00526             <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strncmp(argv[i], <span class="stringliteral">&quot;-z&quot;</span>, 2) == 0)
<a name="l00527"></a>00527                strcpy(path1_name, argv[++i]);
<a name="l00528"></a>00528          } <span class="keywordflow">else</span> {
<a name="l00529"></a>00529           <a class="code" href="odb__check_8cc.html#a2ef30c42cbc289d899a8be5d2d8f77d0">usage</a>:
<a name="l00530"></a>00530             printf(<span class="stringliteral">&quot;\nusage: mhist -e Event ID -v Variable Name\n&quot;</span>);
<a name="l00531"></a>00531             printf(<span class="stringliteral">&quot;         [-i Index] index of variables which are arrays\n&quot;</span>);
<a name="l00532"></a>00532             printf
<a name="l00533"></a>00533                 (<span class="stringliteral">&quot;         [-i Index1:Index2] index range of variables which are arrays (max 50)\n&quot;</span>);
<a name="l00534"></a>00534             printf
<a name="l00535"></a>00535                 (<span class="stringliteral">&quot;         [-t Interval] minimum interval in sec. between two displayed records\n&quot;</span>);
<a name="l00536"></a>00536             printf(<span class="stringliteral">&quot;         [-h Hours] display between some hours ago and now\n&quot;</span>);
<a name="l00537"></a>00537             printf(<span class="stringliteral">&quot;         [-d Days] display between some days ago and now\n&quot;</span>);
<a name="l00538"></a>00538             printf(<span class="stringliteral">&quot;         [-f File] specify history file explicitly\n&quot;</span>);
<a name="l00539"></a>00539             printf(<span class="stringliteral">&quot;         [-s Start date] specify start date YYMMDD[.HHMM[SS]]\n&quot;</span>);
<a name="l00540"></a>00540             printf(<span class="stringliteral">&quot;         [-p End date] specify end date YYMMDD[.HHMM[SS]]\n&quot;</span>);
<a name="l00541"></a>00541             printf(<span class="stringliteral">&quot;         [-l] list available events and variables\n&quot;</span>);
<a name="l00542"></a>00542             printf(<span class="stringliteral">&quot;         [-b] display time stamp in decimal format\n&quot;</span>);
<a name="l00543"></a>00543             printf
<a name="l00544"></a>00544                 (<span class="stringliteral">&quot;         [-z path] path to the location of the history files (def:cwd)\n&quot;</span>);
<a name="l00545"></a>00545             <span class="keywordflow">return</span> 1;
<a name="l00546"></a>00546          }
<a name="l00547"></a>00547       }
<a name="l00548"></a>00548    }
<a name="l00549"></a>00549 
<a name="l00550"></a>00550    <span class="comment">/*</span>
<a name="l00551"></a>00551 <span class="comment">      -z is needed in case the mhist called by script</span>
<a name="l00552"></a>00552 <span class="comment"></span>
<a name="l00553"></a>00553 <span class="comment">      -f /path/file.hst</span>
<a name="l00554"></a>00554 <span class="comment">      -f file.hst -z /path         =&gt;   file_name = file.hst</span>
<a name="l00555"></a>00555 <span class="comment">      path1_name= /path/</span>
<a name="l00556"></a>00556 <span class="comment">      -f /path/file.hst -z path1   =&gt;   file_name = file.hst</span>
<a name="l00557"></a>00557 <span class="comment">      path1_name = path1</span>
<a name="l00558"></a>00558 <span class="comment">    */</span>
<a name="l00559"></a>00559    p = strrchr(path_name, <a class="code" href="group__midasincludecode.html#ga0920890c442b665b0c6609fa796e9047">DIR_SEPARATOR</a>);
<a name="l00560"></a>00560    <span class="keywordflow">if</span> (p != NULL) {
<a name="l00561"></a>00561       strcpy(file_name, p + 1);
<a name="l00562"></a>00562       *(p + 1) = <span class="charliteral">&apos;\0&apos;</span>;
<a name="l00563"></a>00563       <span class="keywordflow">if</span> (path1_name[0] == <span class="charliteral">&apos;\0&apos;</span>)
<a name="l00564"></a>00564          strcpy(path1_name, path_name);
<a name="l00565"></a>00565    } <span class="keywordflow">else</span> {
<a name="l00566"></a>00566       strcpy(file_name, path_name);
<a name="l00567"></a>00567       path_name[0] = <span class="charliteral">&apos;\0&apos;</span>;
<a name="l00568"></a>00568    }
<a name="l00569"></a>00569 
<a name="l00570"></a>00570    <span class="comment">/* Set path */</span>
<a name="l00571"></a>00571    <span class="keywordflow">if</span> (path1_name[0])
<a name="l00572"></a>00572       <a class="code" href="group__msectionh.html#gac14a8c94ad64cfa991efae443a21c17d">hs_set_path</a>(path1_name);
<a name="l00573"></a>00573 
<a name="l00574"></a>00574    <span class="comment">/* -l listing only */</span>
<a name="l00575"></a>00575    <span class="keywordflow">if</span> (list_query) {
<a name="l00576"></a>00576       <span class="comment">/* Overwrite the file_name if -s is given with -l only</span>
<a name="l00577"></a>00577 <span class="comment">         in order to produce the -l on the specified date */</span>
<a name="l00578"></a>00578       <span class="keywordflow">if</span> (start_name[0] != 0)
<a name="l00579"></a>00579          strcpy(file_name, start_name);
<a name="l00580"></a>00580 
<a name="l00581"></a>00581       <a class="code" href="mhist_8c.html#ae6f0e6a1ce73866f70cd40443e30374b">display_vars</a>(file_name);
<a name="l00582"></a>00582    }
<a name="l00583"></a>00583 
<a name="l00584"></a>00584    <span class="comment">/* -f given takes -e -b */</span>
<a name="l00585"></a>00585    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (file_name[0])
<a name="l00586"></a>00586       <a class="code" href="group__msectionh.html#gac8eea470972ac14b4dec0732475d9e0a">hs_fdump</a>(file_name, event_id, <a class="code" href="mhist_8c.html#ab8807066c6d3cac932af3c18621e04d0">binary_time</a>);
<a name="l00587"></a>00587 
<a name="l00588"></a>00588    <span class="comment">/* -v given takes -e -s -p -t -b */</span>
<a name="l00589"></a>00589    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (var_name[0] == 0)
<a name="l00590"></a>00590       <a class="code" href="group__msectionh.html#ga8b0e0772782f2f934897ad72847bb438">hs_dump</a>(event_id, start_time, end_time, interval, <a class="code" href="mhist_8c.html#ab8807066c6d3cac932af3c18621e04d0">binary_time</a>);
<a name="l00591"></a>00591 
<a name="l00592"></a>00592    <span class="comment">/* Interactive variable display */</span>
<a name="l00593"></a>00593    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (index2 == 0)
<a name="l00594"></a>00594       <a class="code" href="mhist_8c.html#a1602b65e28be1e9d67f0baccfe9a4535">display_single_hist</a>(event_id, start_time, end_time, interval, var_name, index1);
<a name="l00595"></a>00595    <span class="keywordflow">else</span>
<a name="l00596"></a>00596       <a class="code" href="mhist_8c.html#a47fabed368eee188d085b524b86125ca">display_range_hist</a>(event_id, start_time, end_time,
<a name="l00597"></a>00597                          interval, var_name, index1, index2);
<a name="l00598"></a>00598 
<a name="l00599"></a>00599    <span class="keywordflow">return</span> 0;
<a name="l00600"></a>00600 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="ab6a03831018cac4dc7129fa93ff324d4"></a><!-- doxytag: member="mhist.c::query_params" ref="ab6a03831018cac4dc7129fa93ff324d4" args="(DWORD *ev_id, DWORD *start_time, DWORD *end_time, DWORD *interval, char *var_name, DWORD *var_type, INT *var_n_data, DWORD *index)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="odbhist_8c.html#a392e62da233ed3e2f7c3fd4f487a3896">INT</a> query_params </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="odbhist_8c.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> *&nbsp;</td>
          <td class="paramname"> <em>ev_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="odbhist_8c.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> *&nbsp;</td>
          <td class="paramname"> <em>start_time</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="odbhist_8c.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> *&nbsp;</td>
          <td class="paramname"> <em>end_time</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="odbhist_8c.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> *&nbsp;</td>
          <td class="paramname"> <em>interval</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>var_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="odbhist_8c.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> *&nbsp;</td>
          <td class="paramname"> <em>var_type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="odbhist_8c.html#a392e62da233ed3e2f7c3fd4f487a3896">INT</a> *&nbsp;</td>
          <td class="paramname"> <em>var_n_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="odbhist_8c.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> *&nbsp;</td>
          <td class="paramname"> <em>index</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mhist_8c_source.html#l00158">158</a> of file <a class="el" href="mhist_8c_source.html">mhist.c</a>.</p>

<p>References <a class="el" href="examples_2macro_2midas__macro_8h_source.html#l00248">event_id</a>, <a class="el" href="midas_8c_source.html#l13907">hs_count_events()</a>, <a class="el" href="midas_8c_source.html#l14064">hs_count_vars()</a>, <a class="el" href="midas_8c_source.html#l13818">hs_enum_events()</a>, <a class="el" href="midas_8c_source.html#l14134">hs_enum_vars()</a>, <a class="el" href="midas_8c_source.html#l14241">hs_get_var()</a>, <a class="el" href="midas_8h_source.html#l01092">HS_SUCCESS</a>, <a class="el" href="mdump_8c_source.html#l00115">i</a>, <a class="el" href="camac_8c_source.html#l00506">n</a>, <a class="el" href="midas_8h_source.html#l00681">NAME_LENGTH</a>, <a class="el" href="system_8c_source.html#l02332">ss_time()</a>, <a class="el" href="patch__mevb_8cpp_source.html#l00079">status</a>, <a class="el" href="midas_8h_source.html#l00746">TID_STRING</a>, and <a class="el" href="lcd__menu_8c_source.html#l00044">var_index</a>.</p>

<p>Referenced by <a class="el" href="mhist_8c_source.html#l00455">main()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00161"></a>00161 {
<a name="l00162"></a>00162    <a class="code" href="group__mvmestdinclude.html#ga798af1e30bc65f319c1a246cecf59e39">DWORD</a> <a class="code" href="patch__mevb_8cpp.html#a015eb90e0de9f16e87bd149d4b9ce959">status</a>, hour, <a class="code" href="mdump_8c.html#a65a8886d814fb9bf73f9d4f0fd64d162">i</a>, bytes, <a class="code" href="camac_8c.html#a76f11d9a0a47b94f72c2d0e77fb32240">n</a>, *var_n, n_bytes;
<a name="l00163"></a>00163    <a class="code" href="lrs1190_8c.html#a6877c9d7ac317ac3415ee1a1f92302a0">INT</a> <a class="code" href="lcd__menu_8c.html#a13b219e0dd828c9f136b7bb99d8afc34">var_index</a>, *<a class="code" href="examples_2macro_2midas__macro_8h.html#a6bff0a5e8995a80f74212d31f551167a">event_id</a>, name_size, id_size;
<a name="l00164"></a>00164    <span class="keywordtype">char</span> *event_name;
<a name="l00165"></a>00165    <span class="keywordtype">char</span> *var_names;
<a name="l00166"></a>00166 
<a name="l00167"></a>00167    status = <a class="code" href="group__msectionh.html#ga8e4e2004af1da6f95ccf8227cf0b2004">hs_count_events</a>(0, &amp;n);
<a name="l00168"></a>00168    <span class="keywordflow">if</span> (status != <a class="code" href="group__err26.html#ga2d533509db8628a7e0eb794e2b3e77b0">HS_SUCCESS</a>)
<a name="l00169"></a>00169       <span class="keywordflow">return</span> status;
<a name="l00170"></a>00170    name_size = n * <a class="code" href="group__midasincludecode.html#gaf71324c57f05ff9e24bd384925dd6b17">NAME_LENGTH</a>;
<a name="l00171"></a>00171    id_size = n * <span class="keyword">sizeof</span>(<a class="code" href="lrs1190_8c.html#a6877c9d7ac317ac3415ee1a1f92302a0">INT</a>);
<a name="l00172"></a>00172    event_name = malloc(name_size);
<a name="l00173"></a>00173    event_id = malloc(id_size);
<a name="l00174"></a>00174    <a class="code" href="group__msectionh.html#ga30bdb0daec584d9ddea0af5e99c5ceb1">hs_enum_events</a>(0, event_name, (<a class="code" href="group__mvmestdinclude.html#ga798af1e30bc65f319c1a246cecf59e39">DWORD</a> *) &amp; name_size, event_id, (<a class="code" href="group__mvmestdinclude.html#ga798af1e30bc65f319c1a246cecf59e39">DWORD</a> *) &amp; id_size);
<a name="l00175"></a>00175 
<a name="l00176"></a>00176    printf(<span class="stringliteral">&quot;Available events:\n&quot;</span>);
<a name="l00177"></a>00177    <span class="keywordflow">for</span> (i = 0; i &lt; n; i++)
<a name="l00178"></a>00178       printf(<span class="stringliteral">&quot;ID %d: %s\n&quot;</span>, event_id[i], event_name + i * NAME_LENGTH);
<a name="l00179"></a>00179 
<a name="l00180"></a>00180    <span class="keywordflow">if</span> (n &gt; 1) {
<a name="l00181"></a>00181       printf(<span class="stringliteral">&quot;\nSelect event ID: &quot;</span>);
<a name="l00182"></a>00182       scanf(<span class="stringliteral">&quot;%ld&quot;</span>, ev_id);
<a name="l00183"></a>00183    } <span class="keywordflow">else</span>
<a name="l00184"></a>00184       *ev_id = event_id[0];
<a name="l00185"></a>00185 
<a name="l00186"></a>00186    <a class="code" href="group__msectionh.html#gac798dee41f652e183de1e1c044b62f49">hs_count_vars</a>(0, *ev_id, &amp;n);
<a name="l00187"></a>00187    n_bytes = n * <span class="keyword">sizeof</span>(<a class="code" href="group__mvmestdinclude.html#ga798af1e30bc65f319c1a246cecf59e39">DWORD</a>);
<a name="l00188"></a>00188    bytes = n * NAME_LENGTH;
<a name="l00189"></a>00189    var_names = malloc(bytes);
<a name="l00190"></a>00190    var_n = malloc(n_bytes);
<a name="l00191"></a>00191    <a class="code" href="group__msectionh.html#ga0e2ab7218eaffd8953bccf70ecb29fa4">hs_enum_vars</a>(0, *ev_id, var_names, &amp;bytes, var_n, &amp;n_bytes);
<a name="l00192"></a>00192 
<a name="l00193"></a>00193    printf(<span class="stringliteral">&quot;\nAvailable variables:\n&quot;</span>);
<a name="l00194"></a>00194    <span class="keywordflow">for</span> (i = 0; i &lt; n; i++)
<a name="l00195"></a>00195       <span class="keywordflow">if</span> (var_n[i] &gt; 1)
<a name="l00196"></a>00196          printf(<span class="stringliteral">&quot;%ld: %s[%ld]\n&quot;</span>, i, var_names + i * NAME_LENGTH, var_n[i]);
<a name="l00197"></a>00197       <span class="keywordflow">else</span>
<a name="l00198"></a>00198          printf(<span class="stringliteral">&quot;%ld: %s\n&quot;</span>, i, var_names + i * NAME_LENGTH);
<a name="l00199"></a>00199 
<a name="l00200"></a>00200    *<a class="code" href="mana_8cpp.html#a312c2cad451d6bb0536fb9ec2863be59">index</a> = var_index = 0;
<a name="l00201"></a>00201    <span class="keywordflow">if</span> (n &gt; 1) {
<a name="l00202"></a>00202       printf(<span class="stringliteral">&quot;\nSelect variable (0..%ld,-1 for all): &quot;</span>, n - 1);
<a name="l00203"></a>00203       scanf(<span class="stringliteral">&quot;%d&quot;</span>, &amp;var_index);
<a name="l00204"></a>00204       <span class="keywordflow">if</span> (var_index &gt;= (<a class="code" href="lrs1190_8c.html#a6877c9d7ac317ac3415ee1a1f92302a0">INT</a>) n)
<a name="l00205"></a>00205          var_index = n - 1;
<a name="l00206"></a>00206       <span class="keywordflow">if</span> (var_index &gt;= 0)
<a name="l00207"></a>00207          <a class="code" href="group__msectionh.html#ga829bc6030bb73a6df3639f67a818fc57">hs_get_var</a>(0, *ev_id, var_names + var_index * NAME_LENGTH, var_type, var_n_data);
<a name="l00208"></a>00208       <span class="keywordflow">if</span> (var_index &gt;= 0 &amp;&amp; *var_n_data &gt; 1 &amp;&amp; *var_type != <a class="code" href="group__mdefineh.html#gab81af1d9631a5c29500d506f0c3470cd">TID_STRING</a>) {
<a name="l00209"></a>00209          printf(<span class="stringliteral">&quot;\nSelect index (0..%d): &quot;</span>, *var_n_data - 1);
<a name="l00210"></a>00210          scanf(<span class="stringliteral">&quot;%ld&quot;</span>, <a class="code" href="mana_8cpp.html#a312c2cad451d6bb0536fb9ec2863be59">index</a>);
<a name="l00211"></a>00211       }
<a name="l00212"></a>00212    }
<a name="l00213"></a>00213 
<a name="l00214"></a>00214    <span class="keywordflow">if</span> (var_index &lt; 0)
<a name="l00215"></a>00215       <a class="code" href="odbhist_8c.html#afb511f623cd68ee7526e819a11155abf">var_name</a>[0] = 0;
<a name="l00216"></a>00216    <span class="keywordflow">else</span>
<a name="l00217"></a>00217       strcpy(<a class="code" href="odbhist_8c.html#afb511f623cd68ee7526e819a11155abf">var_name</a>, var_names + var_index * NAME_LENGTH);
<a name="l00218"></a>00218 
<a name="l00219"></a>00219    printf(<span class="stringliteral">&quot;\nHow many hours: &quot;</span>);
<a name="l00220"></a>00220    scanf(<span class="stringliteral">&quot;%ld&quot;</span>, &amp;hour);
<a name="l00221"></a>00221    *<a class="code" href="old__mevb_8cpp.html#af4211e1ba0e676018599e88cfae3537a">start_time</a> = <a class="code" href="group__msectionh.html#ga910c0323866ee0d55ea786b90f594b49">ss_time</a>() - hour * 3600;
<a name="l00222"></a>00222    *end_time = <a class="code" href="group__msectionh.html#ga910c0323866ee0d55ea786b90f594b49">ss_time</a>();
<a name="l00223"></a>00223 
<a name="l00224"></a>00224    printf(<span class="stringliteral">&quot;\nInterval [sec]: &quot;</span>);
<a name="l00225"></a>00225    scanf(<span class="stringliteral">&quot;%ld&quot;</span>, <a class="code" href="mscbutil_8c.html#ad856acfe9ce335571b00a73df5e23e6b">interval</a>);
<a name="l00226"></a>00226    printf(<span class="stringliteral">&quot;\n&quot;</span>);
<a name="l00227"></a>00227 
<a name="l00228"></a>00228    free(var_names);
<a name="l00229"></a>00229    free(var_n);
<a name="l00230"></a>00230    free(event_name);
<a name="l00231"></a>00231    free(event_id);
<a name="l00232"></a>00232 
<a name="l00233"></a>00233    <span class="keywordflow">return</span> <a class="code" href="group__err26.html#ga2d533509db8628a7e0eb794e2b3e77b0">HS_SUCCESS</a>;
<a name="l00234"></a>00234 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a1c4effcb9a2b3357fbfa63a6edfa0cc6"></a><!-- doxytag: member="mhist.c::tmp" ref="a1c4effcb9a2b3357fbfa63a6edfa0cc6" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tmp </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mhist_8c_source.html#l00078">78</a> of file <a class="el" href="mhist_8c_source.html">mhist.c</a>.</p>

<p>References <a class="el" href="p30_8h_source.html#l00042">FALSE</a>, <a class="el" href="midas_8c_source.html#l14695">hs_dump()</a>, <a class="el" href="system_8c_source.html#l02332">ss_time()</a>, and <a class="el" href="CAET_8h_source.html#l00002">time</a>.</p>

<p>Referenced by <a class="el" href="mcnaf_8c_source.html#l00602">decode_line()</a>, <a class="el" href="ftplib_8c_source.html#l00582">ftp_pwd()</a>, <a class="el" href="WireMap_8cc_source.html#l00351">WireMap::GetArraySize()</a>, <a class="el" href="webpaw_8c_source.html#l00823">interprete()</a>, <a class="el" href="WireMap_8cc_source.html#l00120">WireMap::Load()</a>, <a class="el" href="X742CorrectionRoutines_8c_source.html#l00126">LoadCorrectionTables()</a>, <a class="el" href="cvupgrade_8c_source.html#l00623">main()</a>, <a class="el" href="X742CorrectionRoutines_8c_source.html#l00080">read_flash_page()</a>, <a class="el" href="webpaw_8c_source.html#l00602">read_paw()</a>, <a class="el" href="odb_8c_source.html#l00606">realloc_data()</a>, <a class="el" href="v1290_8c_source.html#l00182">v1290_SetWindowOffset()</a>, and <a class="el" href="xraycount_8c_source.html#l00011">xraycount()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00079"></a>00079 {
<a name="l00080"></a>00080    time_t tm;
<a name="l00081"></a>00081 
<a name="l00082"></a>00082    <a class="code" href="CAET_8h.html#ab2d5aa7fce1a14d8bddfb2c333ea9679">time</a>(&amp;tm);
<a name="l00083"></a>00083    tm = <a class="code" href="group__msectionh.html#ga910c0323866ee0d55ea786b90f594b49">ss_time</a>();
<a name="l00084"></a>00084    <a class="code" href="group__msectionh.html#ga8b0e0772782f2f934897ad72847bb438">hs_dump</a>(1, tm - 3600, tm, 0, <a class="code" href="p30_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>);
<a name="l00085"></a>00085 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a5fd49e26bd650faf0fa9841e123ac787"></a><!-- doxytag: member="mhist.c::write_hist_speed" ref="a5fd49e26bd650faf0fa9841e123ac787" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void write_hist_speed </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mhist_8c_source.html#l00103">103</a> of file <a class="el" href="mhist_8c_source.html">mhist.c</a>.</p>

<p>References <a class="el" href="mhist_8c_source.html#l00099">hist</a>, <a class="el" href="midas_8c_source.html#l13463">hs_define_event()</a>, <a class="el" href="midas_8c_source.html#l13688">hs_write_event()</a>, <a class="el" href="mhist_8c_source.html#l00100">hv</a>, <a class="el" href="mdump_8c_source.html#l00115">i</a>, <a class="el" href="odbhist_8c_source.html#l00058">j</a>, <a class="el" href="system_8c_source.html#l02265">ss_millitime()</a>, <a class="el" href="system_8c_source.html#l02332">ss_time()</a>, and <a class="el" href="old__mevb_8cpp_source.html#l00065">start_time</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00105"></a>00105 {
<a name="l00106"></a>00106    <a class="code" href="group__mvmestdinclude.html#ga798af1e30bc65f319c1a246cecf59e39">DWORD</a> <a class="code" href="old__mevb_8cpp.html#af4211e1ba0e676018599e88cfae3537a">start_time</a>, act_time;
<a name="l00107"></a>00107    <span class="keywordtype">int</span> <a class="code" href="mdump_8c.html#a65a8886d814fb9bf73f9d4f0fd64d162">i</a>, <a class="code" href="odbhist_8c.html#a2df6784bd380a288cf2c3e7e2c43a6b8">j</a>, bytes;
<a name="l00108"></a>00108 
<a name="l00109"></a>00109    <a class="code" href="group__msectionh.html#ga45f115952fa24a5a71345f2b57821aec">hs_define_event</a>(1, <span class="stringliteral">&quot;Temperature&quot;</span>, <a class="code" href="mhist_8c.html#a84d2b41bcb58b6f39025dd0e42bda850">temp_tag</a>, <span class="keyword">sizeof</span>(<a class="code" href="mhist_8c.html#a84d2b41bcb58b6f39025dd0e42bda850">temp_tag</a>));
<a name="l00110"></a>00110    <a class="code" href="group__msectionh.html#ga45f115952fa24a5a71345f2b57821aec">hs_define_event</a>(2, <span class="stringliteral">&quot;HV&quot;</span>, <a class="code" href="mhist_8c.html#a920ce11439caff71f59faeb017b84bb9">hv_tag</a>, <span class="keyword">sizeof</span>(<a class="code" href="mhist_8c.html#a920ce11439caff71f59faeb017b84bb9">hv_tag</a>));
<a name="l00111"></a>00111 
<a name="l00112"></a>00112    start_time = <a class="code" href="group__msectionh.html#gaeb8fc912d50c2360588c50782b9c916d">ss_millitime</a>();
<a name="l00113"></a>00113    j = bytes = 0;
<a name="l00114"></a>00114    <span class="keywordflow">do</span> {
<a name="l00115"></a>00115       <span class="keywordflow">for</span> (i = 0; i &lt; 100; i++) {
<a name="l00116"></a>00116          <a class="code" href="mhist_8c.html#a3bfdcf880b0179e2eff0d53bf3573260">hist</a>[i] = (float) j;
<a name="l00117"></a>00117          <a class="code" href="group__msectionh.html#ga607ef6f6ef2f547c09f05a5a7fe4c3d6">hs_write_event</a>(1, <a class="code" href="mhist_8c.html#a3bfdcf880b0179e2eff0d53bf3573260">hist</a>, <span class="keyword">sizeof</span>(<a class="code" href="mhist_8c.html#a3bfdcf880b0179e2eff0d53bf3573260">hist</a>));
<a name="l00118"></a>00118          <a class="code" href="group__msectionh.html#ga607ef6f6ef2f547c09f05a5a7fe4c3d6">hs_write_event</a>(2, <a class="code" href="mhist_8c.html#a041ccd56f8f77adcd83b1e7cc0163cc8">hv</a>, <span class="keyword">sizeof</span>(<a class="code" href="mhist_8c.html#a041ccd56f8f77adcd83b1e7cc0163cc8">hv</a>));
<a name="l00119"></a>00119       }
<a name="l00120"></a>00120 
<a name="l00121"></a>00121       j += 2 * i;
<a name="l00122"></a>00122       bytes += (<span class="keyword">sizeof</span>(<a class="code" href="mhist_8c.html#a3bfdcf880b0179e2eff0d53bf3573260">hist</a>) + <span class="keyword">sizeof</span>(<a class="code" href="mhist_8c.html#a041ccd56f8f77adcd83b1e7cc0163cc8">hv</a>)) * i;
<a name="l00123"></a>00123       act_time = <a class="code" href="group__msectionh.html#gaeb8fc912d50c2360588c50782b9c916d">ss_millitime</a>();
<a name="l00124"></a>00124 
<a name="l00125"></a>00125       printf(<span class="stringliteral">&quot;%ld\n&quot;</span>, <a class="code" href="group__msectionh.html#ga910c0323866ee0d55ea786b90f594b49">ss_time</a>());
<a name="l00126"></a>00126 
<a name="l00127"></a>00127    } <span class="keywordflow">while</span> (act_time - start_time &lt; 10000);
<a name="l00128"></a>00128 
<a name="l00129"></a>00129    printf(<span class="stringliteral">&quot;%ld events (%ld kB) per sec.\n&quot;</span>, j / (act_time - start_time) * 1000,
<a name="l00130"></a>00130           bytes / 1024 / (act_time - start_time) * 1000);
<a name="l00131"></a>00131 }
</pre></div></p>

</div>
</div>
<hr/><h2>Variable Documentation</h2>
<a class="anchor" id="ab8807066c6d3cac932af3c18621e04d0"></a><!-- doxytag: member="mhist.c::binary_time" ref="ab8807066c6d3cac932af3c18621e04d0" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="odbhist_8c.html#a050c65e107f0c828f856a231f4b4e788">BOOL</a> <a class="el" href="mhist_8c.html#ab8807066c6d3cac932af3c18621e04d0">binary_time</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mhist_8c_source.html#l00101">101</a> of file <a class="el" href="mhist_8c_source.html">mhist.c</a>.</p>

<p>Referenced by <a class="el" href="mhist_8c_source.html#l00341">display_range_hist()</a>, <a class="el" href="mhist_8c_source.html#l00296">display_single_hist()</a>, and <a class="el" href="mhist_8c_source.html#l00455">main()</a>.</p>

</div>
</div>
<a class="anchor" id="a3bfdcf880b0179e2eff0d53bf3573260"></a><!-- doxytag: member="mhist.c::hist" ref="a3bfdcf880b0179e2eff0d53bf3573260" args="[200]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float <a class="el" href="mhist_8c.html#a3bfdcf880b0179e2eff0d53bf3573260">hist</a>[200]</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mhist_8c_source.html#l00099">99</a> of file <a class="el" href="mhist_8c_source.html">mhist.c</a>.</p>

<p>Referenced by <a class="el" href="mhist_8c_source.html#l00133">generate_hist()</a>, <a class="el" href="TOnlineFrame_8cpp_source.html#l00557">TOnlineFrame::GetHist()</a>, <a class="el" href="mainWindow_8cpp_source.html#l00051">main()</a>, <a class="el" href="ExportPulse_8cpp_source.html#l00153">ExportPulse::MakePlot()</a>, and <a class="el" href="mhist_8c_source.html#l00103">write_hist_speed()</a>.</p>

</div>
</div>
<a class="anchor" id="a041ccd56f8f77adcd83b1e7cc0163cc8"></a><!-- doxytag: member="mhist.c::hv" ref="a041ccd56f8f77adcd83b1e7cc0163cc8" args="[100]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float <a class="el" href="mhist_8c.html#a041ccd56f8f77adcd83b1e7cc0163cc8">hv</a>[100]</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mhist_8c_source.html#l00100">100</a> of file <a class="el" href="mhist_8c_source.html">mhist.c</a>.</p>

<p>Referenced by <a class="el" href="mhist_8c_source.html#l00133">generate_hist()</a>, <a class="el" href="hvr__200_8c_source.html#l00572">read_hv()</a>, and <a class="el" href="mhist_8c_source.html#l00103">write_hist_speed()</a>.</p>

</div>
</div>
<a class="anchor" id="a920ce11439caff71f59faeb017b84bb9"></a><!-- doxytag: member="mhist.c::hv_tag" ref="a920ce11439caff71f59faeb017b84bb9" args="[]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structTAG.html">TAG</a> <a class="el" href="mhist_8c.html#a920ce11439caff71f59faeb017b84bb9">hv_tag</a>[]</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Initial value:</b><div class="fragment"><pre class="fragment"> {
   {<span class="stringliteral">&quot;HV&quot;</span>, <a class="code" href="group__mdefineh.html#gae932ec1b283f6c4b9c30a6d489beea7f">TID_FLOAT</a>, 100},
}
</pre></div>
<p>Definition at line <a class="el" href="mhist_8c_source.html#l00095">95</a> of file <a class="el" href="mhist_8c_source.html">mhist.c</a>.</p>

</div>
</div>
<a class="anchor" id="a27ce05f73a16e6abc070da1007833b9b"></a><!-- doxytag: member="mhist.c::tag" ref="a27ce05f73a16e6abc070da1007833b9b" args="[10]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structTAG.html">TAG</a> <a class="el" href="mhist_8c.html#a27ce05f73a16e6abc070da1007833b9b">tag</a>[10]</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mhist_8c_source.html#l00102">102</a> of file <a class="el" href="mhist_8c_source.html">mhist.c</a>.</p>

<p>Referenced by <a class="el" href="midas_8c_source.html#l16225">al_trigger_class()</a>, <a class="el" href="midas_8c_source.html#l15790">el_search_run()</a>, <a class="el" href="midas_8c_source.html#l14695">hs_dump()</a>, <a class="el" href="midas_8c_source.html#l14134">hs_enum_vars()</a>, <a class="el" href="midas_8c_source.html#l14241">hs_get_var()</a>, <a class="el" href="midas_8c_source.html#l14339">hs_read()</a>, <a class="el" href="midas_8c_source.html#l13688">hs_write_event()</a>, <a class="el" href="mana_8cpp_source.html#l04425">ma_read_event()</a>, <a class="el" href="fal_8c_source.html#l01573">open_history()</a>, <a class="el" href="mserver_8c_source.html#l00534">rpc_server_dispatch()</a>, <a class="el" href="mhttpd_8c_source.html#l03003">show_elog_submit_query()</a>, and <a class="el" href="mhttpd_8c_source.html#l03805">submit_elog()</a>.</p>

</div>
</div>
<a class="anchor" id="a84d2b41bcb58b6f39025dd0e42bda850"></a><!-- doxytag: member="mhist.c::temp_tag" ref="a84d2b41bcb58b6f39025dd0e42bda850" args="[]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structTAG.html">TAG</a> <a class="el" href="mhist_8c.html#a84d2b41bcb58b6f39025dd0e42bda850">temp_tag</a>[]</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Initial value:</b><div class="fragment"><pre class="fragment"> {
   {<span class="stringliteral">&quot;Temperatures&quot;</span>, <a class="code" href="group__mdefineh.html#gae932ec1b283f6c4b9c30a6d489beea7f">TID_FLOAT</a>, 100},
   {<span class="stringliteral">&quot;Humidity&quot;</span>, <a class="code" href="group__mdefineh.html#gae932ec1b283f6c4b9c30a6d489beea7f">TID_FLOAT</a>, 99},
   {<span class="stringliteral">&quot;Pressure1&quot;</span>, <a class="code" href="group__mdefineh.html#gae932ec1b283f6c4b9c30a6d489beea7f">TID_FLOAT</a>, 1},
}
</pre></div>
<p>Definition at line <a class="el" href="mhist_8c_source.html#l00089">89</a> of file <a class="el" href="mhist_8c_source.html">mhist.c</a>.</p>

</div>
</div>
</div>
<hr size="1"/><address style="text-align: right;"><small>Generated on 6 Jun 2014 for AlcapDAQ by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
