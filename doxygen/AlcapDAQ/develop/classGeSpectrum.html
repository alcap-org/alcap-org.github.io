<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>AlcapDAQ: GeSpectrum Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="classes.html"><span>Class&nbsp;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>GeSpectrum Class Reference<br/>
<small>
[<a class="el" href="group__rootana__modules.html">Modules</a>]</small>
</h1><!-- doxytag: class="GeSpectrum" --><!-- doxytag: inherits="BaseModule" -->
<p>This produces the height spectrum of the germanium based on timing cuts.  
<a href="#_details">More...</a></p>

<p><code>#include &lt;<a class="el" href="GeSpectrum_8h_source.html">GeSpectrum.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for GeSpectrum:</div>
<div class="dynsection">
 <div class="center">
  <img src="classGeSpectrum.gif" usemap="#GeSpectrum_map" alt=""/>
  <map id="GeSpectrum_map" name="GeSpectrum_map">
<area href="classBaseModule.html" alt="BaseModule" shape="rect" coords="0,0,82,24"/>
</map>
 </div>
</div>

<p><a href="classGeSpectrum-members.html">List of all members.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGeSpectrum.html#aeb18deb210109f1ec78da88ddb13510b">GeSpectrum</a> (<a class="el" href="classmodules_1_1options.html">modules::options</a> *opts)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Constructor description. If necessary, add a details tag like above.  <a href="#aeb18deb210109f1ec78da88ddb13510b"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGeSpectrum.html#a883231044d2d592d802f4ee7f6de1906">~GeSpectrum</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Is anything done in the destructor?  <a href="#a883231044d2d592d802f4ee7f6de1906"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBaseModule.html#a204587ff6e1d967ab21d0cbbfea3b0fd">ProcessGenericEntry</a> (<a class="el" href="classTGlobalData.html">TGlobalData</a> *<a class="el" href="group__MV1724ProcessRaw.html#ga69cb952a194ddefc6004dd96e70ccd62">gData</a>, const <a class="el" href="classTSetupData.html">TSetupData</a> *<a class="el" href="group__MV1724ProcessRaw.html#gaad8aa5d5fe566b2f8f6ca3000b09f0e9">gSetup</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBaseModule.html#ac24b7d3d359985742164399bb19bad76">Preprocess</a> (<a class="el" href="classTGlobalData.html">TGlobalData</a> *<a class="el" href="group__MV1724ProcessRaw.html#ga69cb952a194ddefc6004dd96e70ccd62">gData</a>, const <a class="el" href="classTSetupData.html">TSetupData</a> *<a class="el" href="group__MV1724ProcessRaw.html#gaad8aa5d5fe566b2f8f6ca3000b09f0e9">gSetup</a>)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Method called by the main pre-process loop.  <a href="#ac24b7d3d359985742164399bb19bad76"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBaseModule.html#a5f8dd6ba24c3cc68385eb540c17ae5de">Postprocess</a> (<a class="el" href="classTGlobalData.html">TGlobalData</a> *<a class="el" href="group__MV1724ProcessRaw.html#ga69cb952a194ddefc6004dd96e70ccd62">gData</a>, const <a class="el" href="classTSetupData.html">TSetupData</a> *<a class="el" href="group__MV1724ProcessRaw.html#gaad8aa5d5fe566b2f8f6ca3000b09f0e9">gSetup</a>)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Method called by the main pre-process loop.  <a href="#a5f8dd6ba24c3cc68385eb540c17ae5de"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBaseModule.html#aab50673c8ec954675da2664677abfab1">SetAlias</a> (const std::string &amp;alias)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">std::string&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBaseModule.html#ac3e4f013f5465813c9cfa2179788cbf3">GetAlias</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBaseModule.html#af30c91fa2a3388325dd20b322de517ca">GetName</a> () const </td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get the name of this module as given to the constructor of the base class.  <a href="#af30c91fa2a3388325dd20b322de517ca"></a><br/></td></tr>
<tr><td colspan="2"><h2>Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBaseModule.html#ac6227c641b46487b3deb287fd3ea2408">Debug</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">TDirectory *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBaseModule.html#ae753140da9952cb8caea03082294ce5b">GetDirectory</a> () const </td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get the TDirectory for this module.  <a href="#ae753140da9952cb8caea03082294ce5b"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">TDirectory *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBaseModule.html#a42cecf27b0fc6c68efa06630358ce66b">GetDirectory</a> (const std::string &amp;name=&quot;&quot;)</td></tr>
<tr><td colspan="2"><h2>Protected Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">TDirectory *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBaseModule.html#aa00f24e65a18c1d08149965da0fa1a22">dir</a></td></tr>
<tr><td colspan="2"><h2>Private Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGeSpectrum.html#ad87af239d31922dd2893938e6f0def84">ProcessEntry</a> (<a class="el" href="classTGlobalData.html">TGlobalData</a> *<a class="el" href="group__MV1724ProcessRaw.html#ga69cb952a194ddefc6004dd96e70ccd62">gData</a>, const <a class="el" href="classTSetupData.html">TSetupData</a> *<a class="el" href="group__MV1724ProcessRaw.html#gaad8aa5d5fe566b2f8f6ca3000b09f0e9">gSetup</a>)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Histograms the heights in the germanium with time cuts relative to muSc.  <a href="#ad87af239d31922dd2893938e6f0def84"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGeSpectrum.html#a0861f1460dbfa1a1440be28ed6eae1e6">BeforeFirstEntry</a> (<a class="el" href="classTGlobalData.html">TGlobalData</a> *<a class="el" href="group__MV1724ProcessRaw.html#ga69cb952a194ddefc6004dd96e70ccd62">gData</a>, const <a class="el" href="classTSetupData.html">TSetupData</a> *setup)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Does nothing.  <a href="#a0861f1460dbfa1a1440be28ed6eae1e6"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGeSpectrum.html#ab12e02969f25752837d59de9c71715b9">AfterLastEntry</a> (<a class="el" href="classTGlobalData.html">TGlobalData</a> *<a class="el" href="group__MV1724ProcessRaw.html#ga69cb952a194ddefc6004dd96e70ccd62">gData</a>, const <a class="el" href="classTSetupData.html">TSetupData</a> *setup)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Does nothing.  <a href="#ab12e02969f25752837d59de9c71715b9"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">std::vector&lt; double &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGeSpectrum.html#a98a991bc12830b4c3d742b7bbf4acec7">CalculateTimes</a> (const <a class="el" href="classIDs_1_1channel.html">IDs::channel</a> &amp;chan, const std::vector&lt; <a class="el" href="classTPulseIsland.html">TPulseIsland</a> * &gt; &amp;tpis)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Takes a vector of TPIs and calculates all of their times.  <a href="#a98a991bc12830b4c3d742b7bbf4acec7"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">std::vector&lt; double &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGeSpectrum.html#a5a61409a5727933a243304194bf13bf4">CalculateEnergies</a> (const <a class="el" href="classIDs_1_1channel.html">IDs::channel</a> &amp;chan, const std::vector&lt; <a class="el" href="classTPulseIsland.html">TPulseIsland</a> * &gt; &amp;tpis)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Takes a vector of TPIs and calculates all of their energies.  <a href="#a5a61409a5727933a243304194bf13bf4"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGeSpectrum.html#a4db76bf1276a4edf9699b03d5c0e022b">ThrowIfInputsInsane</a> (const <a class="el" href="classmodules_1_1options.html">modules::options</a> *)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGeSpectrum.html#aae5056133494cfe36ee999b690b3a671">ThrowIfGeInsane</a> (const std::vector&lt; <a class="el" href="classTPulseIsland.html">TPulseIsland</a> * &gt; &amp;ge_fasts, const std::vector&lt; <a class="el" href="classTPulseIsland.html">TPulseIsland</a> * &gt; &amp;ge_slows)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGeSpectrum.html#a3cf43d2c624dee47831807959c1ed6cf">RemovePileupMuScPulses</a> (std::vector&lt; double &gt; &amp;time, std::vector&lt; double &gt; &amp;energy)</td></tr>
<tr><td colspan="2"><h2>Private Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">TH1 *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGeSpectrum.html#aed57fdfa2e7173db437b6549375df00e">fHist_ADC</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">TH1 *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGeSpectrum.html#a176bb031a643cb89cab521a1229edd53">fHist_Energy</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">TH1 *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGeSpectrum.html#aae2bc8d40199e23a94c8f6019bd4d3d9">fHist_Time</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">TH1 *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGeSpectrum.html#add7ac7c7c5f08bc9ef98329c3490f998">fHist_MoreTime</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">TH1 *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGeSpectrum.html#abf527ba6f8443b3fe1d3c65f7984b726">fHist_ADCOOT</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">TH1 *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGeSpectrum.html#a274934dead467330d1d84887d2fe60ac">fHist_EnergyOOT</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">TH1 *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGeSpectrum.html#aec60ed832220bbe5c549fa738d8b31ad">fHist_ADCFarOOT</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">TH1 *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGeSpectrum.html#ab6b338834dd1ab919579ab2a244ababd">fHist_EnergyFarOOT</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">TH1 *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGeSpectrum.html#a3df9cab164d30d29312b6b8f44cc6eec">fHist_TimeOOT</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">TH1 *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGeSpectrum.html#a50662cbae017970783f8afd861422138">fHist_TimeFarOOT</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">TH2 *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGeSpectrum.html#a896af334d004a9b7d087d67f6373b18f">fHist_TimeADC</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">TH2 *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGeSpectrum.html#a4188b7ed89f61d9ec2ba0a5101f53d1f">fHist_TimeEnergy</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">TH1 *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGeSpectrum.html#aa59cdcc592141dff3039ca33284cf068">fHist_MeanTOffset</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const <a class="el" href="structAlgorithm_1_1MaxBinAmplitude.html">Algorithm::MaxBinAmplitude</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGeSpectrum.html#a3f5f07a245afffd501d5821e15d76666">fMBAmpGe</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const <a class="el" href="structAlgorithm_1_1MaxBinAmplitude.html">Algorithm::MaxBinAmplitude</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGeSpectrum.html#ab7effcd5716068aa1ece1cb8b1de64f8">fMBAmpMuSc</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const <br class="typebreak"/>
<a class="el" href="structAlgorithm_1_1ConstantFractionTime.html">Algorithm::ConstantFractionTime</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGeSpectrum.html#a4362be95ec4582f9f69cf6b261769974">fCFTimeGe</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const <br class="typebreak"/>
<a class="el" href="structAlgorithm_1_1ConstantFractionTime.html">Algorithm::ConstantFractionTime</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGeSpectrum.html#a4b6dc6deaadd026e4bd4937ff881ca89">fCFTimeMuSc</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">TF1 *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGeSpectrum.html#a95dd43711bbf2f8ec9cc1fd661850d93">fADC2Energy</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const double&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGeSpectrum.html#a484672deaf86bcbe4504fae85907caa3">fTimeWindow_Small</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const double&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGeSpectrum.html#a4526541637db3df7785907908744cc1d">fTimeWindow_Big</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const double&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGeSpectrum.html#af3aebcc10a38efd4f29df4379f005ed0">fPileupProtectionWindow</a></td></tr>
<tr><td colspan="2"><h2>Static Private Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static const <a class="el" href="classIDs_1_1channel.html">IDs::channel</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGeSpectrum.html#a3c48f1bac41b26b68d97e670266c16cf">fGeS</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static const <a class="el" href="classIDs_1_1channel.html">IDs::channel</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGeSpectrum.html#a2772efa9c299afd6004d4c61ebc28dc9">fGeF</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static const <a class="el" href="classIDs_1_1channel.html">IDs::channel</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGeSpectrum.html#a00d1d9e24e32a951248dfc84025a549a">fMuSc</a></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>This produces the height spectrum of the germanium based on timing cuts. </p>
<dl class="author"><dt><b>Author:</b></dt><dd>John R Quirk</dd></dl>
<p>We look near muon entrances for the xrays and several microseconds away for longer lived nuclear decays. We also look at medium time distances for captures. These refer to the "Energy", "EnergyFarOOT" and "EnergyOOT" histograms respectively. Also plots time vs energy in tight window in TimeEnergy histogram, and looks for timing correlations with muSc in MeanTOffset within a MIDAS event (as each event might have a slightly different offset due to clock reset). </p>

<p>Definition at line <a class="el" href="GeSpectrum_8h_source.html#l00034">34</a> of file <a class="el" href="GeSpectrum_8h_source.html">GeSpectrum.h</a>.</p>
<hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="aeb18deb210109f1ec78da88ddb13510b"></a><!-- doxytag: member="GeSpectrum::GeSpectrum" ref="aeb18deb210109f1ec78da88ddb13510b" args="(modules::options *opts)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">GeSpectrum::GeSpectrum </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classmodules_1_1options.html">modules::options</a> *&nbsp;</td>
          <td class="paramname"> <em>opts</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Constructor description. If necessary, add a details tag like above. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>opts</em>&nbsp;</td><td>Describe the options this module takes. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="GeSpectrum_8cpp_source.html#l00030">30</a> of file <a class="el" href="GeSpectrum_8cpp_source.html">GeSpectrum.cpp</a>.</p>

<p>References <a class="el" href="BaseModule_8h_source.html#l00098">BaseModule::dir</a>, <a class="el" href="GeSpectrum_8h_source.html#l00056">fADC2Energy</a>, <a class="el" href="GeSpectrum_8h_source.html#l00038">fHist_ADC</a>, <a class="el" href="GeSpectrum_8h_source.html#l00044">fHist_ADCFarOOT</a>, <a class="el" href="GeSpectrum_8h_source.html#l00042">fHist_ADCOOT</a>, <a class="el" href="GeSpectrum_8h_source.html#l00039">fHist_Energy</a>, <a class="el" href="GeSpectrum_8h_source.html#l00045">fHist_EnergyFarOOT</a>, <a class="el" href="GeSpectrum_8h_source.html#l00043">fHist_EnergyOOT</a>, <a class="el" href="GeSpectrum_8h_source.html#l00050">fHist_MeanTOffset</a>, <a class="el" href="GeSpectrum_8h_source.html#l00041">fHist_MoreTime</a>, <a class="el" href="GeSpectrum_8h_source.html#l00040">fHist_Time</a>, <a class="el" href="GeSpectrum_8h_source.html#l00048">fHist_TimeADC</a>, <a class="el" href="GeSpectrum_8h_source.html#l00049">fHist_TimeEnergy</a>, <a class="el" href="GeSpectrum_8h_source.html#l00047">fHist_TimeFarOOT</a>, <a class="el" href="GeSpectrum_8h_source.html#l00046">fHist_TimeOOT</a>, <a class="el" href="GeSpectrum_8h_source.html#l00059">fTimeWindow_Big</a>, <a class="el" href="GeSpectrum_8h_source.html#l00058">fTimeWindow_Small</a>, <a class="el" href="SetupNavigator_8cpp_source.html#l00259">SetupNavigator::GetEnergyCalibrationConstants()</a>, <a class="el" href="SetupNavigator_8h_source.html#l00105">SetupNavigator::Instance()</a>, and <a class="el" href="GeSpectrum_8cpp_source.html#l00266">ThrowIfInputsInsane()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00030"></a>00030                                            :
<a name="l00031"></a>00031   <a class="code" href="classBaseModule.html#a828d4e27c72536894e03b3cf330ba8c6" title="Constructor of a module class. Provides several virtual methods that should be overloaded...">BaseModule</a>(<span class="stringliteral">&quot;GeSpectrum&quot;</span>,opts),
<a name="l00032"></a>00032   <a class="code" href="classGeSpectrum.html#a176bb031a643cb89cab521a1229edd53">fHist_Energy</a>(NULL), <a class="code" href="classGeSpectrum.html#aae2bc8d40199e23a94c8f6019bd4d3d9">fHist_Time</a>(NULL), <a class="code" href="classGeSpectrum.html#add7ac7c7c5f08bc9ef98329c3490f998">fHist_MoreTime</a>(NULL),
<a name="l00033"></a>00033   <a class="code" href="classGeSpectrum.html#a274934dead467330d1d84887d2fe60ac">fHist_EnergyOOT</a>(NULL), <a class="code" href="classGeSpectrum.html#ab6b338834dd1ab919579ab2a244ababd">fHist_EnergyFarOOT</a>(NULL), <a class="code" href="classGeSpectrum.html#a4188b7ed89f61d9ec2ba0a5101f53d1f">fHist_TimeEnergy</a>(NULL), <a class="code" href="classGeSpectrum.html#aa59cdcc592141dff3039ca33284cf068">fHist_MeanTOffset</a>(NULL),
<a name="l00034"></a>00034   <a class="code" href="classGeSpectrum.html#a3f5f07a245afffd501d5821e15d76666">fMBAmpGe</a>(<a class="code" href="classSetupNavigator.html#acc09765c4d2ca0e1205977075bd7eb49">SetupNavigator::Instance</a>()-&gt;GetPedestal(<a class="code" href="classGeSpectrum.html#a3c48f1bac41b26b68d97e670266c16cf">fGeS</a>), <a class="code" href="group__alcapana__main.html#ga96d8c48f8693f69adda6aac005d17589" title="(Quasi-)Singleton interface">TSetupData::Instance</a>()-&gt;GetTriggerPolarity(<a class="code" href="group__alcapana__main.html#ga96d8c48f8693f69adda6aac005d17589" title="(Quasi-)Singleton interface">TSetupData::Instance</a>()-&gt;GetBankName(<a class="code" href="classGeSpectrum.html#a3c48f1bac41b26b68d97e670266c16cf">fGeS</a>.<a class="code" href="classIDs_1_1channel.html#a8f2b9b6975b1a6e0f23830ba85f04ae9" title="Returns the channel as a string.">str</a>()))),
<a name="l00035"></a>00035   <a class="code" href="classGeSpectrum.html#ab7effcd5716068aa1ece1cb8b1de64f8">fMBAmpMuSc</a>(<a class="code" href="classSetupNavigator.html#acc09765c4d2ca0e1205977075bd7eb49">SetupNavigator::Instance</a>()-&gt;<a class="code" href="classSetupNavigator.html#a3e6c67867e2620a812177e4633feeb44" title="Gets the pedestal from the SQLite database.">GetPedestal</a>(<a class="code" href="classGeSpectrum.html#a00d1d9e24e32a951248dfc84025a549a">fMuSc</a>), <a class="code" href="group__alcapana__main.html#ga96d8c48f8693f69adda6aac005d17589" title="(Quasi-)Singleton interface">TSetupData::Instance</a>()-&gt;<a class="code" href="classTSetupData.html#a282bc8db865c9f95cd7b39a9ebe34c45" title="Pulse polarity.">GetTriggerPolarity</a>(<a class="code" href="group__alcapana__main.html#ga96d8c48f8693f69adda6aac005d17589" title="(Quasi-)Singleton interface">TSetupData::Instance</a>()-&gt;GetBankName(<a class="code" href="classGeSpectrum.html#a00d1d9e24e32a951248dfc84025a549a">fMuSc</a>.<a class="code" href="classIDs_1_1channel.html#a8f2b9b6975b1a6e0f23830ba85f04ae9" title="Returns the channel as a string.">str</a>()))),
<a name="l00036"></a>00036   <a class="code" href="classGeSpectrum.html#a4362be95ec4582f9f69cf6b261769974">fCFTimeGe</a>(<a class="code" href="classSetupNavigator.html#acc09765c4d2ca0e1205977075bd7eb49">SetupNavigator::Instance</a>()-&gt;<a class="code" href="classSetupNavigator.html#a3e6c67867e2620a812177e4633feeb44" title="Gets the pedestal from the SQLite database.">GetPedestal</a>(<a class="code" href="classGeSpectrum.html#a2772efa9c299afd6004d4c61ebc28dc9">fGeF</a>),
<a name="l00037"></a>00037             <a class="code" href="group__alcapana__main.html#ga96d8c48f8693f69adda6aac005d17589" title="(Quasi-)Singleton interface">TSetupData::Instance</a>()-&gt;<a class="code" href="classTSetupData.html#a282bc8db865c9f95cd7b39a9ebe34c45" title="Pulse polarity.">GetTriggerPolarity</a>(<a class="code" href="group__alcapana__main.html#ga96d8c48f8693f69adda6aac005d17589" title="(Quasi-)Singleton interface">TSetupData::Instance</a>()-&gt;GetBankName(<a class="code" href="classGeSpectrum.html#a2772efa9c299afd6004d4c61ebc28dc9">fGeF</a>.<a class="code" href="classIDs_1_1channel.html#a8f2b9b6975b1a6e0f23830ba85f04ae9" title="Returns the channel as a string.">str</a>())),
<a name="l00038"></a>00038             <a class="code" href="group__alcapana__main.html#ga96d8c48f8693f69adda6aac005d17589" title="(Quasi-)Singleton interface">TSetupData::Instance</a>()-&gt;<a class="code" href="classTSetupData.html#a1cee3192841101548524aae1cdd73069">GetClockTick</a>(<a class="code" href="group__alcapana__main.html#ga96d8c48f8693f69adda6aac005d17589" title="(Quasi-)Singleton interface">TSetupData::Instance</a>()-&gt;GetBankName(<a class="code" href="classGeSpectrum.html#a2772efa9c299afd6004d4c61ebc28dc9">fGeF</a>.<a class="code" href="classIDs_1_1channel.html#a8f2b9b6975b1a6e0f23830ba85f04ae9" title="Returns the channel as a string.">str</a>())),
<a name="l00039"></a>00039             <a class="code" href="classSetupNavigator.html#acc09765c4d2ca0e1205977075bd7eb49">SetupNavigator::Instance</a>()-&gt;<a class="code" href="classSetupNavigator.html#a616a056b6dd4cc3a26172f784b76cd4b">GetCoarseTimeOffset</a>(<a class="code" href="classIDs_1_1source.html" title="Class to define the identity of a source. A source, conceptually speaking, is the...">IDs::source</a>(<a class="code" href="classGeSpectrum.html#a2772efa9c299afd6004d4c61ebc28dc9">fGeF</a>, <a class="code" href="classIDs_1_1generator.html" title="Streamable identifier for an instance of a generator.">IDs::generator</a>(opts-&gt;<a class="code" href="classmodules_1_1options.html#a5abd8fca2bf95e3d0d753d49089c08aa" title="Get the named option as a string.">GetString</a>(<span class="stringliteral">&quot;gef_gen&quot;</span>), opts-&gt;<a class="code" href="classmodules_1_1options.html#a5abd8fca2bf95e3d0d753d49089c08aa" title="Get the named option as a string.">GetString</a>(<span class="stringliteral">&quot;gef_cfg&quot;</span>)))),
<a name="l00040"></a>00040             opts-&gt;<a class="code" href="classmodules_1_1options.html#ae5dc83034f14668946edafd54a7d3131" title="Get the named option as a double.">GetDouble</a>(<span class="stringliteral">&quot;gef_cf&quot;</span>)),
<a name="l00041"></a>00041   <a class="code" href="classGeSpectrum.html#a4b6dc6deaadd026e4bd4937ff881ca89">fCFTimeMuSc</a>(<a class="code" href="classSetupNavigator.html#acc09765c4d2ca0e1205977075bd7eb49">SetupNavigator::Instance</a>()-&gt;<a class="code" href="classSetupNavigator.html#a3e6c67867e2620a812177e4633feeb44" title="Gets the pedestal from the SQLite database.">GetPedestal</a>(<a class="code" href="classGeSpectrum.html#a00d1d9e24e32a951248dfc84025a549a">fMuSc</a>),
<a name="l00042"></a>00042               <a class="code" href="group__alcapana__main.html#ga96d8c48f8693f69adda6aac005d17589" title="(Quasi-)Singleton interface">TSetupData::Instance</a>()-&gt;<a class="code" href="classTSetupData.html#a282bc8db865c9f95cd7b39a9ebe34c45" title="Pulse polarity.">GetTriggerPolarity</a>(<a class="code" href="group__alcapana__main.html#ga96d8c48f8693f69adda6aac005d17589" title="(Quasi-)Singleton interface">TSetupData::Instance</a>()-&gt;GetBankName(<a class="code" href="classGeSpectrum.html#a00d1d9e24e32a951248dfc84025a549a">fMuSc</a>.<a class="code" href="classIDs_1_1channel.html#a8f2b9b6975b1a6e0f23830ba85f04ae9" title="Returns the channel as a string.">str</a>())),
<a name="l00043"></a>00043               <a class="code" href="group__alcapana__main.html#ga96d8c48f8693f69adda6aac005d17589" title="(Quasi-)Singleton interface">TSetupData::Instance</a>()-&gt;<a class="code" href="classTSetupData.html#a1cee3192841101548524aae1cdd73069">GetClockTick</a>(<a class="code" href="group__alcapana__main.html#ga96d8c48f8693f69adda6aac005d17589" title="(Quasi-)Singleton interface">TSetupData::Instance</a>()-&gt;GetBankName(<a class="code" href="classGeSpectrum.html#a00d1d9e24e32a951248dfc84025a549a">fMuSc</a>.<a class="code" href="classIDs_1_1channel.html#a8f2b9b6975b1a6e0f23830ba85f04ae9" title="Returns the channel as a string.">str</a>())),
<a name="l00044"></a>00044               0.,
<a name="l00045"></a>00045               opts-&gt;<a class="code" href="classmodules_1_1options.html#ae5dc83034f14668946edafd54a7d3131" title="Get the named option as a double.">GetDouble</a>(<span class="stringliteral">&quot;musc_cf&quot;</span>)),
<a name="l00046"></a>00046   <a class="code" href="classGeSpectrum.html#a95dd43711bbf2f8ec9cc1fd661850d93">fADC2Energy</a>(<span class="keyword">new</span> TF1(<span class="stringliteral">&quot;adc2energy&quot;</span>,<span class="stringliteral">&quot;[0]*x+[1]&quot;</span>)),
<a name="l00047"></a>00047   <a class="code" href="classGeSpectrum.html#a484672deaf86bcbe4504fae85907caa3">fTimeWindow_Small</a>(1000.), <a class="code" href="classGeSpectrum.html#a4526541637db3df7785907908744cc1d">fTimeWindow_Big</a>(5000.), <a class="code" href="classGeSpectrum.html#af3aebcc10a38efd4f29df4379f005ed0">fPileupProtectionWindow</a>(15000.) {
<a name="l00048"></a>00048   <span class="keyword">const</span> <span class="keyword">static</span> <span class="keywordtype">int</span> nbins = std::pow(2.,14);
<a name="l00049"></a>00049   <span class="keyword">const</span> std::pair&lt;double,double&gt; adc2energy_par = <a class="code" href="classSetupNavigator.html#acc09765c4d2ca0e1205977075bd7eb49">SetupNavigator::Instance</a>()-&gt;<a class="code" href="classSetupNavigator.html#ad6928600fac820b6fbd2eafaa07bc5b6" title="Gets the energy calibration constants.">GetEnergyCalibrationConstants</a>(<a class="code" href="classIDs_1_1channel.html">IDs::channel</a>(<span class="stringliteral">&quot;Ge-S&quot;</span>));
<a name="l00050"></a>00050   <a class="code" href="classGeSpectrum.html#a95dd43711bbf2f8ec9cc1fd661850d93">fADC2Energy</a>-&gt;SetParameters(adc2energy_par.first, adc2energy_par.second);
<a name="l00051"></a>00051   TDirectory* cwd = TDirectory::CurrentDirectory();
<a name="l00052"></a>00052   <a class="code" href="classBaseModule.html#aa00f24e65a18c1d08149965da0fa1a22">dir</a>-&gt;cd();
<a name="l00053"></a>00053   <a class="code" href="classGeSpectrum.html#aed57fdfa2e7173db437b6549375df00e">fHist_ADC</a>          = <span class="keyword">new</span> TH1D(<span class="stringliteral">&quot;hADC&quot;</span>, <span class="stringliteral">&quot;Energy of Gammas;Energy (ADC);Counts&quot;</span>, nbins, 0., nbins);
<a name="l00054"></a>00054 
<a name="l00055"></a>00055   <span class="keywordtype">double</span> energy_bin_width = 0.1; <span class="comment">// keV</span>
<a name="l00056"></a>00056   <span class="keywordtype">double</span> min_energy = 0;
<a name="l00057"></a>00057   <span class="keywordtype">double</span> max_energy = 2000;
<a name="l00058"></a>00058   <span class="keywordtype">int</span> n_energy_bins = (max_energy - min_energy) / energy_bin_width;
<a name="l00059"></a>00059   <a class="code" href="classGeSpectrum.html#a176bb031a643cb89cab521a1229edd53">fHist_Energy</a>       = <span class="keyword">new</span> TH1D(<span class="stringliteral">&quot;hEnergy&quot;</span>, <span class="stringliteral">&quot;Energy of Gammas;Energy (keV);Counts&quot;</span>, n_energy_bins, min_energy, max_energy);
<a name="l00060"></a>00060   <a class="code" href="classGeSpectrum.html#aae2bc8d40199e23a94c8f6019bd4d3d9">fHist_Time</a>         = <span class="keyword">new</span> TH1D(<span class="stringliteral">&quot;hTime&quot;</span>, <span class="stringliteral">&quot;Time of Gammas within Energy Window&quot;</span>, 1000, -10000., 10000.);
<a name="l00061"></a>00061   <a class="code" href="classGeSpectrum.html#add7ac7c7c5f08bc9ef98329c3490f998">fHist_MoreTime</a>     = <span class="keyword">new</span> TH1D(<span class="stringliteral">&quot;hMoreTime&quot;</span>, <span class="stringliteral">&quot;Time of Gammas within Energy Window (Wide)&quot;</span>, 1000, -100000., 100000.);
<a name="l00062"></a>00062   <a class="code" href="classGeSpectrum.html#abf527ba6f8443b3fe1d3c65f7984b726">fHist_ADCOOT</a>       = <span class="keyword">new</span> TH1D(<span class="stringliteral">&quot;hADCOOT&quot;</span>, <span class="stringliteral">&quot;Energy of Gammas outside of Time Window;Energy (ADC);Counts&quot;</span>, nbins, 0., nbins);
<a name="l00063"></a>00063   <a class="code" href="classGeSpectrum.html#a274934dead467330d1d84887d2fe60ac">fHist_EnergyOOT</a>    = <span class="keyword">new</span> TH1D(<span class="stringliteral">&quot;hEnergyOOT&quot;</span>, <span class="stringliteral">&quot;Energy of Gammas outside of Time Window;Energy (keV);Counts&quot;</span>, n_energy_bins, min_energy, max_energy);
<a name="l00064"></a>00064   <a class="code" href="classGeSpectrum.html#aec60ed832220bbe5c549fa738d8b31ad">fHist_ADCFarOOT</a>    = <span class="keyword">new</span> TH1D(<span class="stringliteral">&quot;hADCFarOOT&quot;</span>, <span class="stringliteral">&quot;Energy of Gammas far from Muons;Energy (ADC);Counts&quot;</span>, nbins, 0., nbins);
<a name="l00065"></a>00065   <a class="code" href="classGeSpectrum.html#ab6b338834dd1ab919579ab2a244ababd">fHist_EnergyFarOOT</a> = <span class="keyword">new</span> TH1D(<span class="stringliteral">&quot;hEnergyFarOOT&quot;</span>, <span class="stringliteral">&quot;Energy of Gammas far from Muons;Energy (keV);Counts&quot;</span>, n_energy_bins, min_energy, max_energy);
<a name="l00066"></a>00066   <a class="code" href="classGeSpectrum.html#a3df9cab164d30d29312b6b8f44cc6eec">fHist_TimeOOT</a>      = <span class="keyword">new</span> TH1D(<span class="stringliteral">&quot;hTimeOOT&quot;</span>, <span class="stringliteral">&quot;Time of Gammas outside of Time Window&quot;</span>, 1000., -2.*<a class="code" href="classGeSpectrum.html#a484672deaf86bcbe4504fae85907caa3">fTimeWindow_Small</a>, 2.*<a class="code" href="classGeSpectrum.html#a484672deaf86bcbe4504fae85907caa3">fTimeWindow_Small</a>);
<a name="l00067"></a>00067   <a class="code" href="classGeSpectrum.html#a50662cbae017970783f8afd861422138">fHist_TimeFarOOT</a>   = <span class="keyword">new</span> TH1D(<span class="stringliteral">&quot;hTimeFarOOT&quot;</span>, <span class="stringliteral">&quot;Time of Gammas far from Muons&quot;</span>, 1000., -100.*<a class="code" href="classGeSpectrum.html#a4526541637db3df7785907908744cc1d">fTimeWindow_Big</a>, 100.*<a class="code" href="classGeSpectrum.html#a4526541637db3df7785907908744cc1d">fTimeWindow_Big</a>);
<a name="l00068"></a>00068   <a class="code" href="classGeSpectrum.html#a896af334d004a9b7d087d67f6373b18f">fHist_TimeADC</a>      = <span class="keyword">new</span> TH2D(<span class="stringliteral">&quot;hTimeADC&quot;</span>, <span class="stringliteral">&quot;Energy of Gammas within Time Window;Energy (ADC);Time (ns);Counts&quot;</span>, 100, -<a class="code" href="classGeSpectrum.html#a484672deaf86bcbe4504fae85907caa3">fTimeWindow_Small</a>, <a class="code" href="classGeSpectrum.html#a484672deaf86bcbe4504fae85907caa3">fTimeWindow_Small</a>, nbins, 0., nbins);
<a name="l00069"></a>00069   <a class="code" href="classGeSpectrum.html#a4188b7ed89f61d9ec2ba0a5101f53d1f">fHist_TimeEnergy</a>   = <span class="keyword">new</span> TH2D(<span class="stringliteral">&quot;hTimeEnergy&quot;</span>, <span class="stringliteral">&quot;Energy of Gammas within Time Window;Energy (keV);Time (ns);Counts&quot;</span>, 100, -<a class="code" href="classGeSpectrum.html#a484672deaf86bcbe4504fae85907caa3">fTimeWindow_Small</a>, <a class="code" href="classGeSpectrum.html#a484672deaf86bcbe4504fae85907caa3">fTimeWindow_Small</a>, n_energy_bins, min_energy, max_energy);
<a name="l00070"></a>00070   <a class="code" href="classGeSpectrum.html#aa59cdcc592141dff3039ca33284cf068">fHist_MeanTOffset</a>  = <span class="keyword">new</span> TH1D(<span class="stringliteral">&quot;hMeanTOffset&quot;</span>, <span class="stringliteral">&quot;Mean offset from nearest muon taken over MIDAS event&quot;</span>, 4000, -4.*<a class="code" href="classGeSpectrum.html#a4526541637db3df7785907908744cc1d">fTimeWindow_Big</a>, 4.*<a class="code" href="classGeSpectrum.html#a4526541637db3df7785907908744cc1d">fTimeWindow_Big</a>);
<a name="l00071"></a>00071   cwd-&gt;cd();
<a name="l00072"></a>00072   <a class="code" href="classGeSpectrum.html#a4db76bf1276a4edf9699b03d5c0e022b">ThrowIfInputsInsane</a>(opts);
<a name="l00073"></a>00073 }

</pre></div></p>

</div>
</div>
<a class="anchor" id="a883231044d2d592d802f4ee7f6de1906"></a><!-- doxytag: member="GeSpectrum::~GeSpectrum" ref="a883231044d2d592d802f4ee7f6de1906" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">GeSpectrum::~GeSpectrum </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Is anything done in the destructor? </p>

<p>Definition at line <a class="el" href="GeSpectrum_8cpp_source.html#l00075">75</a> of file <a class="el" href="GeSpectrum_8cpp_source.html">GeSpectrum.cpp</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00075"></a>00075                        {
<a name="l00076"></a>00076 }
</pre></div></p>

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="ab12e02969f25752837d59de9c71715b9"></a><!-- doxytag: member="GeSpectrum::AfterLastEntry" ref="ab12e02969f25752837d59de9c71715b9" args="(TGlobalData *gData, const TSetupData *setup)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int GeSpectrum::AfterLastEntry </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classTGlobalData.html">TGlobalData</a> *&nbsp;</td>
          <td class="paramname"> <em>gData</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classTSetupData.html">TSetupData</a> *&nbsp;</td>
          <td class="paramname"> <em>setup</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [private, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Does nothing. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>gData</em>&nbsp;</td><td>See <a class="el" href="classBaseModule.html#adce5c0d504fe9daf1d4d77b8c0522a7c">BaseModule::AfterLastEntry</a> </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>setup</em>&nbsp;</td><td>See <a class="el" href="classBaseModule.html#adce5c0d504fe9daf1d4d77b8c0522a7c">BaseModule::AfterLastEntry</a> </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Non-zero to indicate a problem. </dd></dl>

<p>Implements <a class="el" href="classBaseModule.html#adce5c0d504fe9daf1d4d77b8c0522a7c">BaseModule</a>.</p>

<p>Definition at line <a class="el" href="GeSpectrum_8cpp_source.html#l00225">225</a> of file <a class="el" href="GeSpectrum_8cpp_source.html">GeSpectrum.cpp</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00225"></a>00225                                                                          {
<a name="l00226"></a>00226   <span class="keywordflow">return</span> 0;
<a name="l00227"></a>00227 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a0861f1460dbfa1a1440be28ed6eae1e6"></a><!-- doxytag: member="GeSpectrum::BeforeFirstEntry" ref="a0861f1460dbfa1a1440be28ed6eae1e6" args="(TGlobalData *gData, const TSetupData *setup)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int GeSpectrum::BeforeFirstEntry </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classTGlobalData.html">TGlobalData</a> *&nbsp;</td>
          <td class="paramname"> <em>gData</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classTSetupData.html">TSetupData</a> *&nbsp;</td>
          <td class="paramname"> <em>setup</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [private, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Does nothing. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>gData</em>&nbsp;</td><td>See <a class="el" href="classBaseModule.html#a2c043d991a87450829025075284f5519">BaseModule::BeforeFirstEntry</a> </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>setup</em>&nbsp;</td><td>See <a class="el" href="classBaseModule.html#a2c043d991a87450829025075284f5519">BaseModule::BeforeFirstEntry</a> </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Non-zero to indicate a problem. </dd></dl>

<p>Implements <a class="el" href="classBaseModule.html#a2c043d991a87450829025075284f5519">BaseModule</a>.</p>

<p>Definition at line <a class="el" href="GeSpectrum_8cpp_source.html#l00081">81</a> of file <a class="el" href="GeSpectrum_8cpp_source.html">GeSpectrum.cpp</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00081"></a>00081                                                                            {
<a name="l00082"></a>00082   <span class="keywordflow">return</span> 0;
<a name="l00083"></a>00083 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a5a61409a5727933a243304194bf13bf4"></a><!-- doxytag: member="GeSpectrum::CalculateEnergies" ref="a5a61409a5727933a243304194bf13bf4" args="(const IDs::channel &amp;chan, const std::vector&lt; TPulseIsland * &gt; &amp;tpis)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; double &gt; GeSpectrum::CalculateEnergies </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classIDs_1_1channel.html">IDs::channel</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; <a class="el" href="classTPulseIsland.html">TPulseIsland</a> * &gt; &amp;&nbsp;</td>
          <td class="paramname"> <em>tpis</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Takes a vector of TPIs and calculates all of their energies. </p>

<p>Definition at line <a class="el" href="GeSpectrum_8cpp_source.html#l00244">244</a> of file <a class="el" href="GeSpectrum_8cpp_source.html">GeSpectrum.cpp</a>.</p>

<p>References <a class="el" href="GeSpectrum_8h_source.html#l00063">fGeS</a>, <a class="el" href="GeSpectrum_8h_source.html#l00053">fMBAmpGe</a>, <a class="el" href="GeSpectrum_8h_source.html#l00054">fMBAmpMuSc</a>, and <a class="el" href="GeSpectrum_8h_source.html#l00065">fMuSc</a>.</p>

<p>Referenced by <a class="el" href="GeSpectrum_8cpp_source.html#l00087">ProcessEntry()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00244"></a>00244                                                                                                           {
<a name="l00245"></a>00245   std::vector&lt;double&gt; e;
<a name="l00246"></a>00246   <span class="keywordflow">if</span> (ch == <a class="code" href="classGeSpectrum.html#a3c48f1bac41b26b68d97e670266c16cf">fGeS</a>)
<a name="l00247"></a>00247     <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; tpis.size(); ++i)
<a name="l00248"></a>00248       e.push_back(<a class="code" href="classGeSpectrum.html#a3f5f07a245afffd501d5821e15d76666">fMBAmpGe</a>(tpis[i]));
<a name="l00249"></a>00249   <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ch == <a class="code" href="classGeSpectrum.html#a00d1d9e24e32a951248dfc84025a549a">fMuSc</a>)
<a name="l00250"></a>00250     <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; tpis.size(); ++i)
<a name="l00251"></a>00251       e.push_back(<a class="code" href="classGeSpectrum.html#ab7effcd5716068aa1ece1cb8b1de64f8">fMBAmpMuSc</a>(tpis[i]));
<a name="l00252"></a>00252   <span class="keywordflow">else</span>
<a name="l00253"></a>00253     <span class="keywordflow">throw</span> std::logic_error(<span class="stringliteral">&quot;GeSpectrum: Invalid channel to calculate energies for.&quot;</span>);
<a name="l00254"></a>00254   <span class="keywordflow">return</span> e;
<a name="l00255"></a>00255 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a98a991bc12830b4c3d742b7bbf4acec7"></a><!-- doxytag: member="GeSpectrum::CalculateTimes" ref="a98a991bc12830b4c3d742b7bbf4acec7" args="(const IDs::channel &amp;chan, const std::vector&lt; TPulseIsland * &gt; &amp;tpis)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; double &gt; GeSpectrum::CalculateTimes </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classIDs_1_1channel.html">IDs::channel</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; <a class="el" href="classTPulseIsland.html">TPulseIsland</a> * &gt; &amp;&nbsp;</td>
          <td class="paramname"> <em>tpis</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Takes a vector of TPIs and calculates all of their times. </p>
<p>Since we'll be using the std::upper_bound/stdlower_bound methods, this makes it possible to use the times of the TPIs without writing some hacky compare function (that would use the TAPAlgorithms). </p>

<p>Definition at line <a class="el" href="GeSpectrum_8cpp_source.html#l00230">230</a> of file <a class="el" href="GeSpectrum_8cpp_source.html">GeSpectrum.cpp</a>.</p>

<p>References <a class="el" href="GeSpectrum_8h_source.html#l00055">fCFTimeGe</a>, <a class="el" href="GeSpectrum_8h_source.html#l00055">fCFTimeMuSc</a>, <a class="el" href="GeSpectrum_8h_source.html#l00064">fGeF</a>, and <a class="el" href="GeSpectrum_8h_source.html#l00065">fMuSc</a>.</p>

<p>Referenced by <a class="el" href="GeSpectrum_8cpp_source.html#l00087">ProcessEntry()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00230"></a>00230                                                                                                        {
<a name="l00231"></a>00231   std::vector&lt;double&gt; t;
<a name="l00232"></a>00232   <span class="keywordflow">if</span> (ch == <a class="code" href="classGeSpectrum.html#a00d1d9e24e32a951248dfc84025a549a">fMuSc</a>)
<a name="l00233"></a>00233     <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; tpis.size(); ++i)
<a name="l00234"></a>00234       t.push_back(<a class="code" href="classGeSpectrum.html#a4b6dc6deaadd026e4bd4937ff881ca89">fCFTimeMuSc</a>(tpis[i]));
<a name="l00235"></a>00235   <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ch == <a class="code" href="classGeSpectrum.html#a2772efa9c299afd6004d4c61ebc28dc9">fGeF</a>)
<a name="l00236"></a>00236     <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; tpis.size(); ++i)
<a name="l00237"></a>00237       t.push_back(<a class="code" href="classGeSpectrum.html#a4362be95ec4582f9f69cf6b261769974">fCFTimeGe</a>(tpis[i]));
<a name="l00238"></a>00238   <span class="keywordflow">else</span>
<a name="l00239"></a>00239     <span class="keywordflow">throw</span> std::logic_error(<span class="stringliteral">&quot;GeSpectrum: Invalid channel to calculate times for.&quot;</span>);
<a name="l00240"></a>00240   <span class="keywordflow">return</span> t;
<a name="l00241"></a>00241 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="ac6227c641b46487b3deb287fd3ea2408"></a><!-- doxytag: member="GeSpectrum::Debug" ref="ac6227c641b46487b3deb287fd3ea2408" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool BaseModule::Debug </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline, protected, inherited]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Check whether this module was asked to print extra debug information </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>true if 'debug' was given in the <a class="el" href="namespacemodules.html">modules</a> file, false if not </dd></dl>

<p>Definition at line <a class="el" href="BaseModule_8h_source.html#l00071">71</a> of file <a class="el" href="BaseModule_8h_source.html">BaseModule.h</a>.</p>

<p>References <a class="el" href="BaseModule_8h_source.html#l00089">BaseModule::fDebug</a>.</p>

<p>Referenced by <a class="el" href="MakeAnalysedPulses_8cpp_source.html#l00192">MakeAnalysedPulses::AddGenerator()</a>, <a class="el" href="ExportPulse_8h_source.html#l00149">ExportPulse::AddToExportList()</a>, <a class="el" href="PulseCandidateFinder__InvestigateParameters_8cpp_source.html#l00102">PulseCandidateFinder_InvestigateParameters::AfterLastEntry()</a>, <a class="el" href="PlotTPI__PedestalAndNoise_8cpp_source.html#l00118">PlotTPI_PedestalAndNoise::AfterLastEntry()</a>, <a class="el" href="PlotTDPs_8cpp_source.html#l00241">PlotTDPs::AfterLastEntry()</a>, <a class="el" href="PlotTDP__TDiff_8cpp_source.html#l00100">PlotTDP_TDiff::AfterLastEntry()</a>, <a class="el" href="IslandLength_8cpp_source.html#l00086">IslandLength::AfterLastEntry()</a>, <a class="el" href="IslandAmplitude_8cpp_source.html#l00140">IslandAmplitude::AfterLastEntry()</a>, <a class="el" href="MakeDetectorPulses_8cpp_source.html#l00039">MakeDetectorPulses::BeforeFirstEntry()</a>, <a class="el" href="TemplateCreator_8cpp_source.html#l00081">TemplateCreator::BeforeFirstEntry()</a>, <a class="el" href="PulseCandidateFinder__InvestigateParameters_8cpp_source.html#l00027">PulseCandidateFinder_InvestigateParameters::BeforeFirstEntry()</a>, <a class="el" href="PlotTPI__PedestalAndNoise_8cpp_source.html#l00034">PlotTPI_PedestalAndNoise::BeforeFirstEntry()</a>, <a class="el" href="PlotTDPs_8cpp_source.html#l00041">PlotTDPs::BeforeFirstEntry()</a>, <a class="el" href="PlotTDP__TDiff_8cpp_source.html#l00035">PlotTDP_TDiff::BeforeFirstEntry()</a>, <a class="el" href="IslandLength_8cpp_source.html#l00032">IslandLength::BeforeFirstEntry()</a>, <a class="el" href="IslandAmplitude_8cpp_source.html#l00035">IslandAmplitude::BeforeFirstEntry()</a>, <a class="el" href="PulseViewer_8cpp_source.html#l00253">PulseViewer::ConsiderDrawing()</a>, <a class="el" href="MakeAnalysedPulses_8cpp_source.html#l00021">MakeAnalysedPulses::MakeAnalysedPulses()</a>, <a class="el" href="MakeDetectorPulses_8cpp_source.html#l00190">MakeDetectorPulses::MakeGenerator()</a>, <a class="el" href="ExportPulse_8cpp_source.html#l00224">ExportPulse::PlotTPI()</a>, <a class="el" href="MakeDetectorPulses_8cpp_source.html#l00100">MakeDetectorPulses::ProcessEntry()</a>, <a class="el" href="TemplateCreator_8cpp_source.html#l00109">TemplateCreator::ProcessEntry()</a>, <a class="el" href="PulseCandidateFinder__InvestigateParameters_8cpp_source.html#l00038">PulseCandidateFinder_InvestigateParameters::ProcessEntry()</a>, <a class="el" href="MakeAnalysedPulses_8cpp_source.html#l00105">MakeAnalysedPulses::ProcessEntry()</a>, <a class="el" href="PulseViewer_8cpp_source.html#l00146">PulseViewer::ProcessEntry()</a>, <a class="el" href="PlotTDP__TDiff_8cpp_source.html#l00062">PlotTDP_TDiff::ProcessEntry()</a>, and <a class="el" href="TemplateCreator_8cpp_source.html#l00322">TemplateCreator::StartTemplate()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00071"></a>00071 {<span class="keywordflow">return</span> <a class="code" href="classBaseModule.html#adb0c35fcbccea0bc732476b59c5b64ca">fDebug</a>;};
</pre></div></p>

</div>
</div>
<a class="anchor" id="ac3e4f013f5465813c9cfa2179788cbf3"></a><!-- doxytag: member="GeSpectrum::GetAlias" ref="ac3e4f013f5465813c9cfa2179788cbf3" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string BaseModule::GetAlias </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline, inherited]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Returns a string for the alias of this module. May be empty if no alias was given in the <a class="el" href="namespacemodules.html">modules</a> file. </p>

<p>Definition at line <a class="el" href="BaseModule_8h_source.html#l00063">63</a> of file <a class="el" href="BaseModule_8h_source.html">BaseModule.h</a>.</p>

<p>References <a class="el" href="BaseModule_8h_source.html#l00092">BaseModule::fAlias</a>.</p>

<p>Referenced by <a class="el" href="BaseModule_8cpp_source.html#l00007">BaseModule::BaseModule()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00063"></a>00063 {<span class="keywordflow">return</span> <a class="code" href="classBaseModule.html#ae19cdbdf544a783be4cdd4505ae31fb9">fAlias</a>;};
</pre></div></p>

</div>
</div>
<a class="anchor" id="a42cecf27b0fc6c68efa06630358ce66b"></a><!-- doxytag: member="GeSpectrum::GetDirectory" ref="a42cecf27b0fc6c68efa06630358ce66b" args="(const std::string &amp;name=&quot;&quot;)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TDirectory * BaseModule::GetDirectory </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&nbsp;</td>
          <td class="paramname"> <em>name</em> = <code>&quot;&quot;</code></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected, inherited]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="BaseModule_8cpp_source.html#l00077">77</a> of file <a class="el" href="BaseModule_8cpp_source.html">BaseModule.cpp</a>.</p>

<p>References <a class="el" href="BaseModule_8h_source.html#l00098">BaseModule::dir</a>, and <a class="el" href="BaseModule_8h_source.html#l00091">BaseModule::fDirectory</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00077"></a>00077                                                          {
<a name="l00078"></a>00078   <span class="keywordflow">if</span>(name.empty()) <span class="keywordflow">return</span> <a class="code" href="classBaseModule.html#a836fa9d2af26eb8a0041e0478c8fa9f0">fDirectory</a>;
<a name="l00079"></a>00079   TDirectory* <a class="code" href="classBaseModule.html#aa00f24e65a18c1d08149965da0fa1a22">dir</a>=<a class="code" href="classBaseModule.html#a836fa9d2af26eb8a0041e0478c8fa9f0">fDirectory</a>-&gt;GetDirectory(name.c_str());
<a name="l00080"></a>00080   <span class="keywordflow">if</span>(dir) <span class="keywordflow">return</span> dir;
<a name="l00081"></a>00081   <span class="keywordflow">return</span> <a class="code" href="classBaseModule.html#a836fa9d2af26eb8a0041e0478c8fa9f0">fDirectory</a>-&gt;mkdir(name.c_str());
<a name="l00082"></a>00082 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="ae753140da9952cb8caea03082294ce5b"></a><!-- doxytag: member="GeSpectrum::GetDirectory" ref="ae753140da9952cb8caea03082294ce5b" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TDirectory* BaseModule::GetDirectory </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline, protected, inherited]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Get the TDirectory for this module. </p>

<p>Definition at line <a class="el" href="BaseModule_8h_source.html#l00074">74</a> of file <a class="el" href="BaseModule_8h_source.html">BaseModule.h</a>.</p>

<p>References <a class="el" href="BaseModule_8h_source.html#l00091">BaseModule::fDirectory</a>.</p>

<p>Referenced by <a class="el" href="TemplateCreator_8cpp_source.html#l00272">TemplateCreator::AfterLastEntry()</a>, <a class="el" href="SavePulses_8cpp_source.html#l00076">SavePulses::AfterLastEntry()</a>, <a class="el" href="TemplateCreator_8cpp_source.html#l00081">TemplateCreator::BeforeFirstEntry()</a>, <a class="el" href="PlotTDPs_8cpp_source.html#l00041">PlotTDPs::BeforeFirstEntry()</a>, <a class="el" href="ExportPulse_8cpp_source.html#l00034">ExportPulse::ExportPulse()</a>, and <a class="el" href="TemplateCreator_8cpp_source.html#l00109">TemplateCreator::ProcessEntry()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00074"></a>00074 {<span class="keywordflow">return</span> <a class="code" href="classBaseModule.html#a836fa9d2af26eb8a0041e0478c8fa9f0">fDirectory</a>;}
</pre></div></p>

</div>
</div>
<a class="anchor" id="af30c91fa2a3388325dd20b322de517ca"></a><!-- doxytag: member="GeSpectrum::GetName" ref="af30c91fa2a3388325dd20b322de517ca" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* BaseModule::GetName </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline, inherited]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Get the name of this module as given to the constructor of the base class. </p>

<p>Definition at line <a class="el" href="BaseModule_8h_source.html#l00066">66</a> of file <a class="el" href="BaseModule_8h_source.html">BaseModule.h</a>.</p>

<p>References <a class="el" href="BaseModule_8h_source.html#l00090">BaseModule::fName</a>.</p>

<p>Referenced by <a class="el" href="SavePulses_8cpp_source.html#l00030">SavePulses::BeforeFirstEntry()</a>, <a class="el" href="PlotTDPs_8cpp_source.html#l00041">PlotTDPs::BeforeFirstEntry()</a>, <a class="el" href="PlotTDP__TDiff_8cpp_source.html#l00035">PlotTDP_TDiff::BeforeFirstEntry()</a>, <a class="el" href="PlotTAP__Time_8cpp_source.html#l00033">PlotTAP_Time::ProcessEntry()</a>, <a class="el" href="PlotTAP__Energy_8cpp_source.html#l00037">PlotTAP_Energy::ProcessEntry()</a>, <a class="el" href="PlotTAP__Amplitude_8cpp_source.html#l00037">PlotTAP_Amplitude::ProcessEntry()</a>, and <a class="el" href="LoopSequence_8cpp_source.html#l00135">LoopSequence::Run()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00066"></a>00066 {<span class="keywordflow">return</span> <a class="code" href="classBaseModule.html#a743cac6481efcd5dea914e1d28813dfe">fName</a>.c_str();};
</pre></div></p>

</div>
</div>
<a class="anchor" id="a5f8dd6ba24c3cc68385eb540c17ae5de"></a><!-- doxytag: member="GeSpectrum::Postprocess" ref="a5f8dd6ba24c3cc68385eb540c17ae5de" args="(TGlobalData *gData, const TSetupData *gSetup)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int BaseModule::Postprocess </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classTGlobalData.html">TGlobalData</a> *&nbsp;</td>
          <td class="paramname"> <em>gData</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classTSetupData.html">TSetupData</a> *&nbsp;</td>
          <td class="paramname"> <em>gSetup</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inherited]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Method called by the main pre-process loop. </p>
<p>Does some simple work, then hooks into the derived class through AfterLastEntry. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>0 on sucess and non-zero if a problem occurred </dd></dl>

<p>Definition at line <a class="el" href="BaseModule_8cpp_source.html#l00066">66</a> of file <a class="el" href="BaseModule_8cpp_source.html">BaseModule.cpp</a>.</p>

<p>References <a class="el" href="classBaseModule.html#adce5c0d504fe9daf1d4d77b8c0522a7c">BaseModule::AfterLastEntry()</a>, and <a class="el" href="BaseModule_8h_source.html#l00091">BaseModule::fDirectory</a>.</p>

<p>Referenced by <a class="el" href="LoopSequence_8cpp_source.html#l00120">LoopSequence::Postprocess()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00066"></a>00066                                                                        {
<a name="l00067"></a>00067   <span class="comment">// This is called by our main routine and would allow later to split into different </span>
<a name="l00068"></a>00068   <span class="comment">// process routines if we have more than one Tree and hence different tpyes of data input.</span>
<a name="l00069"></a>00069 
<a name="l00070"></a>00070   <span class="keywordflow">if</span>(<a class="code" href="classBaseModule.html#a836fa9d2af26eb8a0041e0478c8fa9f0">fDirectory</a>) <a class="code" href="classBaseModule.html#a836fa9d2af26eb8a0041e0478c8fa9f0">fDirectory</a>-&gt;cd();
<a name="l00071"></a>00071   <span class="keywordtype">int</span> ret = <a class="code" href="classBaseModule.html#adce5c0d504fe9daf1d4d77b8c0522a7c">AfterLastEntry</a>(gData, gSetup);
<a name="l00072"></a>00072   gDirectory-&gt;cd(<span class="stringliteral">&quot;/&quot;</span>);
<a name="l00073"></a>00073 
<a name="l00074"></a>00074   <span class="keywordflow">return</span> ret;
<a name="l00075"></a>00075 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="ac24b7d3d359985742164399bb19bad76"></a><!-- doxytag: member="GeSpectrum::Preprocess" ref="ac24b7d3d359985742164399bb19bad76" args="(TGlobalData *gData, const TSetupData *gSetup)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int BaseModule::Preprocess </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classTGlobalData.html">TGlobalData</a> *&nbsp;</td>
          <td class="paramname"> <em>gData</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classTSetupData.html">TSetupData</a> *&nbsp;</td>
          <td class="paramname"> <em>gSetup</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inherited]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Method called by the main pre-process loop. </p>
<p>Does some simple work, then hooks into the derived class through BeforeFirstEntry. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>0 on sucess and non-zero if a problem occurred </dd></dl>

<p>Definition at line <a class="el" href="BaseModule_8cpp_source.html#l00055">55</a> of file <a class="el" href="BaseModule_8cpp_source.html">BaseModule.cpp</a>.</p>

<p>References <a class="el" href="classBaseModule.html#a2c043d991a87450829025075284f5519">BaseModule::BeforeFirstEntry()</a>, and <a class="el" href="BaseModule_8h_source.html#l00091">BaseModule::fDirectory</a>.</p>

<p>Referenced by <a class="el" href="LoopSequence_8cpp_source.html#l00075">LoopSequence::Preprocess()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00055"></a>00055                                                                       {
<a name="l00056"></a>00056   <span class="comment">// This is called by our main routine and would allow later to split into different </span>
<a name="l00057"></a>00057   <span class="comment">// process routines if we have more than one Tree and hence different tpyes of data input.</span>
<a name="l00058"></a>00058 
<a name="l00059"></a>00059   <span class="keywordflow">if</span>(<a class="code" href="classBaseModule.html#a836fa9d2af26eb8a0041e0478c8fa9f0">fDirectory</a>) <a class="code" href="classBaseModule.html#a836fa9d2af26eb8a0041e0478c8fa9f0">fDirectory</a>-&gt;cd();
<a name="l00060"></a>00060   <span class="keywordtype">int</span> ret = <a class="code" href="classBaseModule.html#a2c043d991a87450829025075284f5519">BeforeFirstEntry</a>(gData, gSetup);
<a name="l00061"></a>00061   gDirectory-&gt;cd(<span class="stringliteral">&quot;/&quot;</span>);
<a name="l00062"></a>00062 
<a name="l00063"></a>00063   <span class="keywordflow">return</span> ret;
<a name="l00064"></a>00064 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="ad87af239d31922dd2893938e6f0def84"></a><!-- doxytag: member="GeSpectrum::ProcessEntry" ref="ad87af239d31922dd2893938e6f0def84" args="(TGlobalData *gData, const TSetupData *gSetup)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int GeSpectrum::ProcessEntry </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classTGlobalData.html">TGlobalData</a> *&nbsp;</td>
          <td class="paramname"> <em>gData</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classTSetupData.html">TSetupData</a> *&nbsp;</td>
          <td class="paramname"> <em>gSetup</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [private, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Histograms the heights in the germanium with time cuts relative to muSc. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>gData</em>&nbsp;</td><td>See <a class="el" href="classBaseModule.html#aa4f8e8bc97c131fa8a97091ac7b7232f" title="The big kahuna. Overload this in the derived class and it will be called for each...">BaseModule::ProcessEntry</a> </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>gSetup</em>&nbsp;</td><td>See <a class="el" href="classBaseModule.html#aa4f8e8bc97c131fa8a97091ac7b7232f" title="The big kahuna. Overload this in the derived class and it will be called for each...">BaseModule::ProcessEntry</a> </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Non-zero to indicate a problem. </dd></dl>

<p>Implements <a class="el" href="classBaseModule.html#aa4f8e8bc97c131fa8a97091ac7b7232f">BaseModule</a>.</p>

<p>Definition at line <a class="el" href="GeSpectrum_8cpp_source.html#l00087">87</a> of file <a class="el" href="GeSpectrum_8cpp_source.html">GeSpectrum.cpp</a>.</p>

<p>References <a class="el" href="GeSpectrum_8cpp_source.html#l00244">CalculateEnergies()</a>, <a class="el" href="GeSpectrum_8cpp_source.html#l00230">CalculateTimes()</a>, <a class="el" href="GeSpectrum_8h_source.html#l00056">fADC2Energy</a>, <a class="el" href="GeSpectrum_8h_source.html#l00064">fGeF</a>, <a class="el" href="GeSpectrum_8h_source.html#l00063">fGeS</a>, <a class="el" href="GeSpectrum_8h_source.html#l00038">fHist_ADC</a>, <a class="el" href="GeSpectrum_8h_source.html#l00044">fHist_ADCFarOOT</a>, <a class="el" href="GeSpectrum_8h_source.html#l00042">fHist_ADCOOT</a>, <a class="el" href="GeSpectrum_8h_source.html#l00039">fHist_Energy</a>, <a class="el" href="GeSpectrum_8h_source.html#l00045">fHist_EnergyFarOOT</a>, <a class="el" href="GeSpectrum_8h_source.html#l00043">fHist_EnergyOOT</a>, <a class="el" href="GeSpectrum_8h_source.html#l00050">fHist_MeanTOffset</a>, <a class="el" href="GeSpectrum_8h_source.html#l00048">fHist_TimeADC</a>, <a class="el" href="GeSpectrum_8h_source.html#l00049">fHist_TimeEnergy</a>, <a class="el" href="GeSpectrum_8h_source.html#l00047">fHist_TimeFarOOT</a>, <a class="el" href="GeSpectrum_8h_source.html#l00046">fHist_TimeOOT</a>, <a class="el" href="GeSpectrum_8h_source.html#l00065">fMuSc</a>, <a class="el" href="TGlobalData_8h_source.html#l00037">TGlobalData::fPulseIslandToChannelMap</a>, <a class="el" href="GeSpectrum_8h_source.html#l00059">fTimeWindow_Big</a>, <a class="el" href="GeSpectrum_8h_source.html#l00058">fTimeWindow_Small</a>, <a class="el" href="classTSetupData.html#a9d2cb193423208f99c9ee4673098f038">TSetupData::GetBankName()</a>, <a class="el" href="analyzer_8cpp_source.html#l00085">TSetupData::Instance()</a>, <a class="el" href="GeSpectrum_8cpp_source.html#l00280">RemovePileupMuScPulses()</a>, <a class="el" href="IdChannel_8cpp_source.html#l00012">IDs::channel::str()</a>, and <a class="el" href="GeSpectrum_8cpp_source.html#l00258">ThrowIfGeInsane()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00087"></a>00087                                                                        {
<a name="l00088"></a>00088 
<a name="l00089"></a>00089   <span class="keyword">static</span> <span class="keyword">const</span> std::string bank_musc = <a class="code" href="group__alcapana__main.html#ga96d8c48f8693f69adda6aac005d17589" title="(Quasi-)Singleton interface">TSetupData::Instance</a>()-&gt;<a class="code" href="classTSetupData.html#a9d2cb193423208f99c9ee4673098f038">GetBankName</a>(<a class="code" href="classGeSpectrum.html#a00d1d9e24e32a951248dfc84025a549a">fMuSc</a>.<a class="code" href="classIDs_1_1channel.html#a8f2b9b6975b1a6e0f23830ba85f04ae9" title="Returns the channel as a string.">str</a>());
<a name="l00090"></a>00090   <span class="keyword">static</span> <span class="keyword">const</span> std::string bank_ges  = <a class="code" href="group__alcapana__main.html#ga96d8c48f8693f69adda6aac005d17589" title="(Quasi-)Singleton interface">TSetupData::Instance</a>()-&gt;<a class="code" href="classTSetupData.html#a9d2cb193423208f99c9ee4673098f038">GetBankName</a>(<a class="code" href="classGeSpectrum.html#a3c48f1bac41b26b68d97e670266c16cf">fGeS</a>.<a class="code" href="classIDs_1_1channel.html#a8f2b9b6975b1a6e0f23830ba85f04ae9" title="Returns the channel as a string.">str</a>());
<a name="l00091"></a>00091   <span class="keyword">static</span> <span class="keyword">const</span> std::string bank_gef  = <a class="code" href="group__alcapana__main.html#ga96d8c48f8693f69adda6aac005d17589" title="(Quasi-)Singleton interface">TSetupData::Instance</a>()-&gt;<a class="code" href="classTSetupData.html#a9d2cb193423208f99c9ee4673098f038">GetBankName</a>(<a class="code" href="classGeSpectrum.html#a2772efa9c299afd6004d4c61ebc28dc9">fGeF</a>.<a class="code" href="classIDs_1_1channel.html#a8f2b9b6975b1a6e0f23830ba85f04ae9" title="Returns the channel as a string.">str</a>());
<a name="l00092"></a>00092 
<a name="l00093"></a>00093   <span class="keyword">const</span> std::map&lt; std::string, std::vector&lt;TPulseIsland*&gt; &gt;&amp; TPIMap = gData-&gt;<a class="code" href="classTGlobalData.html#af871aca81ed72f5b05f063cfb471d9e8" title="Map of bank names to vectors of TPIs.">fPulseIslandToChannelMap</a>;
<a name="l00094"></a>00094   <a class="code" href="classGeSpectrum.html#aae5056133494cfe36ee999b690b3a671">ThrowIfGeInsane</a>(TPIMap.at(bank_ges), TPIMap.at(bank_gef));
<a name="l00095"></a>00095   <span class="keywordflow">if</span> (!(TPIMap.count(bank_musc) &amp;&amp; TPIMap.count(bank_ges) &amp;&amp; TPIMap.count(bank_gef)))
<a name="l00096"></a>00096     <span class="keywordflow">return</span> 0;
<a name="l00097"></a>00097   <span class="keywordflow">else</span> <span class="keywordflow">if</span> (TPIMap.at(bank_musc).size() == 0 || TPIMap.at(bank_ges).size() == 0 || TPIMap.at(bank_gef).size() == 0)
<a name="l00098"></a>00098     <span class="keywordflow">return</span> 0;
<a name="l00099"></a>00099 
<a name="l00100"></a>00100   <span class="keyword">const</span> std::vector&lt;double&gt; muScTimes  = <a class="code" href="classGeSpectrum.html#a98a991bc12830b4c3d742b7bbf4acec7" title="Takes a vector of TPIs and calculates all of their times.">CalculateTimes</a>(<a class="code" href="classGeSpectrum.html#a00d1d9e24e32a951248dfc84025a549a">fMuSc</a>,   TPIMap.at(bank_musc));
<a name="l00101"></a>00101   <span class="keyword">const</span> std::vector&lt;double&gt; muScEnergies  = <a class="code" href="classGeSpectrum.html#a5a61409a5727933a243304194bf13bf4" title="Takes a vector of TPIs and calculates all of their energies.">CalculateEnergies</a>(<a class="code" href="classGeSpectrum.html#a00d1d9e24e32a951248dfc84025a549a">fMuSc</a>,   TPIMap.at(bank_musc));
<a name="l00102"></a>00102   <span class="keyword">const</span> std::vector&lt;double&gt; geTimes    = <a class="code" href="classGeSpectrum.html#a98a991bc12830b4c3d742b7bbf4acec7" title="Takes a vector of TPIs and calculates all of their times.">CalculateTimes</a>(<a class="code" href="classGeSpectrum.html#a2772efa9c299afd6004d4c61ebc28dc9">fGeF</a>,    TPIMap.at(bank_gef));
<a name="l00103"></a>00103   <span class="keyword">const</span> std::vector&lt;double&gt; geEnergies = <a class="code" href="classGeSpectrum.html#a5a61409a5727933a243304194bf13bf4" title="Takes a vector of TPIs and calculates all of their energies.">CalculateEnergies</a>(<a class="code" href="classGeSpectrum.html#a3c48f1bac41b26b68d97e670266c16cf">fGeS</a>, TPIMap.at(bank_ges));
<a name="l00104"></a>00104   
<a name="l00105"></a>00105   std::vector&lt;double&gt; muScTimesPP(muScTimes), muScEnergiesPP(muScEnergies);
<a name="l00106"></a>00106   <a class="code" href="classGeSpectrum.html#a3cf43d2c624dee47831807959c1ed6cf">RemovePileupMuScPulses</a>(muScTimesPP, muScEnergiesPP);
<a name="l00107"></a>00107 
<a name="l00108"></a>00108   <span class="comment">//************************************//</span>
<a name="l00109"></a>00109   <span class="comment">//***** First get average offset *****//</span>
<a name="l00110"></a>00110   <span class="comment">//************************************//</span>
<a name="l00111"></a>00111   TH1I hTOff(<span class="stringliteral">&quot;hTOff&quot;</span>, <span class="stringliteral">&quot;Time Offset&quot;</span>, 4000, -20000., 20000.);
<a name="l00112"></a>00112   <span class="keywordflow">for</span> (<a class="code" href="namespacemodules.html#aecc7811d5380ed9d9e903c9b71a396aa">std::vector&lt;double&gt;::const_iterator</a> geT = geTimes.begin(), prev = muScTimesPP.begin(), next;
<a name="l00113"></a>00113        geT != geTimes.end();
<a name="l00114"></a>00114        ++geT) {
<a name="l00115"></a>00115     <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">double</span> unfound = 1e9;
<a name="l00116"></a>00116     <span class="keywordtype">double</span> dt[2] = {unfound, unfound}, &amp;dt_prev = dt[0], &amp;dt_next = dt[1];
<a name="l00117"></a>00117     <a class="code" href="namespacemodules.html#aecc7811d5380ed9d9e903c9b71a396aa">std::vector&lt;double&gt;::const_iterator</a> end = muScTimesPP.end();
<a name="l00118"></a>00118     next = std::upper_bound(prev, end, *geT);
<a name="l00119"></a>00119     prev = next - 1;
<a name="l00120"></a>00120     <span class="keywordflow">if</span> (next == muScTimesPP.end())
<a name="l00121"></a>00121       dt_prev = *geT - *prev;
<a name="l00122"></a>00122     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (next == muScTimesPP.begin()) {
<a name="l00123"></a>00123       dt_next = *geT - *next;
<a name="l00124"></a>00124       prev = next;
<a name="l00125"></a>00125     } <span class="keywordflow">else</span> {
<a name="l00126"></a>00126       dt_prev = *geT - *prev;
<a name="l00127"></a>00127       dt_next = *geT - *next;
<a name="l00128"></a>00128     }
<a name="l00129"></a>00129     
<a name="l00130"></a>00130     <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> it = 0; it &lt; 2; ++it)
<a name="l00131"></a>00131       <span class="keywordflow">if</span> (std::abs(dt[it]) &lt; 20000.)
<a name="l00132"></a>00132         hTOff.Fill(dt[it]);
<a name="l00133"></a>00133 
<a name="l00134"></a>00134   }
<a name="l00135"></a>00135   <span class="keywordtype">double</span> tOff = 0.;
<a name="l00136"></a>00136   <span class="keywordflow">if</span> (hTOff.Integral() &gt; 1) {
<a name="l00137"></a>00137     tOff = hTOff.GetMean();
<a name="l00138"></a>00138     <a class="code" href="classGeSpectrum.html#aa59cdcc592141dff3039ca33284cf068">fHist_MeanTOffset</a>-&gt;Fill(tOff);
<a name="l00139"></a>00139   }
<a name="l00140"></a>00140 
<a name="l00141"></a>00141 
<a name="l00142"></a>00142   <span class="comment">//**************************//</span>
<a name="l00143"></a>00143   <span class="comment">//***** Now make plots *****//</span>
<a name="l00144"></a>00144   <span class="comment">//**************************//</span>
<a name="l00145"></a>00145   <span class="keywordflow">for</span> (<a class="code" href="namespacemodules.html#aecc7811d5380ed9d9e903c9b71a396aa">std::vector&lt;double&gt;::const_iterator</a> geT = geTimes.begin(), geE = geEnergies.begin(), prev = muScTimesPP.begin(), next;
<a name="l00146"></a>00146        geT != geTimes.end() &amp;&amp; geE != geEnergies.end();
<a name="l00147"></a>00147        ++geT, ++geE) {
<a name="l00148"></a>00148     <span class="keywordtype">bool</span> prev_found = <span class="keyword">false</span>, next_found = <span class="keyword">false</span>;
<a name="l00149"></a>00149     <span class="keywordtype">double</span> dt_prev, dt_next;
<a name="l00150"></a>00150   
<a name="l00151"></a>00151     <span class="comment">// Find the time difference with the most recent muon</span>
<a name="l00152"></a>00152     <span class="comment">// both before and after.</span>
<a name="l00153"></a>00153     <a class="code" href="namespacemodules.html#aecc7811d5380ed9d9e903c9b71a396aa">std::vector&lt;double&gt;::const_iterator</a> end = muScTimesPP.end();
<a name="l00154"></a>00154     next = std::upper_bound(prev, end, *geT);
<a name="l00155"></a>00155     prev = next - 1;
<a name="l00156"></a>00156     <span class="keywordflow">if</span> (next == muScTimesPP.end()) {
<a name="l00157"></a>00157       dt_prev = *geT - *prev;
<a name="l00158"></a>00158       prev_found = <span class="keyword">true</span>;
<a name="l00159"></a>00159     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (next == muScTimesPP.begin()) {
<a name="l00160"></a>00160       dt_next = *geT - *next;
<a name="l00161"></a>00161       next_found = <span class="keyword">true</span>;
<a name="l00162"></a>00162     } <span class="keywordflow">else</span> {
<a name="l00163"></a>00163       <span class="comment">// The vast majority of cases are here</span>
<a name="l00164"></a>00164       dt_prev = *geT - *prev;
<a name="l00165"></a>00165       dt_next = *geT - *next;
<a name="l00166"></a>00166       prev_found = next_found = <span class="keyword">true</span>;
<a name="l00167"></a>00167     }
<a name="l00168"></a>00168 
<a name="l00169"></a>00169     <span class="comment">// Plot energy</span>
<a name="l00170"></a>00170     <span class="keywordflow">if</span> (( !prev_found || dt_prev &gt; <a class="code" href="classGeSpectrum.html#a4526541637db3df7785907908744cc1d">fTimeWindow_Big</a>) &amp;&amp; ( !next_found || dt_next &lt; -<a class="code" href="classGeSpectrum.html#a4526541637db3df7785907908744cc1d">fTimeWindow_Big</a>) ) {
<a name="l00171"></a>00171       <a class="code" href="classGeSpectrum.html#aec60ed832220bbe5c549fa738d8b31ad">fHist_ADCFarOOT</a>-&gt;Fill(*geE);
<a name="l00172"></a>00172       <a class="code" href="classGeSpectrum.html#ab6b338834dd1ab919579ab2a244ababd">fHist_EnergyFarOOT</a>-&gt;Fill(<a class="code" href="classGeSpectrum.html#a95dd43711bbf2f8ec9cc1fd661850d93">fADC2Energy</a>-&gt;Eval(*geE));
<a name="l00173"></a>00173     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( (!prev_found || dt_prev &gt; <a class="code" href="classGeSpectrum.html#a484672deaf86bcbe4504fae85907caa3">fTimeWindow_Small</a>) &amp;&amp; (!next_found || dt_next &lt; -<a class="code" href="classGeSpectrum.html#a484672deaf86bcbe4504fae85907caa3">fTimeWindow_Small</a>) ) {
<a name="l00174"></a>00174       <a class="code" href="classGeSpectrum.html#abf527ba6f8443b3fe1d3c65f7984b726">fHist_ADCOOT</a>-&gt;Fill(*geE);
<a name="l00175"></a>00175       <a class="code" href="classGeSpectrum.html#a274934dead467330d1d84887d2fe60ac">fHist_EnergyOOT</a>-&gt;Fill(<a class="code" href="classGeSpectrum.html#a95dd43711bbf2f8ec9cc1fd661850d93">fADC2Energy</a>-&gt;Eval(*geE));
<a name="l00176"></a>00176     } <span class="keywordflow">else</span> {
<a name="l00177"></a>00177       <span class="keywordflow">if</span> (prev_found &amp;&amp; dt_prev &lt;= <a class="code" href="classGeSpectrum.html#a484672deaf86bcbe4504fae85907caa3">fTimeWindow_Small</a>) {
<a name="l00178"></a>00178         <a class="code" href="classGeSpectrum.html#a896af334d004a9b7d087d67f6373b18f">fHist_TimeADC</a>-&gt;Fill(dt_prev, *geE);
<a name="l00179"></a>00179         <a class="code" href="classGeSpectrum.html#a4188b7ed89f61d9ec2ba0a5101f53d1f">fHist_TimeEnergy</a>-&gt;Fill(dt_prev, <a class="code" href="classGeSpectrum.html#a95dd43711bbf2f8ec9cc1fd661850d93">fADC2Energy</a>-&gt;Eval(*geE));
<a name="l00180"></a>00180       } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (next_found &amp;&amp; dt_next &gt;= -<a class="code" href="classGeSpectrum.html#a484672deaf86bcbe4504fae85907caa3">fTimeWindow_Small</a>) {
<a name="l00181"></a>00181         <a class="code" href="classGeSpectrum.html#a896af334d004a9b7d087d67f6373b18f">fHist_TimeADC</a>-&gt;Fill(dt_next, *geE);
<a name="l00182"></a>00182         <a class="code" href="classGeSpectrum.html#a4188b7ed89f61d9ec2ba0a5101f53d1f">fHist_TimeEnergy</a>-&gt;Fill(dt_next, <a class="code" href="classGeSpectrum.html#a95dd43711bbf2f8ec9cc1fd661850d93">fADC2Energy</a>-&gt;Eval(*geE));
<a name="l00183"></a>00183       } <span class="keywordflow">else</span> {
<a name="l00184"></a>00184         std::cout &lt;&lt; <span class="stringliteral">&quot;WARNING: Unexpected branch! Prev: (&quot;</span> &lt;&lt; prev_found &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; dt_prev &lt;&lt; <span class="stringliteral">&quot;), Next: (&quot;</span> &lt;&lt; next_found &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; dt_next &lt;&lt; <span class="stringliteral">&quot;)&quot;</span> &lt;&lt; std::endl;
<a name="l00185"></a>00185       }
<a name="l00186"></a>00186     }
<a name="l00187"></a>00187     <a class="code" href="classGeSpectrum.html#aed57fdfa2e7173db437b6549375df00e">fHist_ADC</a>-&gt;Fill(*geE);
<a name="l00188"></a>00188     <a class="code" href="classGeSpectrum.html#a176bb031a643cb89cab521a1229edd53">fHist_Energy</a>-&gt;Fill(<a class="code" href="classGeSpectrum.html#a95dd43711bbf2f8ec9cc1fd661850d93">fADC2Energy</a>-&gt;Eval(*geE));
<a name="l00189"></a>00189     <span class="comment">// Plot time</span>
<a name="l00190"></a>00190     <span class="keywordflow">if</span> (prev_found) {
<a name="l00191"></a>00191       <span class="keywordflow">if</span> (dt_prev &gt; <a class="code" href="classGeSpectrum.html#a4526541637db3df7785907908744cc1d">fTimeWindow_Big</a>)
<a name="l00192"></a>00192         <a class="code" href="classGeSpectrum.html#a50662cbae017970783f8afd861422138">fHist_TimeFarOOT</a>-&gt;Fill(dt_prev);
<a name="l00193"></a>00193       <span class="keywordflow">else</span> <span class="keywordflow">if</span> (dt_prev &gt; <a class="code" href="classGeSpectrum.html#a484672deaf86bcbe4504fae85907caa3">fTimeWindow_Small</a>)
<a name="l00194"></a>00194         <a class="code" href="classGeSpectrum.html#a3df9cab164d30d29312b6b8f44cc6eec">fHist_TimeOOT</a>-&gt;Fill(dt_prev);
<a name="l00195"></a>00195     }
<a name="l00196"></a>00196     <span class="keywordflow">if</span> (next_found) {
<a name="l00197"></a>00197       <span class="keywordflow">if</span> (dt_next &lt; -<a class="code" href="classGeSpectrum.html#a4526541637db3df7785907908744cc1d">fTimeWindow_Big</a>)
<a name="l00198"></a>00198         <a class="code" href="classGeSpectrum.html#a50662cbae017970783f8afd861422138">fHist_TimeFarOOT</a>-&gt;Fill(dt_next);
<a name="l00199"></a>00199       <span class="keywordflow">else</span> <span class="keywordflow">if</span> (dt_next &lt; -<a class="code" href="classGeSpectrum.html#a484672deaf86bcbe4504fae85907caa3">fTimeWindow_Small</a>)
<a name="l00200"></a>00200         <a class="code" href="classGeSpectrum.html#a3df9cab164d30d29312b6b8f44cc6eec">fHist_TimeOOT</a>-&gt;Fill(dt_next);
<a name="l00201"></a>00201     }
<a name="l00202"></a>00202 
<a name="l00203"></a>00203     <span class="comment">// Silicon XRay</span>
<a name="l00204"></a>00204     <span class="comment">//if (ge_energy &gt;= 3260 &amp;&amp; energy_ge &lt;= 3290)</span>
<a name="l00205"></a>00205     <span class="comment">// Aluminium XRay</span>
<a name="l00206"></a>00206     <span class="comment">//if (*geE &gt;= 340 &amp;&amp; *geE &lt;= 350) {</span>
<a name="l00207"></a>00207     <span class="comment">// Mg27 Gamma</span>
<a name="l00208"></a>00208     <span class="comment">// if (*geE &gt;= 838 &amp;&amp; *geE &lt;= 848) {</span>
<a name="l00209"></a>00209     <span class="comment">//   if (dt_prev != unfound) {</span>
<a name="l00210"></a>00210     <span class="comment">//  fHist_Time-&gt;Fill(dt_prev);</span>
<a name="l00211"></a>00211     <span class="comment">//  fHist_MoreTime-&gt;Fill(dt_prev);</span>
<a name="l00212"></a>00212     <span class="comment">//   }</span>
<a name="l00213"></a>00213     <span class="comment">//   if (dt_next != unfound) {</span>
<a name="l00214"></a>00214     <span class="comment">//  fHist_Time-&gt;Fill(dt_next);</span>
<a name="l00215"></a>00215     <span class="comment">//  fHist_MoreTime-&gt;Fill(dt_next);</span>
<a name="l00216"></a>00216     <span class="comment">//   }</span>
<a name="l00217"></a>00217     <span class="comment">// }</span>
<a name="l00218"></a>00218   }
<a name="l00219"></a>00219   <span class="keywordflow">return</span> 0;
<a name="l00220"></a>00220 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a204587ff6e1d967ab21d0cbbfea3b0fd"></a><!-- doxytag: member="GeSpectrum::ProcessGenericEntry" ref="a204587ff6e1d967ab21d0cbbfea3b0fd" args="(TGlobalData *gData, const TSetupData *gSetup)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int BaseModule::ProcessGenericEntry </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classTGlobalData.html">TGlobalData</a> *&nbsp;</td>
          <td class="paramname"> <em>gData</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classTSetupData.html">TSetupData</a> *&nbsp;</td>
          <td class="paramname"> <em>gSetup</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inherited]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Method called by the main event loop for each entry in the input root tree. Does some simple work, then hooks into the derived class through ProcessEntry. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>0 on sucess and non-zero if a problem occurred </dd></dl>

<p>Definition at line <a class="el" href="BaseModule_8cpp_source.html#l00044">44</a> of file <a class="el" href="BaseModule_8cpp_source.html">BaseModule.cpp</a>.</p>

<p>References <a class="el" href="BaseModule_8h_source.html#l00091">BaseModule::fDirectory</a>, and <a class="el" href="classBaseModule.html#aa4f8e8bc97c131fa8a97091ac7b7232f">BaseModule::ProcessEntry()</a>.</p>

<p>Referenced by <a class="el" href="LoopSequence_8cpp_source.html#l00091">LoopSequence::Process()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00044"></a>00044                                                                                {
<a name="l00045"></a>00045   <span class="comment">// This is called by our main routine and would allow later to split into different </span>
<a name="l00046"></a>00046   <span class="comment">// process routines if we have more than one Tree and hence different tpyes of data input.</span>
<a name="l00047"></a>00047 
<a name="l00048"></a>00048   <span class="keywordflow">if</span>(<a class="code" href="classBaseModule.html#a836fa9d2af26eb8a0041e0478c8fa9f0">fDirectory</a>) <a class="code" href="classBaseModule.html#a836fa9d2af26eb8a0041e0478c8fa9f0">fDirectory</a>-&gt;cd();
<a name="l00049"></a>00049   <span class="keywordtype">int</span> ret = <a class="code" href="classBaseModule.html#aa4f8e8bc97c131fa8a97091ac7b7232f" title="The big kahuna. Overload this in the derived class and it will be called for each...">ProcessEntry</a>(gData, gSetup);
<a name="l00050"></a>00050   gDirectory-&gt;cd(<span class="stringliteral">&quot;/&quot;</span>);
<a name="l00051"></a>00051 
<a name="l00052"></a>00052   <span class="keywordflow">return</span> ret;
<a name="l00053"></a>00053 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a3cf43d2c624dee47831807959c1ed6cf"></a><!-- doxytag: member="GeSpectrum::RemovePileupMuScPulses" ref="a3cf43d2c624dee47831807959c1ed6cf" args="(std::vector&lt; double &gt; &amp;time, std::vector&lt; double &gt; &amp;energy)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void GeSpectrum::RemovePileupMuScPulses </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; double &gt; &amp;&nbsp;</td>
          <td class="paramname"> <em>time</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; double &gt; &amp;&nbsp;</td>
          <td class="paramname"> <em>energy</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="GeSpectrum_8cpp_source.html#l00280">280</a> of file <a class="el" href="GeSpectrum_8cpp_source.html">GeSpectrum.cpp</a>.</p>

<p>References <a class="el" href="GeSpectrum_8h_source.html#l00060">fPileupProtectionWindow</a>.</p>

<p>Referenced by <a class="el" href="GeSpectrum_8cpp_source.html#l00087">ProcessEntry()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00280"></a>00280                                                                                   {
<a name="l00281"></a>00281   <span class="keywordflow">if</span> (t.empty()) <span class="keywordflow">return</span>;
<a name="l00282"></a>00282   std::vector&lt;bool&gt; rm(t.size(), <span class="keyword">false</span>);
<a name="l00283"></a>00283   <span class="keywordflow">if</span> (t.front() &lt; <a class="code" href="classGeSpectrum.html#af3aebcc10a38efd4f29df4379f005ed0">fPileupProtectionWindow</a>) rm.front() = <span class="keyword">true</span>;
<a name="l00284"></a>00284   <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 1; i &lt; t.size(); ++i)
<a name="l00285"></a>00285     <span class="keywordflow">if</span> (t[i] - t[i-1] &lt; <a class="code" href="classGeSpectrum.html#af3aebcc10a38efd4f29df4379f005ed0">fPileupProtectionWindow</a>)
<a name="l00286"></a>00286       rm[i] = rm[i-1] = <span class="keyword">true</span>;
<a name="l00287"></a>00287   rm.back() = <span class="keyword">true</span>;
<a name="l00288"></a>00288   <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; t.size(); ++i) {
<a name="l00289"></a>00289     <span class="keywordflow">if</span> (rm[i]) {
<a name="l00290"></a>00290       t.erase(t.begin()+i);
<a name="l00291"></a>00291       e.erase(e.begin()+i);
<a name="l00292"></a>00292       rm.erase(rm.begin()+i);
<a name="l00293"></a>00293       --i;
<a name="l00294"></a>00294     }
<a name="l00295"></a>00295   }
<a name="l00296"></a>00296 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="aab50673c8ec954675da2664677abfab1"></a><!-- doxytag: member="GeSpectrum::SetAlias" ref="aab50673c8ec954675da2664677abfab1" args="(const std::string &amp;alias)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void BaseModule::SetAlias </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&nbsp;</td>
          <td class="paramname"> <em>alias</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, inherited]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Sets the alias for this module, which should be provided in the <a class="el" href="namespacemodules.html">modules</a> file </p>

<p>Definition at line <a class="el" href="BaseModule_8h_source.html#l00059">59</a> of file <a class="el" href="BaseModule_8h_source.html">BaseModule.h</a>.</p>

<p>References <a class="el" href="BaseModule_8h_source.html#l00092">BaseModule::fAlias</a>.</p>

<p>Referenced by <a class="el" href="BaseModule_8cpp_source.html#l00007">BaseModule::BaseModule()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00059"></a>00059 {<a class="code" href="classBaseModule.html#ae19cdbdf544a783be4cdd4505ae31fb9">fAlias</a>=alias;};
</pre></div></p>

</div>
</div>
<a class="anchor" id="aae5056133494cfe36ee999b690b3a671"></a><!-- doxytag: member="GeSpectrum::ThrowIfGeInsane" ref="aae5056133494cfe36ee999b690b3a671" args="(const std::vector&lt; TPulseIsland * &gt; &amp;ge_fasts, const std::vector&lt; TPulseIsland * &gt; &amp;ge_slows)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void GeSpectrum::ThrowIfGeInsane </td>
          <td>(</td>
          <td class="paramtype">const std::vector&lt; <a class="el" href="classTPulseIsland.html">TPulseIsland</a> * &gt; &amp;&nbsp;</td>
          <td class="paramname"> <em>ge_fasts</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; <a class="el" href="classTPulseIsland.html">TPulseIsland</a> * &gt; &amp;&nbsp;</td>
          <td class="paramname"> <em>ge_slows</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="GeSpectrum_8cpp_source.html#l00258">258</a> of file <a class="el" href="GeSpectrum_8cpp_source.html">GeSpectrum.cpp</a>.</p>

<p>Referenced by <a class="el" href="GeSpectrum_8cpp_source.html#l00087">ProcessEntry()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00258"></a>00258                                                                                                            {
<a name="l00259"></a>00259   <span class="keywordflow">if</span> (ge1s.size() != ge2s.size())
<a name="l00260"></a>00260     <span class="keywordflow">throw</span> std::logic_error(<span class="stringliteral">&quot;Fast and slow vectors are not same size!&quot;</span>);
<a name="l00261"></a>00261   <span class="keywordflow">for</span> (<a class="code" href="namespacemodules.html#aecc7811d5380ed9d9e903c9b71a396aa">std::vector&lt;TPulseIsland*&gt;::const_iterator</a> ge1 = ge1s.begin(), ge2 = ge2s.begin(); ge1 != ge1s.end(); ++ge1, ++ge2)
<a name="l00262"></a>00262     <span class="keywordflow">if</span> ((*ge1)-&gt;GetTimeStamp() != (*ge2)-&gt;GetTimeStamp())
<a name="l00263"></a>00263       <span class="keywordflow">throw</span> std::logic_error(<span class="stringliteral">&quot;Fast and slow timestamps don&apos;t match up when getting time&quot;</span>);
<a name="l00264"></a>00264 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a4db76bf1276a4edf9699b03d5c0e022b"></a><!-- doxytag: member="GeSpectrum::ThrowIfInputsInsane" ref="a4db76bf1276a4edf9699b03d5c0e022b" args="(const modules::options *)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void GeSpectrum::ThrowIfInputsInsane </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classmodules_1_1options.html">modules::options</a> *&nbsp;</td>
          <td class="paramname"> <em>opts</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="GeSpectrum_8cpp_source.html#l00266">266</a> of file <a class="el" href="GeSpectrum_8cpp_source.html">GeSpectrum.cpp</a>.</p>

<p>References <a class="el" href="ModulesOptions_8cpp_source.html#l00057">modules::options::GetDouble()</a>, and <a class="el" href="ModulesOptions_8cpp_source.html#l00067">modules::options::GetString()</a>.</p>

<p>Referenced by <a class="el" href="GeSpectrum_8cpp_source.html#l00030">GeSpectrum()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00266"></a>00266                                                                {
<a name="l00267"></a>00267   <span class="keyword">const</span> std::string&amp; gef_cfg = opts-&gt;<a class="code" href="classmodules_1_1options.html#a5abd8fca2bf95e3d0d753d49089c08aa" title="Get the named option as a string.">GetString</a>(<span class="stringliteral">&quot;gef_cfg&quot;</span>);
<a name="l00268"></a>00268   <span class="keyword">const</span> <span class="keywordtype">double</span>       gef_cf  = opts-&gt;<a class="code" href="classmodules_1_1options.html#ae5dc83034f14668946edafd54a7d3131" title="Get the named option as a double.">GetDouble</a>(<span class="stringliteral">&quot;gef_cf&quot;</span>);
<a name="l00269"></a>00269   <span class="keyword">const</span> <span class="keywordtype">double</span>       musc_cf = opts-&gt;<a class="code" href="classmodules_1_1options.html#ae5dc83034f14668946edafd54a7d3131" title="Get the named option as a double.">GetDouble</a>(<span class="stringliteral">&quot;musc_cf&quot;</span>);
<a name="l00270"></a>00270   <span class="keyword">const</span> std::string  cf_str(<span class="stringliteral">&quot;constant_fraction=&quot;</span>);
<a name="l00271"></a>00271   std::stringstream ss(gef_cfg.substr(gef_cfg.find(cf_str) + cf_str.size()));
<a name="l00272"></a>00272   <span class="keywordtype">double</span> cf;
<a name="l00273"></a>00273   ss &gt;&gt; cf;
<a name="l00274"></a>00274   <span class="keywordflow">if</span> (cf != gef_cf)
<a name="l00275"></a>00275     <span class="keywordflow">throw</span> std::logic_error(<span class="stringliteral">&quot;GeSpectrum: GeF CF in options don&apos;t match.&quot;</span>);
<a name="l00276"></a>00276   <span class="keywordflow">if</span> (gef_cf &lt;= 0. || gef_cf &gt; 1. || musc_cf &lt;= 0. || musc_cf &gt; 1.)
<a name="l00277"></a>00277     <span class="keywordflow">throw</span> std::logic_error(<span class="stringliteral">&quot;GeSpectrum: CF are out of reasonable bounds (0. to 1.).&quot;</span>);
<a name="l00278"></a>00278 }
</pre></div></p>

</div>
</div>
<hr/><h2>Member Data Documentation</h2>
<a class="anchor" id="aa00f24e65a18c1d08149965da0fa1a22"></a><!-- doxytag: member="GeSpectrum::dir" ref="aa00f24e65a18c1d08149965da0fa1a22" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TDirectory* <a class="el" href="classBaseModule.html#aa00f24e65a18c1d08149965da0fa1a22">BaseModule::dir</a><code> [protected, inherited]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Many <a class="el" href="namespacemodules.html">modules</a> use 'dir' still which was the old protected pointer to the <a class="el" href="namespacemodules.html">modules</a> directory. To prevent things being broken so soon, we keep this pointer available, but be warned that it will be removed shortly... </p>

<p>Definition at line <a class="el" href="BaseModule_8h_source.html#l00098">98</a> of file <a class="el" href="BaseModule_8h_source.html">BaseModule.h</a>.</p>

<p>Referenced by <a class="el" href="BaseModule_8cpp_source.html#l00007">BaseModule::BaseModule()</a>, <a class="el" href="FastSlowCompare_8cpp_source.html#l00026">FastSlowCompare::FastSlowCompare()</a>, <a class="el" href="GeSpectrum_8cpp_source.html#l00030">GeSpectrum()</a>, <a class="el" href="BaseModule_8cpp_source.html#l00077">BaseModule::GetDirectory()</a>, <a class="el" href="MakeMuonEvents_8cpp_source.html#l00023">MakeMuonEvents::MakeMuonEvents()</a>, and <a class="el" href="PlotAmpVsTDiff_8cpp_source.html#l00025">PlotAmpVsTDiff::PlotAmpVsTDiff()</a>.</p>

</div>
</div>
<a class="anchor" id="a95dd43711bbf2f8ec9cc1fd661850d93"></a><!-- doxytag: member="GeSpectrum::fADC2Energy" ref="a95dd43711bbf2f8ec9cc1fd661850d93" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TF1* <a class="el" href="classGeSpectrum.html#a95dd43711bbf2f8ec9cc1fd661850d93">GeSpectrum::fADC2Energy</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="GeSpectrum_8h_source.html#l00056">56</a> of file <a class="el" href="GeSpectrum_8h_source.html">GeSpectrum.h</a>.</p>

<p>Referenced by <a class="el" href="GeSpectrum_8cpp_source.html#l00030">GeSpectrum()</a>, and <a class="el" href="GeSpectrum_8cpp_source.html#l00087">ProcessEntry()</a>.</p>

</div>
</div>
<a class="anchor" id="a4362be95ec4582f9f69cf6b261769974"></a><!-- doxytag: member="GeSpectrum::fCFTimeGe" ref="a4362be95ec4582f9f69cf6b261769974" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="structAlgorithm_1_1ConstantFractionTime.html">Algorithm::ConstantFractionTime</a> <a class="el" href="classGeSpectrum.html#a4362be95ec4582f9f69cf6b261769974">GeSpectrum::fCFTimeGe</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="GeSpectrum_8h_source.html#l00055">55</a> of file <a class="el" href="GeSpectrum_8h_source.html">GeSpectrum.h</a>.</p>

<p>Referenced by <a class="el" href="GeSpectrum_8cpp_source.html#l00230">CalculateTimes()</a>.</p>

</div>
</div>
<a class="anchor" id="a4b6dc6deaadd026e4bd4937ff881ca89"></a><!-- doxytag: member="GeSpectrum::fCFTimeMuSc" ref="a4b6dc6deaadd026e4bd4937ff881ca89" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="structAlgorithm_1_1ConstantFractionTime.html">Algorithm::ConstantFractionTime</a> <a class="el" href="classGeSpectrum.html#a4b6dc6deaadd026e4bd4937ff881ca89">GeSpectrum::fCFTimeMuSc</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="GeSpectrum_8h_source.html#l00055">55</a> of file <a class="el" href="GeSpectrum_8h_source.html">GeSpectrum.h</a>.</p>

<p>Referenced by <a class="el" href="GeSpectrum_8cpp_source.html#l00230">CalculateTimes()</a>.</p>

</div>
</div>
<a class="anchor" id="a2772efa9c299afd6004d4c61ebc28dc9"></a><!-- doxytag: member="GeSpectrum::fGeF" ref="a2772efa9c299afd6004d4c61ebc28dc9" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classIDs_1_1channel.html">IDs::channel</a> <a class="el" href="classGeSpectrum.html#a2772efa9c299afd6004d4c61ebc28dc9">GeSpectrum::fGeF</a><code> [static, private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="GeSpectrum_8h_source.html#l00064">64</a> of file <a class="el" href="GeSpectrum_8h_source.html">GeSpectrum.h</a>.</p>

<p>Referenced by <a class="el" href="GeSpectrum_8cpp_source.html#l00230">CalculateTimes()</a>, and <a class="el" href="GeSpectrum_8cpp_source.html#l00087">ProcessEntry()</a>.</p>

</div>
</div>
<a class="anchor" id="a3c48f1bac41b26b68d97e670266c16cf"></a><!-- doxytag: member="GeSpectrum::fGeS" ref="a3c48f1bac41b26b68d97e670266c16cf" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classIDs_1_1channel.html">IDs::channel</a> <a class="el" href="classGeSpectrum.html#a3c48f1bac41b26b68d97e670266c16cf">GeSpectrum::fGeS</a><code> [static, private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="GeSpectrum_8h_source.html#l00063">63</a> of file <a class="el" href="GeSpectrum_8h_source.html">GeSpectrum.h</a>.</p>

<p>Referenced by <a class="el" href="GeSpectrum_8cpp_source.html#l00244">CalculateEnergies()</a>, and <a class="el" href="GeSpectrum_8cpp_source.html#l00087">ProcessEntry()</a>.</p>

</div>
</div>
<a class="anchor" id="aed57fdfa2e7173db437b6549375df00e"></a><!-- doxytag: member="GeSpectrum::fHist_ADC" ref="aed57fdfa2e7173db437b6549375df00e" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TH1* <a class="el" href="classGeSpectrum.html#aed57fdfa2e7173db437b6549375df00e">GeSpectrum::fHist_ADC</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="GeSpectrum_8h_source.html#l00038">38</a> of file <a class="el" href="GeSpectrum_8h_source.html">GeSpectrum.h</a>.</p>

<p>Referenced by <a class="el" href="GeSpectrum_8cpp_source.html#l00030">GeSpectrum()</a>, and <a class="el" href="GeSpectrum_8cpp_source.html#l00087">ProcessEntry()</a>.</p>

</div>
</div>
<a class="anchor" id="aec60ed832220bbe5c549fa738d8b31ad"></a><!-- doxytag: member="GeSpectrum::fHist_ADCFarOOT" ref="aec60ed832220bbe5c549fa738d8b31ad" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TH1* <a class="el" href="classGeSpectrum.html#aec60ed832220bbe5c549fa738d8b31ad">GeSpectrum::fHist_ADCFarOOT</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="GeSpectrum_8h_source.html#l00044">44</a> of file <a class="el" href="GeSpectrum_8h_source.html">GeSpectrum.h</a>.</p>

<p>Referenced by <a class="el" href="GeSpectrum_8cpp_source.html#l00030">GeSpectrum()</a>, and <a class="el" href="GeSpectrum_8cpp_source.html#l00087">ProcessEntry()</a>.</p>

</div>
</div>
<a class="anchor" id="abf527ba6f8443b3fe1d3c65f7984b726"></a><!-- doxytag: member="GeSpectrum::fHist_ADCOOT" ref="abf527ba6f8443b3fe1d3c65f7984b726" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TH1* <a class="el" href="classGeSpectrum.html#abf527ba6f8443b3fe1d3c65f7984b726">GeSpectrum::fHist_ADCOOT</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="GeSpectrum_8h_source.html#l00042">42</a> of file <a class="el" href="GeSpectrum_8h_source.html">GeSpectrum.h</a>.</p>

<p>Referenced by <a class="el" href="GeSpectrum_8cpp_source.html#l00030">GeSpectrum()</a>, and <a class="el" href="GeSpectrum_8cpp_source.html#l00087">ProcessEntry()</a>.</p>

</div>
</div>
<a class="anchor" id="a176bb031a643cb89cab521a1229edd53"></a><!-- doxytag: member="GeSpectrum::fHist_Energy" ref="a176bb031a643cb89cab521a1229edd53" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TH1* <a class="el" href="classGeSpectrum.html#a176bb031a643cb89cab521a1229edd53">GeSpectrum::fHist_Energy</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="GeSpectrum_8h_source.html#l00039">39</a> of file <a class="el" href="GeSpectrum_8h_source.html">GeSpectrum.h</a>.</p>

<p>Referenced by <a class="el" href="GeSpectrum_8cpp_source.html#l00030">GeSpectrum()</a>, and <a class="el" href="GeSpectrum_8cpp_source.html#l00087">ProcessEntry()</a>.</p>

</div>
</div>
<a class="anchor" id="ab6b338834dd1ab919579ab2a244ababd"></a><!-- doxytag: member="GeSpectrum::fHist_EnergyFarOOT" ref="ab6b338834dd1ab919579ab2a244ababd" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TH1* <a class="el" href="classGeSpectrum.html#ab6b338834dd1ab919579ab2a244ababd">GeSpectrum::fHist_EnergyFarOOT</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="GeSpectrum_8h_source.html#l00045">45</a> of file <a class="el" href="GeSpectrum_8h_source.html">GeSpectrum.h</a>.</p>

<p>Referenced by <a class="el" href="GeSpectrum_8cpp_source.html#l00030">GeSpectrum()</a>, and <a class="el" href="GeSpectrum_8cpp_source.html#l00087">ProcessEntry()</a>.</p>

</div>
</div>
<a class="anchor" id="a274934dead467330d1d84887d2fe60ac"></a><!-- doxytag: member="GeSpectrum::fHist_EnergyOOT" ref="a274934dead467330d1d84887d2fe60ac" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TH1* <a class="el" href="classGeSpectrum.html#a274934dead467330d1d84887d2fe60ac">GeSpectrum::fHist_EnergyOOT</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="GeSpectrum_8h_source.html#l00043">43</a> of file <a class="el" href="GeSpectrum_8h_source.html">GeSpectrum.h</a>.</p>

<p>Referenced by <a class="el" href="GeSpectrum_8cpp_source.html#l00030">GeSpectrum()</a>, and <a class="el" href="GeSpectrum_8cpp_source.html#l00087">ProcessEntry()</a>.</p>

</div>
</div>
<a class="anchor" id="aa59cdcc592141dff3039ca33284cf068"></a><!-- doxytag: member="GeSpectrum::fHist_MeanTOffset" ref="aa59cdcc592141dff3039ca33284cf068" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TH1* <a class="el" href="classGeSpectrum.html#aa59cdcc592141dff3039ca33284cf068">GeSpectrum::fHist_MeanTOffset</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="GeSpectrum_8h_source.html#l00050">50</a> of file <a class="el" href="GeSpectrum_8h_source.html">GeSpectrum.h</a>.</p>

<p>Referenced by <a class="el" href="GeSpectrum_8cpp_source.html#l00030">GeSpectrum()</a>, and <a class="el" href="GeSpectrum_8cpp_source.html#l00087">ProcessEntry()</a>.</p>

</div>
</div>
<a class="anchor" id="add7ac7c7c5f08bc9ef98329c3490f998"></a><!-- doxytag: member="GeSpectrum::fHist_MoreTime" ref="add7ac7c7c5f08bc9ef98329c3490f998" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TH1* <a class="el" href="classGeSpectrum.html#add7ac7c7c5f08bc9ef98329c3490f998">GeSpectrum::fHist_MoreTime</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="GeSpectrum_8h_source.html#l00041">41</a> of file <a class="el" href="GeSpectrum_8h_source.html">GeSpectrum.h</a>.</p>

<p>Referenced by <a class="el" href="GeSpectrum_8cpp_source.html#l00030">GeSpectrum()</a>.</p>

</div>
</div>
<a class="anchor" id="aae2bc8d40199e23a94c8f6019bd4d3d9"></a><!-- doxytag: member="GeSpectrum::fHist_Time" ref="aae2bc8d40199e23a94c8f6019bd4d3d9" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TH1* <a class="el" href="classGeSpectrum.html#aae2bc8d40199e23a94c8f6019bd4d3d9">GeSpectrum::fHist_Time</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="GeSpectrum_8h_source.html#l00040">40</a> of file <a class="el" href="GeSpectrum_8h_source.html">GeSpectrum.h</a>.</p>

<p>Referenced by <a class="el" href="GeSpectrum_8cpp_source.html#l00030">GeSpectrum()</a>.</p>

</div>
</div>
<a class="anchor" id="a896af334d004a9b7d087d67f6373b18f"></a><!-- doxytag: member="GeSpectrum::fHist_TimeADC" ref="a896af334d004a9b7d087d67f6373b18f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TH2* <a class="el" href="classGeSpectrum.html#a896af334d004a9b7d087d67f6373b18f">GeSpectrum::fHist_TimeADC</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="GeSpectrum_8h_source.html#l00048">48</a> of file <a class="el" href="GeSpectrum_8h_source.html">GeSpectrum.h</a>.</p>

<p>Referenced by <a class="el" href="GeSpectrum_8cpp_source.html#l00030">GeSpectrum()</a>, and <a class="el" href="GeSpectrum_8cpp_source.html#l00087">ProcessEntry()</a>.</p>

</div>
</div>
<a class="anchor" id="a4188b7ed89f61d9ec2ba0a5101f53d1f"></a><!-- doxytag: member="GeSpectrum::fHist_TimeEnergy" ref="a4188b7ed89f61d9ec2ba0a5101f53d1f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TH2* <a class="el" href="classGeSpectrum.html#a4188b7ed89f61d9ec2ba0a5101f53d1f">GeSpectrum::fHist_TimeEnergy</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="GeSpectrum_8h_source.html#l00049">49</a> of file <a class="el" href="GeSpectrum_8h_source.html">GeSpectrum.h</a>.</p>

<p>Referenced by <a class="el" href="GeSpectrum_8cpp_source.html#l00030">GeSpectrum()</a>, and <a class="el" href="GeSpectrum_8cpp_source.html#l00087">ProcessEntry()</a>.</p>

</div>
</div>
<a class="anchor" id="a50662cbae017970783f8afd861422138"></a><!-- doxytag: member="GeSpectrum::fHist_TimeFarOOT" ref="a50662cbae017970783f8afd861422138" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TH1* <a class="el" href="classGeSpectrum.html#a50662cbae017970783f8afd861422138">GeSpectrum::fHist_TimeFarOOT</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="GeSpectrum_8h_source.html#l00047">47</a> of file <a class="el" href="GeSpectrum_8h_source.html">GeSpectrum.h</a>.</p>

<p>Referenced by <a class="el" href="GeSpectrum_8cpp_source.html#l00030">GeSpectrum()</a>, and <a class="el" href="GeSpectrum_8cpp_source.html#l00087">ProcessEntry()</a>.</p>

</div>
</div>
<a class="anchor" id="a3df9cab164d30d29312b6b8f44cc6eec"></a><!-- doxytag: member="GeSpectrum::fHist_TimeOOT" ref="a3df9cab164d30d29312b6b8f44cc6eec" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TH1* <a class="el" href="classGeSpectrum.html#a3df9cab164d30d29312b6b8f44cc6eec">GeSpectrum::fHist_TimeOOT</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="GeSpectrum_8h_source.html#l00046">46</a> of file <a class="el" href="GeSpectrum_8h_source.html">GeSpectrum.h</a>.</p>

<p>Referenced by <a class="el" href="GeSpectrum_8cpp_source.html#l00030">GeSpectrum()</a>, and <a class="el" href="GeSpectrum_8cpp_source.html#l00087">ProcessEntry()</a>.</p>

</div>
</div>
<a class="anchor" id="a3f5f07a245afffd501d5821e15d76666"></a><!-- doxytag: member="GeSpectrum::fMBAmpGe" ref="a3f5f07a245afffd501d5821e15d76666" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="structAlgorithm_1_1MaxBinAmplitude.html">Algorithm::MaxBinAmplitude</a> <a class="el" href="classGeSpectrum.html#a3f5f07a245afffd501d5821e15d76666">GeSpectrum::fMBAmpGe</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="GeSpectrum_8h_source.html#l00053">53</a> of file <a class="el" href="GeSpectrum_8h_source.html">GeSpectrum.h</a>.</p>

<p>Referenced by <a class="el" href="GeSpectrum_8cpp_source.html#l00244">CalculateEnergies()</a>.</p>

</div>
</div>
<a class="anchor" id="ab7effcd5716068aa1ece1cb8b1de64f8"></a><!-- doxytag: member="GeSpectrum::fMBAmpMuSc" ref="ab7effcd5716068aa1ece1cb8b1de64f8" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="structAlgorithm_1_1MaxBinAmplitude.html">Algorithm::MaxBinAmplitude</a> <a class="el" href="classGeSpectrum.html#ab7effcd5716068aa1ece1cb8b1de64f8">GeSpectrum::fMBAmpMuSc</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="GeSpectrum_8h_source.html#l00054">54</a> of file <a class="el" href="GeSpectrum_8h_source.html">GeSpectrum.h</a>.</p>

<p>Referenced by <a class="el" href="GeSpectrum_8cpp_source.html#l00244">CalculateEnergies()</a>.</p>

</div>
</div>
<a class="anchor" id="a00d1d9e24e32a951248dfc84025a549a"></a><!-- doxytag: member="GeSpectrum::fMuSc" ref="a00d1d9e24e32a951248dfc84025a549a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classIDs_1_1channel.html">IDs::channel</a> <a class="el" href="classGeSpectrum.html#a00d1d9e24e32a951248dfc84025a549a">GeSpectrum::fMuSc</a><code> [static, private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="GeSpectrum_8h_source.html#l00065">65</a> of file <a class="el" href="GeSpectrum_8h_source.html">GeSpectrum.h</a>.</p>

<p>Referenced by <a class="el" href="GeSpectrum_8cpp_source.html#l00244">CalculateEnergies()</a>, <a class="el" href="GeSpectrum_8cpp_source.html#l00230">CalculateTimes()</a>, and <a class="el" href="GeSpectrum_8cpp_source.html#l00087">ProcessEntry()</a>.</p>

</div>
</div>
<a class="anchor" id="af3aebcc10a38efd4f29df4379f005ed0"></a><!-- doxytag: member="GeSpectrum::fPileupProtectionWindow" ref="af3aebcc10a38efd4f29df4379f005ed0" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const double <a class="el" href="classGeSpectrum.html#af3aebcc10a38efd4f29df4379f005ed0">GeSpectrum::fPileupProtectionWindow</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="GeSpectrum_8h_source.html#l00060">60</a> of file <a class="el" href="GeSpectrum_8h_source.html">GeSpectrum.h</a>.</p>

<p>Referenced by <a class="el" href="GeSpectrum_8cpp_source.html#l00280">RemovePileupMuScPulses()</a>.</p>

</div>
</div>
<a class="anchor" id="a4526541637db3df7785907908744cc1d"></a><!-- doxytag: member="GeSpectrum::fTimeWindow_Big" ref="a4526541637db3df7785907908744cc1d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const double <a class="el" href="classGeSpectrum.html#a4526541637db3df7785907908744cc1d">GeSpectrum::fTimeWindow_Big</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="GeSpectrum_8h_source.html#l00059">59</a> of file <a class="el" href="GeSpectrum_8h_source.html">GeSpectrum.h</a>.</p>

<p>Referenced by <a class="el" href="GeSpectrum_8cpp_source.html#l00030">GeSpectrum()</a>, and <a class="el" href="GeSpectrum_8cpp_source.html#l00087">ProcessEntry()</a>.</p>

</div>
</div>
<a class="anchor" id="a484672deaf86bcbe4504fae85907caa3"></a><!-- doxytag: member="GeSpectrum::fTimeWindow_Small" ref="a484672deaf86bcbe4504fae85907caa3" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const double <a class="el" href="classGeSpectrum.html#a484672deaf86bcbe4504fae85907caa3">GeSpectrum::fTimeWindow_Small</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="GeSpectrum_8h_source.html#l00058">58</a> of file <a class="el" href="GeSpectrum_8h_source.html">GeSpectrum.h</a>.</p>

<p>Referenced by <a class="el" href="GeSpectrum_8cpp_source.html#l00030">GeSpectrum()</a>, and <a class="el" href="GeSpectrum_8cpp_source.html#l00087">ProcessEntry()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>rootana/src/<a class="el" href="GeSpectrum_8h_source.html">GeSpectrum.h</a></li>
<li>rootana/src/<a class="el" href="GeSpectrum_8cpp_source.html">GeSpectrum.cpp</a></li>
</ul>
</div>
<hr size="1"/><address style="text-align: right;"><small>Generated on 12 Jun 2015 for AlcapDAQ by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
