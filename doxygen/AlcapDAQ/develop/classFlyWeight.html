<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>AlcapDAQ: FlyWeight&lt; ValueType, UniqueTag &gt; Class Template Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="classes.html"><span>Class&nbsp;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>FlyWeight&lt; ValueType, UniqueTag &gt; Class Template Reference</h1><!-- doxytag: class="FlyWeight" --><!-- doxytag: inherits="TObject" -->
<p><code>#include &lt;<a class="el" href="FlyWeight_8h_source.html">FlyWeight.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for FlyWeight&lt; ValueType, UniqueTag &gt;:</div>
<div class="dynsection">
 <div class="center">
  <img src="classFlyWeight.gif" usemap="#FlyWeight&lt; ValueType, UniqueTag &gt;_map" alt=""/>
  <map id="FlyWeight&lt; ValueType, UniqueTag &gt;_map" name="FlyWeight&lt; ValueType, UniqueTag &gt;_map">
<area href="classTObject.html" alt="TObject" shape="rect" coords="0,0,221,24"/>
</map>
 </div>
</div>

<p><a href="classFlyWeight-members.html">List of all members.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Public Types</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFlyWeight.html#a9edd74a83e5aef559b2fa28b9e8bcfd9">Proxy_t</a></td></tr>
<tr><td colspan="2"><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFlyWeight.html#a348e00b2d26542ce745c251cf13bb208">FlyWeight</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFlyWeight.html#aaafda4e46b39603f1b4dc75a9943e439">FlyWeight</a> (const ValueType &amp;val)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFlyWeight.html#a68d535fdb5896735a367c1a7466adb0e">Reset</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFlyWeight.html#a0a929271b51234aac15e54288dff03ce">operator=</a> (const ValueType &amp;v)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFlyWeight.html#ae7f409f64fdf524f39825f7504842f88">DumpTable</a> () const </td></tr>
<tr><td colspan="2"><h2>Static Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFlyWeight.html#afb316325b337c4c28f4d7d8db3b5a6b6">InitProxyList</a> ()</td></tr>
<tr><td colspan="2"><h2>Private Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFlyWeight.html#add5433f784cc93ba0cae52e5cc764d49">ClassDef</a> (<a class="el" href="classFlyWeight.html">FlyWeight</a>, 2)</td></tr>
<tr><td colspan="2"><h2>Private Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classFlyWeight.html#a9edd74a83e5aef559b2fa28b9e8bcfd9">Proxy_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFlyWeight.html#a4d41a072cfe514c4f0dc9821662ae179">fProxy</a></td></tr>
<tr><td colspan="2"><h2>FlyWeight</h2></td></tr>
<tr><td colspan="2"><p><a class="anchor" id="amgrp28c7ab932c3ee974866601060a12d880"></a>A generic flyweight to store relatively bulky objects that are massively re-used, such as the source <a class="el" href="namespaceIDs.html">IDs</a> in each TAP / TDP.</p>
<p>Objects such as TAPs and TDPs often contain largely repeated data such as the source ID for all pulses coming from the same algorithm applied to the same detector channel. To reduce the redundancy and therefore save memory and some processing time, this class implements a simple version of the flyweight pattern, which replaces each different value with an int, but provides a similar interface to the object that it wraps. When we want to store a new value, it is searched for in the ProxyToValueMap and the index identifying where it is is saved is used instead. If the value has not been used already, it is added to the list of values </p>
<dl><dt><b>Template Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>ValueType</em>&nbsp;</td><td>The type of value this flyweight contains </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>UniqueTag</em>&nbsp;</td><td>An optional template parameter to make sure the flyweight is unique, such as to separate the flyweight for TAPs from TDPs, even though the ValueType is the same </td></tr>
  </table>
  </dd>
</dl>
<br/><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classFlyWeightLists.html">FlyWeightLists</a><br class="typebreak"/>
&lt; ValueType, UniqueTag &gt; *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFlyWeight.html#a6b15466dca34ddd43f0b335cdf4321fa">fProxyList</a> = NULL</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFlyWeight.html#a70fd41ad0b4c2c3168837d8083e37ff0">SetValue</a> (const ValueType &amp;)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const ValueType &amp;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFlyWeight.html#a9d64d2cf8d604cbf2960dc2ea53ac5c7">GetValue</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFlyWeight.html#a125b9939a6bb274f481fd74707ccca4f">LoadProxyList</a> (TDirectory *file, const std::string &amp;name)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFlyWeight.html#ace35a7fa9b94aada970f78674d1a345d">SaveProxyList</a> (TDirectory *file, const std::string &amp;name)</td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<h3>template&lt;typename ValueType, typename UniqueTag = int&gt;<br/>
 class FlyWeight&lt; ValueType, UniqueTag &gt;</h3>


<p>Definition at line <a class="el" href="FlyWeight_8h_source.html#l00055">55</a> of file <a class="el" href="FlyWeight_8h_source.html">FlyWeight.h</a>.</p>
<hr/><h2>Member Typedef Documentation</h2>
<a class="anchor" id="a9edd74a83e5aef559b2fa28b9e8bcfd9"></a><!-- doxytag: member="FlyWeight::Proxy_t" ref="a9edd74a83e5aef559b2fa28b9e8bcfd9" args="" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename ValueType, typename UniqueTag = int&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">typedef int <a class="el" href="classFlyWeight.html">FlyWeight</a>&lt; ValueType, UniqueTag &gt;::<a class="el" href="classFlyWeight.html#a9edd74a83e5aef559b2fa28b9e8bcfd9">Proxy_t</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="FlyWeight_8h_source.html#l00057">57</a> of file <a class="el" href="FlyWeight_8h_source.html">FlyWeight.h</a>.</p>

</div>
</div>
<hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a348e00b2d26542ce745c251cf13bb208"></a><!-- doxytag: member="FlyWeight::FlyWeight" ref="a348e00b2d26542ce745c251cf13bb208" args="()" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename ValueType, typename UniqueTag = int&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classFlyWeight.html">FlyWeight</a>&lt; ValueType, UniqueTag &gt;::<a class="el" href="classFlyWeight.html">FlyWeight</a> </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="FlyWeight_8h_source.html#l00059">59</a> of file <a class="el" href="FlyWeight_8h_source.html">FlyWeight.h</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00059"></a>00059 :<a class="code" href="classFlyWeight.html#a4d41a072cfe514c4f0dc9821662ae179">fProxy</a>(-1){}
</pre></div></p>

</div>
</div>
<a class="anchor" id="aaafda4e46b39603f1b4dc75a9943e439"></a><!-- doxytag: member="FlyWeight::FlyWeight" ref="aaafda4e46b39603f1b4dc75a9943e439" args="(const ValueType &amp;val)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename ValueType, typename UniqueTag = int&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classFlyWeight.html">FlyWeight</a>&lt; ValueType, UniqueTag &gt;::<a class="el" href="classFlyWeight.html">FlyWeight</a> </td>
          <td>(</td>
          <td class="paramtype">const ValueType &amp;&nbsp;</td>
          <td class="paramname"> <em>val</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="FlyWeight_8h_source.html#l00060">60</a> of file <a class="el" href="FlyWeight_8h_source.html">FlyWeight.h</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00060"></a>00060                                        :<a class="code" href="classFlyWeight.html#a4d41a072cfe514c4f0dc9821662ae179">fProxy</a>(-1){
<a name="l00061"></a>00061             <a class="code" href="classFlyWeight.html#a70fd41ad0b4c2c3168837d8083e37ff0">SetValue</a>(val);
<a name="l00062"></a>00062         }
</pre></div></p>

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="add5433f784cc93ba0cae52e5cc764d49"></a><!-- doxytag: member="FlyWeight::ClassDef" ref="add5433f784cc93ba0cae52e5cc764d49" args="(FlyWeight, 2)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename ValueType, typename UniqueTag = int&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classFlyWeight.html">FlyWeight</a>&lt; ValueType, UniqueTag &gt;::ClassDef </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classFlyWeight.html">FlyWeight</a>&lt; ValueType, UniqueTag &gt;&nbsp;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">2&nbsp;</td>
          <td class="paramname"></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="ae7f409f64fdf524f39825f7504842f88"></a><!-- doxytag: member="FlyWeight::DumpTable" ref="ae7f409f64fdf524f39825f7504842f88" args="() const " -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename ValueType, typename UniqueTag = int&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classFlyWeight.html">FlyWeight</a>&lt; ValueType, UniqueTag &gt;::DumpTable </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="FlyWeight_8h_source.html#l00070">70</a> of file <a class="el" href="FlyWeight_8h_source.html">FlyWeight.h</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00070"></a>00070 {<a class="code" href="classFlyWeight.html#a6b15466dca34ddd43f0b335cdf4321fa">fProxyList</a>-&gt;DumpTable();}
</pre></div></p>

</div>
</div>
<a class="anchor" id="a9d64d2cf8d604cbf2960dc2ea53ac5c7"></a><!-- doxytag: member="FlyWeight::GetValue" ref="a9d64d2cf8d604cbf2960dc2ea53ac5c7" args="() const " -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename ValueType , typename UniqueTag &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">const ValueType &amp; <a class="el" href="classFlyWeight.html">FlyWeight</a>&lt; ValueType, UniqueTag &gt;::GetValue </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="FlyWeight_8h_source.html#l00085">85</a> of file <a class="el" href="FlyWeight_8h_source.html">FlyWeight.h</a>.</p>

<p>References <a class="el" href="FlyWeight_8h_source.html#l00074">FlyWeight&lt; ValueType, UniqueTag &gt;::fProxy</a>, and <a class="el" href="FlyWeight_8h_source.html#l00079">FlyWeight&lt; ValueType, UniqueTag &gt;::fProxyList</a>.</p>

<p>Referenced by <a class="el" href="TDetectorPulse_8h_source.html#l00046">TDetectorPulse::GetSource()</a>, and <a class="el" href="TAnalysedPulse_8h_source.html#l00106">TAnalysedPulse::GetSource()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00085"></a>00085                                                                      {
<a name="l00086"></a>00086     <span class="keywordflow">if</span>(<a class="code" href="classFlyWeight.html#a4d41a072cfe514c4f0dc9821662ae179">fProxy</a>&lt;0) std::cerr&lt;&lt;<span class="stringliteral">&quot;Trying to get a value &quot;</span>
<a name="l00087"></a>00087         <span class="stringliteral">&quot;from an unitialized flyweight&quot;</span>&lt;&lt;std::endl;
<a name="l00088"></a>00088     <span class="keywordflow">return</span> <a class="code" href="classFlyWeight.html#a6b15466dca34ddd43f0b335cdf4321fa">fProxyList</a>-&gt;GetValue(<a class="code" href="classFlyWeight.html#a4d41a072cfe514c4f0dc9821662ae179">fProxy</a>);
<a name="l00089"></a>00089 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="afb316325b337c4c28f4d7d8db3b5a6b6"></a><!-- doxytag: member="FlyWeight::InitProxyList" ref="afb316325b337c4c28f4d7d8db3b5a6b6" args="()" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename ValueType, typename UniqueTag = int&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">static void <a class="el" href="classFlyWeight.html">FlyWeight</a>&lt; ValueType, UniqueTag &gt;::InitProxyList </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="FlyWeight_8h_source.html#l00074">74</a> of file <a class="el" href="FlyWeight_8h_source.html">FlyWeight.h</a>.</p>

<p>Referenced by <a class="el" href="FlyWeight_8h_source.html#l00092">FlyWeight&lt; ValueType, UniqueTag &gt;::SetValue()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00074"></a>00074 {<a class="code" href="classFlyWeight.html#a6b15466dca34ddd43f0b335cdf4321fa">fProxyList</a>=<span class="keyword">new</span> <a class="code" href="classFlyWeightLists.html">FlyWeightLists&lt;ValueType,UniqueTag&gt;</a>();};
</pre></div></p>

</div>
</div>
<a class="anchor" id="a125b9939a6bb274f481fd74707ccca4f"></a><!-- doxytag: member="FlyWeight::LoadProxyList" ref="a125b9939a6bb274f481fd74707ccca4f" args="(TDirectory *file, const std::string &amp;name)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename ValueType , typename UniqueTag &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classFlyWeight.html">FlyWeight</a>&lt; ValueType, UniqueTag &gt;::LoadProxyList </td>
          <td>(</td>
          <td class="paramtype">TDirectory *&nbsp;</td>
          <td class="paramname"> <em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&nbsp;</td>
          <td class="paramname"> <em>name</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="FlyWeight_8h_source.html#l00098">98</a> of file <a class="el" href="FlyWeight_8h_source.html">FlyWeight.h</a>.</p>

<p>References <a class="el" href="FlyWeight_8h_source.html#l00079">FlyWeight&lt; ValueType, UniqueTag &gt;::fProxyList</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00099"></a>00099                                                  {
<a name="l00100"></a>00100     <span class="keywordflow">if</span>(<a class="code" href="classFlyWeight.html#a6b15466dca34ddd43f0b335cdf4321fa">fProxyList</a> &amp;&amp; !<a class="code" href="classFlyWeight.html#a6b15466dca34ddd43f0b335cdf4321fa">fProxyList</a>-&gt;empty()){
<a name="l00101"></a>00101         std::cout&lt;&lt;<span class="stringliteral">&quot;FlyWeight: Error: Proxy list is not empty but was asked to load the list from a file&quot;</span>&lt;&lt;std::endl;
<a name="l00102"></a>00102         <span class="keywordflow">return</span> 1;
<a name="l00103"></a>00103     }
<a name="l00104"></a>00104     <span class="keywordflow">if</span>(!file) {
<a name="l00105"></a>00105         std::cout&lt;&lt;<span class="stringliteral">&quot;FlyWeight: Error: Cannot load a proxy list from a NULL file&quot;</span>&lt;&lt;std::endl;
<a name="l00106"></a>00106         <span class="keywordflow">return</span> 2;
<a name="l00107"></a>00107     }
<a name="l00108"></a>00108     file-&gt;GetObject(name.c_str(),<a class="code" href="classFlyWeight.html#a6b15466dca34ddd43f0b335cdf4321fa">fProxyList</a>);
<a name="l00109"></a>00109     <span class="keywordflow">if</span>(!<a class="code" href="classFlyWeight.html#a6b15466dca34ddd43f0b335cdf4321fa">fProxyList</a>){
<a name="l00110"></a>00110         std::cout&lt;&lt;<span class="stringliteral">&quot;FlyWeight: Error: Couldn&apos;t find proxy list &apos;&quot;</span>&lt;&lt;name
<a name="l00111"></a>00111             &lt;&lt;<span class="stringliteral">&quot;&apos; in file &apos;&quot;</span>&lt;&lt;file-&gt;GetName()&lt;&lt;<span class="stringliteral">&quot;&apos;&quot;</span>&lt;&lt;std::endl;
<a name="l00112"></a>00112         <span class="keywordflow">return</span> 3;
<a name="l00113"></a>00113     }
<a name="l00114"></a>00114     <span class="keywordflow">return</span> 0;
<a name="l00115"></a>00115 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a0a929271b51234aac15e54288dff03ce"></a><!-- doxytag: member="FlyWeight::operator=" ref="a0a929271b51234aac15e54288dff03ce" args="(const ValueType &amp;v)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename ValueType, typename UniqueTag = int&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classFlyWeight.html">FlyWeight</a>&lt; ValueType, UniqueTag &gt;::operator= </td>
          <td>(</td>
          <td class="paramtype">const ValueType &amp;&nbsp;</td>
          <td class="paramname"> <em>v</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="FlyWeight_8h_source.html#l00065">65</a> of file <a class="el" href="FlyWeight_8h_source.html">FlyWeight.h</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00065"></a>00065                                           {
<a name="l00066"></a>00066             <a class="code" href="classFlyWeight.html#a70fd41ad0b4c2c3168837d8083e37ff0">SetValue</a>(v);
<a name="l00067"></a>00067         }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a68d535fdb5896735a367c1a7466adb0e"></a><!-- doxytag: member="FlyWeight::Reset" ref="a68d535fdb5896735a367c1a7466adb0e" args="()" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename ValueType, typename UniqueTag = int&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classFlyWeight.html">FlyWeight</a>&lt; ValueType, UniqueTag &gt;::Reset </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="FlyWeight_8h_source.html#l00063">63</a> of file <a class="el" href="FlyWeight_8h_source.html">FlyWeight.h</a>.</p>

<p>Referenced by <a class="el" href="TDetectorPulse_8cpp_source.html#l00033">TDetectorPulse::Reset()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00063"></a>00063 {<a class="code" href="classFlyWeight.html#a4d41a072cfe514c4f0dc9821662ae179">fProxy</a>=-1;}
</pre></div></p>

</div>
</div>
<a class="anchor" id="ace35a7fa9b94aada970f78674d1a345d"></a><!-- doxytag: member="FlyWeight::SaveProxyList" ref="ace35a7fa9b94aada970f78674d1a345d" args="(TDirectory *file, const std::string &amp;name)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename ValueType , typename UniqueTag &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classFlyWeight.html">FlyWeight</a>&lt; ValueType, UniqueTag &gt;::SaveProxyList </td>
          <td>(</td>
          <td class="paramtype">TDirectory *&nbsp;</td>
          <td class="paramname"> <em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&nbsp;</td>
          <td class="paramname"> <em>name</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="FlyWeight_8h_source.html#l00118">118</a> of file <a class="el" href="FlyWeight_8h_source.html">FlyWeight.h</a>.</p>

<p>References <a class="el" href="FlyWeight_8h_source.html#l00079">FlyWeight&lt; ValueType, UniqueTag &gt;::fProxyList</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00119"></a>00119                                                  {
<a name="l00120"></a>00120     <span class="keywordflow">if</span>(!file) {
<a name="l00121"></a>00121         std::cout&lt;&lt;<span class="stringliteral">&quot;FlyWeight: Error: Cannot save a proxy list from a NULL file&quot;</span>&lt;&lt;std::endl;
<a name="l00122"></a>00122         <span class="keywordflow">return</span> 1;
<a name="l00123"></a>00123     }
<a name="l00124"></a>00124     file-&gt;WriteObject(<a class="code" href="classFlyWeight.html#a6b15466dca34ddd43f0b335cdf4321fa">fProxyList</a>,name.c_str());
<a name="l00125"></a>00125     <span class="keywordflow">return</span> 0;
<a name="l00126"></a>00126 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a70fd41ad0b4c2c3168837d8083e37ff0"></a><!-- doxytag: member="FlyWeight::SetValue" ref="a70fd41ad0b4c2c3168837d8083e37ff0" args="(const ValueType &amp;)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename ValueType, typename UniqueTag &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classFlyWeight.html">FlyWeight</a>&lt; ValueType, UniqueTag &gt;::SetValue </td>
          <td>(</td>
          <td class="paramtype">const ValueType &amp;&nbsp;</td>
          <td class="paramname"> <em>v</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="FlyWeight_8h_source.html#l00092">92</a> of file <a class="el" href="FlyWeight_8h_source.html">FlyWeight.h</a>.</p>

<p>References <a class="el" href="FlyWeight_8h_source.html#l00074">FlyWeight&lt; ValueType, UniqueTag &gt;::fProxy</a>, <a class="el" href="FlyWeight_8h_source.html#l00079">FlyWeight&lt; ValueType, UniqueTag &gt;::fProxyList</a>, and <a class="el" href="FlyWeight_8h_source.html#l00074">FlyWeight&lt; ValueType, UniqueTag &gt;::InitProxyList()</a>.</p>

<p>Referenced by <a class="el" href="FlyWeight_8h_source.html#l00060">FlyWeight&lt; IDs::source, TAnalysedPulse::Tag &gt;::FlyWeight()</a>, and <a class="el" href="FlyWeight_8h_source.html#l00065">FlyWeight&lt; IDs::source, TAnalysedPulse::Tag &gt;::operator=()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00092"></a>00092                                                                       {
<a name="l00093"></a>00093     <span class="keywordflow">if</span>(!<a class="code" href="classFlyWeight.html#a6b15466dca34ddd43f0b335cdf4321fa">fProxyList</a>)<a class="code" href="classFlyWeight.html#afb316325b337c4c28f4d7d8db3b5a6b6">InitProxyList</a>();
<a name="l00094"></a>00094     <a class="code" href="classFlyWeight.html#a4d41a072cfe514c4f0dc9821662ae179">fProxy</a>=<a class="code" href="classFlyWeight.html#a6b15466dca34ddd43f0b335cdf4321fa">fProxyList</a>-&gt;GetProxy(v);
<a name="l00095"></a>00095 }
</pre></div></p>

</div>
</div>
<hr/><h2>Member Data Documentation</h2>
<a class="anchor" id="a4d41a072cfe514c4f0dc9821662ae179"></a><!-- doxytag: member="FlyWeight::fProxy" ref="a4d41a072cfe514c4f0dc9821662ae179" args="" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename ValueType, typename UniqueTag = int&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classFlyWeight.html#a9edd74a83e5aef559b2fa28b9e8bcfd9">Proxy_t</a> <a class="el" href="classFlyWeight.html">FlyWeight</a>&lt; ValueType, UniqueTag &gt;::<a class="el" href="classFlyWeight.html#a4d41a072cfe514c4f0dc9821662ae179">fProxy</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="FlyWeight_8h_source.html#l00074">74</a> of file <a class="el" href="FlyWeight_8h_source.html">FlyWeight.h</a>.</p>

<p>Referenced by <a class="el" href="FlyWeight_8h_source.html#l00085">FlyWeight&lt; ValueType, UniqueTag &gt;::GetValue()</a>, <a class="el" href="FlyWeight_8h_source.html#l00063">FlyWeight&lt; IDs::source, TAnalysedPulse::Tag &gt;::Reset()</a>, and <a class="el" href="FlyWeight_8h_source.html#l00092">FlyWeight&lt; ValueType, UniqueTag &gt;::SetValue()</a>.</p>

</div>
</div>
<a class="anchor" id="a6b15466dca34ddd43f0b335cdf4321fa"></a><!-- doxytag: member="FlyWeight::fProxyList" ref="a6b15466dca34ddd43f0b335cdf4321fa" args="" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename ValueType, typename UniqueTag = int&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classFlyWeightLists.html">FlyWeightLists</a>&lt; ValueType, UniqueTag &gt; * <a class="el" href="classFlyWeight.html">FlyWeight</a>&lt; ValueType, UniqueTag &gt;::<a class="el" href="classFlyWeight.html#a6b15466dca34ddd43f0b335cdf4321fa">fProxyList</a> = NULL<code> [inline, static, private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="FlyWeight_8h_source.html#l00079">79</a> of file <a class="el" href="FlyWeight_8h_source.html">FlyWeight.h</a>.</p>

<p>Referenced by <a class="el" href="FlyWeight_8h_source.html#l00070">FlyWeight&lt; IDs::source, TAnalysedPulse::Tag &gt;::DumpTable()</a>, <a class="el" href="FlyWeight_8h_source.html#l00085">FlyWeight&lt; ValueType, UniqueTag &gt;::GetValue()</a>, <a class="el" href="FlyWeight_8h_source.html#l00074">FlyWeight&lt; IDs::source, TAnalysedPulse::Tag &gt;::InitProxyList()</a>, <a class="el" href="FlyWeight_8h_source.html#l00098">FlyWeight&lt; ValueType, UniqueTag &gt;::LoadProxyList()</a>, <a class="el" href="FlyWeight_8h_source.html#l00118">FlyWeight&lt; ValueType, UniqueTag &gt;::SaveProxyList()</a>, and <a class="el" href="FlyWeight_8h_source.html#l00092">FlyWeight&lt; ValueType, UniqueTag &gt;::SetValue()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>rootana/src/framework/<a class="el" href="FlyWeight_8h_source.html">FlyWeight.h</a></li>
</ul>
</div>
<hr size="1"/><address style="text-align: right;"><small>Generated on 22 Jan 2015 for AlcapDAQ by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
