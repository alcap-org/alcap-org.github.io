<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>AlcapDAQ: rootana/src/TME_generators/TMuonEvent.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>File&nbsp;Members</span></a></li>
    </ul>
  </div>
<h1>rootana/src/TME_generators/TMuonEvent.h</h1><a href="TMuonEvent_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="preprocessor">#ifndef TMuonEvent_hh_</span>
<a name="l00002"></a>00002 <span class="preprocessor"></span><span class="preprocessor">#define TMuonEvent_hh_</span>
<a name="l00003"></a>00003 <span class="preprocessor"></span>
<a name="l00004"></a>00004 <span class="preprocessor">#include &quot;<a class="code" href="definitions_8h.html">definitions.h</a>&quot;</span>
<a name="l00005"></a>00005 <span class="preprocessor">#include &quot;<a class="code" href="TDetectorPulse_8h.html">TDetectorPulse.h</a>&quot;</span>
<a name="l00006"></a>00006 <span class="preprocessor">#include &quot;<a class="code" href="TSiliconEvent_8h.html">TSiliconEvent.h</a>&quot;</span>
<a name="l00007"></a>00007 <span class="preprocessor">#include &lt;set&gt;</span>
<a name="l00008"></a>00008 <span class="preprocessor">#include &lt;vector&gt;</span>
<a name="l00009"></a>00009 <span class="preprocessor">#include &lt;TObject.h&gt;</span>
<a name="l00010"></a>00010 
<a name="l00023"></a><a class="code" href="classTMuonEvent.html">00023</a> <span class="keyword">class </span><a class="code" href="classTMuonEvent.html" title="Single event in the muon centred tree.">TMuonEvent</a>:<span class="keyword">public</span> <a class="code" href="classTObject.html">TObject</a>{
<a name="l00024"></a>00024     <span class="keyword">public</span>:
<a name="l00025"></a><a class="code" href="classTMuonEvent.html#a9bce005ac2f3686fb66a7d762c3d17e0">00025</a>         <span class="keyword">enum</span> <a class="code" href="classTMuonEvent.html#a9bce005ac2f3686fb66a7d762c3d17e0">LeftRight_t</a>{<a class="code" href="classTMuonEvent.html#a9bce005ac2f3686fb66a7d762c3d17e0a3889282b198975f3931eb80c562ebdd8">kLeft</a>, <a class="code" href="classTMuonEvent.html#a9bce005ac2f3686fb66a7d762c3d17e0a84b67006719576096e78fea034de4b13">kRight</a>};
<a name="l00026"></a>00026         
<a name="l00028"></a><a class="code" href="classTMuonEvent.html#a878c169c537cadf7a698c026bf0cae5f">00028</a>         <a class="code" href="classTMuonEvent.html#a2bdc21aea1e0802faef4f1531e300895" title="Default constructor for a TMuonEvent.">TMuonEvent</a>(<span class="keyword">const</span> <a class="code" href="classTDetectorPulse.html">TDetectorPulse</a>* central_mu, <span class="keywordtype">double</span> window):
<a name="l00029"></a>00029             <a class="code" href="classTMuonEvent.html#a58154eb0db2402438c5e1ed2fd729450">fCentralMuon</a>(central_mu),<a class="code" href="classTMuonEvent.html#aea21422df76f2bd23f3b73a0b10e432d">fWindowWidth</a>(window) {};
<a name="l00031"></a><a class="code" href="classTMuonEvent.html#a2bdc21aea1e0802faef4f1531e300895">00031</a>         <a class="code" href="classTMuonEvent.html#a2bdc21aea1e0802faef4f1531e300895" title="Default constructor for a TMuonEvent.">TMuonEvent</a>():
<a name="l00032"></a>00032             <a class="code" href="classTMuonEvent.html#a58154eb0db2402438c5e1ed2fd729450">fCentralMuon</a>(NULL),<a class="code" href="classTMuonEvent.html#aea21422df76f2bd23f3b73a0b10e432d">fWindowWidth</a>(0){};
<a name="l00033"></a>00033 
<a name="l00036"></a><a class="code" href="classTMuonEvent.html#a647035c54a9e1e3fdb9b284ac93d6c3f">00036</a>         <a class="code" href="classTMuonEvent.html#a647035c54a9e1e3fdb9b284ac93d6c3f" title="Destructor.">~TMuonEvent</a>(){}
<a name="l00037"></a>00037 
<a name="l00039"></a><a class="code" href="classTMuonEvent.html#afadd55e6397d9bd94146bc7bf82303f1">00039</a>         <span class="keywordtype">void</span> <a class="code" href="classTMuonEvent.html#afadd55e6397d9bd94146bc7bf82303f1" title="Reset a TME&amp;#39;s list of pulses.">Reset</a>(){ 
<a name="l00040"></a>00040             <a class="code" href="classTMuonEvent.html#a0f7df6e069265397f84bc8afab768a14">fPulseLists</a>.clear();
<a name="l00041"></a>00041             <a class="code" href="classTMuonEvent.html#a4c672b9c98e70cfbfa412afe4a9a8bc7">fExhaustedChannels</a>.clear();
<a name="l00042"></a>00042         }
<a name="l00043"></a>00043 
<a name="l00045"></a>00045         <span class="keywordtype">void</span> <a class="code" href="classTMuonEvent.html#af4127dea4e2488268dac1c8d5f369a7f" title="Add a pulse into the list of pulses.">AddPulse</a>(<span class="keyword">const</span> <a class="code" href="classIDs_1_1source.html" title="Class to define the identity of a source. A source, conceptually speaking, is the...">IDs::source</a>&amp; source, <a class="code" href="classTDetectorPulse.html">TDetectorPulse</a>* pulse);
<a name="l00046"></a>00046         <span class="keywordtype">void</span> <a class="code" href="classTMuonEvent.html#ab03f5e1c73ff46e40f0dbff4349544a0">AddPulses</a>(<span class="keyword">const</span> <a class="code" href="classIDs_1_1source.html" title="Class to define the identity of a source. A source, conceptually speaking, is the...">IDs::source</a>&amp; source,
<a name="l00047"></a>00047                 <a class="code" href="namespacemodules.html#aecc7811d5380ed9d9e903c9b71a396aa">DetectorPulseList::const_iterator</a> start,
<a name="l00048"></a>00048                 <a class="code" href="namespacemodules.html#aecc7811d5380ed9d9e903c9b71a396aa">DetectorPulseList::const_iterator</a> stop);
<a name="l00049"></a>00049 
<a name="l00051"></a>00051         <span class="keyword">const</span> <a class="code" href="classIDs_1_1source.html" title="Class to define the identity of a source. A source, conceptually speaking, is the...">IDs::source</a>&amp; <a class="code" href="classTMuonEvent.html#a849cb95899dbae1c40ed6986ae1f7507" title="Get the n-th source that contains pulses.">GetSource</a>(<span class="keywordtype">int</span> n)<span class="keyword">const</span>;
<a name="l00053"></a><a class="code" href="classTMuonEvent.html#a24ff5b5fbb152b1c5b0d51aa3d0d9c80">00053</a>         <span class="keywordtype">int</span> <a class="code" href="classTMuonEvent.html#a24ff5b5fbb152b1c5b0d51aa3d0d9c80" title="Get the number of sources with pulses in this TME.">GetNumSources</a>()<span class="keyword">const</span>{<span class="keywordflow">return</span> <a class="code" href="classTMuonEvent.html#a0f7df6e069265397f84bc8afab768a14">fPulseLists</a>.size();};
<a name="l00059"></a>00059         <span class="keywordtype">int</span> <a class="code" href="classTMuonEvent.html#aa88f68418f18fa01ac412be41247140b" title="Get the index of the next source to match channel, ch, starting at index start.">GetSourceIndex</a>(<span class="keyword">const</span> <a class="code" href="classIDs_1_1channel.html">IDs::channel</a>&amp; ch, <span class="keywordtype">int</span> start=0)<span class="keyword">const</span>;
<a name="l00060"></a>00060         <span class="keywordtype">int</span> <a class="code" href="classTMuonEvent.html#aac5b8f361746b105259c4e9f8b27ddb0">GetFirstSourceIndex</a>(<span class="keyword">const</span> <a class="code" href="classIDs_1_1channel.html">IDs::channel</a>&amp; ch)<span class="keyword">const</span>;
<a name="l00061"></a>00061         <span class="keywordtype">int</span> <a class="code" href="classTMuonEvent.html#a0ab4178ef4327ac1373b41edaaf08bca">GetLastSourceIndex</a>(<span class="keyword">const</span> <a class="code" href="classIDs_1_1channel.html">IDs::channel</a>&amp; ch)<span class="keyword">const</span>;
<a name="l00062"></a>00062 
<a name="l00065"></a>00065         <span class="keyword">const</span> <a class="code" href="classTDetectorPulse.html">TDetectorPulse</a>* <a class="code" href="classTMuonEvent.html#ac3382ac58937e5f101a4e1c7327a7698" title="Retrieve a pulse from the specified source and position in the pulse list.">GetPulse</a>(<span class="keyword">const</span> <a class="code" href="classIDs_1_1source.html" title="Class to define the identity of a source. A source, conceptually speaking, is the...">IDs::source</a>&amp; detector, <span class="keywordtype">int</span> index)<span class="keyword">const</span>;
<a name="l00066"></a>00066 
<a name="l00069"></a>00069         <a class="code" href="namespacemodules.html#aecc7811d5380ed9d9e903c9b71a396aa">DetectorPulseList::const_iterator</a> <a class="code" href="classTMuonEvent.html#a317c56b59cd438a805d2c17442e2c2c2" title="Get a const_iterator to the beginning of the pulse list for a given source.">BeginPulses</a>(<span class="keyword">const</span> <a class="code" href="classIDs_1_1source.html" title="Class to define the identity of a source. A source, conceptually speaking, is the...">IDs::source</a>&amp; detector)<span class="keyword">const</span>;
<a name="l00072"></a>00072         <a class="code" href="namespacemodules.html#aecc7811d5380ed9d9e903c9b71a396aa">DetectorPulseList::const_iterator</a> <a class="code" href="classTMuonEvent.html#a31edfe68d2996f878bf65efc64f34ff6" title="Get a const_iterator to the end of the pulse list for a given source.">EndPulses</a>(<span class="keyword">const</span> <a class="code" href="classIDs_1_1source.html" title="Class to define the identity of a source. A source, conceptually speaking, is the...">IDs::source</a>&amp; detector)<span class="keyword">const</span>;
<a name="l00073"></a>00073 
<a name="l00075"></a>00075         <span class="keywordtype">int</span> <a class="code" href="classTMuonEvent.html#a92eca0f01b4211597c293f3f0c4a54f3" title="Get the total number of pulses contained in this TME.">TotalNumPulses</a>()<span class="keyword">const</span>;
<a name="l00081"></a>00081         <span class="keywordtype">int</span> <a class="code" href="classTMuonEvent.html#a9c477c80e75962985d96d113571d8987" title="Get the number of pulses contained in this TME for a given channel.">NumPulses</a>(<span class="keyword">const</span> <a class="code" href="classIDs_1_1channel.html">IDs::channel</a>&amp; channel)<span class="keyword">const</span>;
<a name="l00084"></a>00084         <span class="keywordtype">int</span> <a class="code" href="classTMuonEvent.html#a9c477c80e75962985d96d113571d8987" title="Get the number of pulses contained in this TME for a given channel.">NumPulses</a>(<span class="keyword">const</span> <a class="code" href="classIDs_1_1source.html" title="Class to define the identity of a source. A source, conceptually speaking, is the...">IDs::source</a>&amp; source)<span class="keyword">const</span>;
<a name="l00085"></a>00085 
<a name="l00087"></a>00087         <span class="keywordtype">bool</span> <a class="code" href="classTMuonEvent.html#a3ba4c5c2144ded4e709c6d62c4adc4fc" title="Does this TME pass the muon hit criteria.">HasMuonHit</a>()<span class="keyword">const</span>;
<a name="l00089"></a>00089         <span class="keywordtype">bool</span> <a class="code" href="classTMuonEvent.html#a2d3067ad7d1474d1d09b004c1dfc24c9" title="Does this TME pass the muon pile-up criteria.">HasMuonPileup</a>()<span class="keyword">const</span>;
<a name="l00090"></a>00090 
<a name="l00092"></a>00092         <span class="keywordtype">bool</span> <a class="code" href="classTMuonEvent.html#a6818ee23ce24ee30744943b28733d6d1" title="Get whether or not this TME is flagged as early in an event.">WasEarlyInEvent</a>()<span class="keyword">const</span>;
<a name="l00094"></a>00094         <span class="keywordtype">bool</span> <a class="code" href="classTMuonEvent.html#a9de61e2c97a4811a9f581fb1c11dc849" title="Get whether or not this TME is flagged as late in an event.">WasLateInEvent</a>(<span class="keywordtype">double</span> event_length, <span class="keywordtype">double</span> event_uncertainty)<span class="keyword">const</span>;
<a name="l00095"></a>00095 
<a name="l00097"></a><a class="code" href="classTMuonEvent.html#aca1b10808bef24bf36ace7c1ecc81812">00097</a>         <span class="keywordtype">void</span> <a class="code" href="classTMuonEvent.html#aca1b10808bef24bf36ace7c1ecc81812" title="Set whether all pulses for a certain channel were used up.">AllPulsesUsed</a>(<span class="keyword">const</span> <a class="code" href="classIDs_1_1source.html" title="Class to define the identity of a source. A source, conceptually speaking, is the...">IDs::source</a>&amp; so){<a class="code" href="classTMuonEvent.html#a4c672b9c98e70cfbfa412afe4a9a8bc7">fExhaustedChannels</a>.insert(so);};
<a name="l00099"></a><a class="code" href="classTMuonEvent.html#ae92dc9002474437d919ab24e58292851">00099</a>         <span class="keywordtype">bool</span> <a class="code" href="classTMuonEvent.html#ae92dc9002474437d919ab24e58292851" title="Get whether all pulses for ANY channel were used up.">WereNoPulsesLeft</a>()<span class="keyword">const</span>{<span class="keywordflow">return</span> <a class="code" href="classTMuonEvent.html#a4c672b9c98e70cfbfa412afe4a9a8bc7">fExhaustedChannels</a>.size()!=0;};
<a name="l00101"></a><a class="code" href="classTMuonEvent.html#a461732f456ee97152dc0fb983803f864">00101</a>         <span class="keywordtype">bool</span> <a class="code" href="classTMuonEvent.html#a461732f456ee97152dc0fb983803f864" title="Get whether all pulses for a specific channel were used up.">WereNoPulsesLeft</a>(<span class="keyword">const</span> <a class="code" href="classIDs_1_1source.html" title="Class to define the identity of a source. A source, conceptually speaking, is the...">IDs::source</a>&amp; so)<span class="keyword">const</span>{
<a name="l00102"></a>00102             <span class="keywordflow">return</span> <a class="code" href="classTMuonEvent.html#a4c672b9c98e70cfbfa412afe4a9a8bc7">fExhaustedChannels</a>.find(so)!=<a class="code" href="classTMuonEvent.html#a4c672b9c98e70cfbfa412afe4a9a8bc7">fExhaustedChannels</a>.end();};
<a name="l00103"></a>00103 
<a name="l00105"></a><a class="code" href="classTMuonEvent.html#a8a1346e5b66e6090910f90259590a2ea">00105</a>         <span class="keywordtype">double</span> <a class="code" href="classTMuonEvent.html#a8a1346e5b66e6090910f90259590a2ea" title="Get the time of this TME defined as the arrival time of the central muon.">GetTime</a>()<span class="keyword">const </span>{<span class="keywordflow">return</span> <a class="code" href="classTMuonEvent.html#a58154eb0db2402438c5e1ed2fd729450">fCentralMuon</a>-&gt;<a class="code" href="classTDetectorPulse.html#a9de0d98ab8fbc487da6a9e6179cdb3e9">GetTime</a>(<a class="code" href="classTDetectorPulse.html#a9f412d042408deee0d6801e8cac4b47aafd477646f6d125e1850594e974b25932">TDetectorPulse::kFast</a>);}
<a name="l00106"></a><a class="code" href="classTMuonEvent.html#ac38f336d4223ea1463d2b9aae6668d2c">00106</a>         <span class="keywordtype">double</span> <a class="code" href="classTMuonEvent.html#ac38f336d4223ea1463d2b9aae6668d2c">GetAmplitude</a>()<span class="keyword">const </span>{<span class="keywordflow">return</span> <a class="code" href="classTMuonEvent.html#a58154eb0db2402438c5e1ed2fd729450">fCentralMuon</a>-&gt;<a class="code" href="classTDetectorPulse.html#acb10b717380a861ffb752cb5c691ba9e">GetAmplitude</a>(<a class="code" href="classTDetectorPulse.html#a9f412d042408deee0d6801e8cac4b47aafd477646f6d125e1850594e974b25932">TDetectorPulse::kFast</a>);}
<a name="l00107"></a><a class="code" href="classTMuonEvent.html#aa36e26347758abe77b6ed28402481134">00107</a>         <span class="keyword">const</span> <a class="code" href="classTDetectorPulse.html">TDetectorPulse</a>* <a class="code" href="classTMuonEvent.html#aa36e26347758abe77b6ed28402481134">GetCentralMuon</a>()<span class="keyword">const </span>{<span class="keywordflow">return</span> <a class="code" href="classTMuonEvent.html#a58154eb0db2402438c5e1ed2fd729450">fCentralMuon</a>;}
<a name="l00108"></a>00108 
<a name="l00109"></a><a class="code" href="classTMuonEvent.html#a544dca791b1b4a308b2305eaaa060d93">00109</a>         <span class="keywordtype">void</span> <a class="code" href="classTMuonEvent.html#a544dca791b1b4a308b2305eaaa060d93">InsertSiliconEvent</a>(<a class="code" href="classTMuonEvent.html#a9bce005ac2f3686fb66a7d762c3d17e0">LeftRight_t</a> lr, <span class="keyword">const</span> <a class="code" href="classTSiliconEvent.html">TSiliconEvent</a>&amp; si_evt){
<a name="l00110"></a>00110            <a class="code" href="classTMuonEvent.html#af8622317974df6a8c05aee47199edb23">fSiliconHits</a>[lr].push_back(si_evt); 
<a name="l00111"></a>00111         }
<a name="l00112"></a><a class="code" href="classTMuonEvent.html#a0990427477cfb7cb33b4c50a4b72d3c4">00112</a>         <a class="code" href="namespacemodules.html#aecc7811d5380ed9d9e903c9b71a396aa">SiliconHitList::const_iterator</a> <a class="code" href="classTMuonEvent.html#a0990427477cfb7cb33b4c50a4b72d3c4">BeginSiEvents</a>(<a class="code" href="classTMuonEvent.html#a9bce005ac2f3686fb66a7d762c3d17e0">LeftRight_t</a> lr)<span class="keyword">const</span>{ <span class="keywordflow">return</span> <a class="code" href="classTMuonEvent.html#af8622317974df6a8c05aee47199edb23">fSiliconHits</a>[lr].begin();}
<a name="l00113"></a><a class="code" href="classTMuonEvent.html#a23a003b49da899ff5ae65da461275717">00113</a>         <a class="code" href="namespacemodules.html#aecc7811d5380ed9d9e903c9b71a396aa">SiliconHitList::const_iterator</a> <a class="code" href="classTMuonEvent.html#a23a003b49da899ff5ae65da461275717">EndSiEvents</a>(<a class="code" href="classTMuonEvent.html#a9bce005ac2f3686fb66a7d762c3d17e0">LeftRight_t</a> lr)<span class="keyword">const</span>{ <span class="keywordflow">return</span> <a class="code" href="classTMuonEvent.html#af8622317974df6a8c05aee47199edb23">fSiliconHits</a>[lr].end();}
<a name="l00114"></a><a class="code" href="classTMuonEvent.html#aa5dad5ef03c82d2acdfc16199cd110ee">00114</a>         <span class="keywordtype">int</span> <a class="code" href="classTMuonEvent.html#aa5dad5ef03c82d2acdfc16199cd110ee">NumSiHits</a>(<a class="code" href="classTMuonEvent.html#a9bce005ac2f3686fb66a7d762c3d17e0">LeftRight_t</a> lr)<span class="keyword">const</span>{ <span class="keywordflow">return</span> <a class="code" href="classTMuonEvent.html#af8622317974df6a8c05aee47199edb23">fSiliconHits</a>[lr].size();}
<a name="l00115"></a>00115 
<a name="l00116"></a>00116     <span class="keyword">private</span>:
<a name="l00117"></a><a class="code" href="classTMuonEvent.html#a0f7df6e069265397f84bc8afab768a14">00117</a>         <a class="code" href="definitions_8h.html#ab6b36cbc9a3363d8b03d3b9f363c8ced">SourceDetPulseMap</a> <a class="code" href="classTMuonEvent.html#a0f7df6e069265397f84bc8afab768a14">fPulseLists</a>;
<a name="l00118"></a><a class="code" href="classTMuonEvent.html#af8622317974df6a8c05aee47199edb23">00118</a>         <a class="code" href="TSiliconEvent_8h.html#ad2cde229541ab9f74ff27aec955614d0">SiliconHitList</a> <a class="code" href="classTMuonEvent.html#af8622317974df6a8c05aee47199edb23">fSiliconHits</a>[2];
<a name="l00119"></a><a class="code" href="classTMuonEvent.html#a58154eb0db2402438c5e1ed2fd729450">00119</a>         <span class="keyword">const</span> <a class="code" href="classTDetectorPulse.html">TDetectorPulse</a>* <a class="code" href="classTMuonEvent.html#a58154eb0db2402438c5e1ed2fd729450">fCentralMuon</a>;
<a name="l00120"></a><a class="code" href="classTMuonEvent.html#aea21422df76f2bd23f3b73a0b10e432d">00120</a>         <span class="keywordtype">double</span> <a class="code" href="classTMuonEvent.html#aea21422df76f2bd23f3b73a0b10e432d">fWindowWidth</a>;
<a name="l00121"></a><a class="code" href="classTMuonEvent.html#a84de33cdc1a749ec5ddb9d7ec445c0df">00121</a>         <span class="keyword">typedef</span> std::set&lt;IDs::source&gt; <a class="code" href="classTMuonEvent.html#a84de33cdc1a749ec5ddb9d7ec445c0df">SourceSet</a>;
<a name="l00122"></a><a class="code" href="classTMuonEvent.html#a4c672b9c98e70cfbfa412afe4a9a8bc7">00122</a>         <a class="code" href="classTMuonEvent.html#a84de33cdc1a749ec5ddb9d7ec445c0df">SourceSet</a> <a class="code" href="classTMuonEvent.html#a4c672b9c98e70cfbfa412afe4a9a8bc7">fExhaustedChannels</a>;
<a name="l00123"></a>00123 
<a name="l00124"></a>00124     <a class="code" href="classTMuonEvent.html#a6fec632aa13efcf25167a42b82b0ccb6">ClassDef</a>(<a class="code" href="classTMuonEvent.html" title="Single event in the muon centred tree.">TMuonEvent</a>, 1);
<a name="l00125"></a>00125 };
<a name="l00126"></a>00126 <span class="preprocessor">#endif // TMuonEvent_hh_</span>
</pre></div></div>
<hr size="1"/><address style="text-align: right;"><small>Generated on 2 Oct 2015 for AlcapDAQ by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
