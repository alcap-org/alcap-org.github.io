<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>AlcapDAQ: rootana/src/TAP_generators/TemplateFitAPGenerator.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>File&nbsp;Members</span></a></li>
    </ul>
  </div>
<h1>rootana/src/TAP_generators/TemplateFitAPGenerator.h</h1><a href="TemplateFitAPGenerator_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="preprocessor">#ifndef TEMPLATEFITAPGENERATOR_H__</span>
<a name="l00002"></a>00002 <span class="preprocessor"></span><span class="preprocessor">#define TEMPLATEFITAPGENERATOR_H__</span>
<a name="l00003"></a>00003 <span class="preprocessor"></span>
<a name="l00004"></a>00004 <span class="preprocessor">#include &quot;<a class="code" href="TSetupData_8h.html">TSetupData.h</a>&quot;</span>
<a name="l00005"></a>00005 <span class="preprocessor">#include &quot;<a class="code" href="TVAnalysedPulseGenerator_8h.html">TVAnalysedPulseGenerator.h</a>&quot;</span>
<a name="l00006"></a>00006 <span class="preprocessor">#include &quot;<a class="code" href="definitions_8h.html">definitions.h</a>&quot;</span>
<a name="l00007"></a>00007 <span class="preprocessor">#include &quot;<a class="code" href="TemplateArchive_8h.html">TemplateArchive.h</a>&quot;</span>
<a name="l00008"></a>00008 <span class="preprocessor">#include &quot;<a class="code" href="TemplateFitter_8h.html">TemplateFitter.h</a>&quot;</span>
<a name="l00009"></a>00009 <span class="preprocessor">#include &quot;<a class="code" href="TemplateMultiFitter_8h.html">TemplateMultiFitter.h</a>&quot;</span>
<a name="l00010"></a>00010 <span class="preprocessor">#include &quot;<a class="code" href="TTemplate_8h.html">TTemplate.h</a>&quot;</span>
<a name="l00011"></a>00011 <span class="preprocessor">#include &quot;<a class="code" href="TTemplateFitAnalysedPulse_8h.html">TTemplateFitAnalysedPulse.h</a>&quot;</span>
<a name="l00012"></a>00012 <span class="preprocessor">#include &quot;<a class="code" href="TAPAlgorithms_8h.html">TAPAlgorithms.h</a>&quot;</span>
<a name="l00013"></a>00013 
<a name="l00014"></a><a class="code" href="classTemplateFitAPGenerator.html">00014</a> <span class="keyword">class </span><a class="code" href="classTemplateFitAPGenerator.html">TemplateFitAPGenerator</a>:<span class="keyword">public</span> <a class="code" href="classTVAnalysedPulseGenerator.html" title="The intended ancestor of all TAnalysedPulse generators, used to create TAPs from...">TVAnalysedPulseGenerator</a> {
<a name="l00015"></a>00015 
<a name="l00016"></a>00016  <span class="keyword">public</span>:
<a name="l00017"></a>00017     <a class="code" href="classTemplateFitAPGenerator.html#ad270bb02669ba02dc6cb4f1fe8e4a1bd">TemplateFitAPGenerator</a>(<a class="code" href="classTAPGeneratorOptions.html">TAPGeneratorOptions</a>* opts);
<a name="l00018"></a>00018     <span class="keyword">virtual</span> <a class="code" href="classTemplateFitAPGenerator.html#affab9c48f28a07c0b5b0ee229528557b">~TemplateFitAPGenerator</a>();
<a name="l00019"></a>00019 
<a name="l00020"></a>00020  <span class="keyword">public</span>:
<a name="l00021"></a>00021     <span class="keyword">virtual</span> <span class="keywordtype">int</span> <a class="code" href="classTemplateFitAPGenerator.html#a86b0988984b2c639c5aa7fcdaf8b2078" title="This method is called on each vector of pulses from a MIDAS event.">ProcessPulses</a>( <span class="keyword">const</span> <a class="code" href="definitions_8h.html#a3c0940832f8741b0c226a24e3dbd62a8">PulseIslandList</a>&amp;,<a class="code" href="definitions_8h.html#a84eeb2f0ab9f7a76f210530739f1bd1d">AnalysedPulseList</a>&amp;);
<a name="l00022"></a>00022 
<a name="l00023"></a>00023     <span class="comment">// This function should return true if this generator could break up a TPI</span>
<a name="l00024"></a>00024     <span class="comment">// into more than one TAP</span>
<a name="l00025"></a><a class="code" href="classTemplateFitAPGenerator.html#a33cf541db181906f798dc28c79554d87">00025</a>     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="classTemplateFitAPGenerator.html#a33cf541db181906f798dc28c79554d87">MayDivideTPIs</a>(){<span class="keywordflow">return</span> <span class="keyword">true</span>;};
<a name="l00026"></a>00026    
<a name="l00027"></a>00027 
<a name="l00028"></a><a class="code" href="classTemplateFitAPGenerator.html#ae072f44f727f8d6bfe4880db8324aee3">00028</a>     <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="classTemplateFitAPGenerator.html#ae072f44f727f8d6bfe4880db8324aee3">TapType</a>() {
<a name="l00029"></a>00029         <span class="keywordflow">return</span> TTemplateFitAnalysedPulse::Class()-&gt;GetName();
<a name="l00030"></a>00030     }
<a name="l00031"></a>00031 
<a name="l00032"></a>00032   <span class="keyword">private</span>:
<a name="l00033"></a>00033     <span class="keywordtype">bool</span> <a class="code" href="classTemplateFitAPGenerator.html#a2d05ffded14e17f47c46157e630692da">PassesIntegralRatio</a>(<span class="keyword">const</span> <a class="code" href="classTPulseIsland.html" title="A uniform format for data from many different detectors.">TPulseIsland</a>* pulse,<span class="keywordtype">double</span>&amp; integral, <span class="keywordtype">double</span>&amp; ratio)<span class="keyword">const</span>;
<a name="l00034"></a>00034     <span class="keywordtype">bool</span> <a class="code" href="classTemplateFitAPGenerator.html#af5d2025c4a8335b45e22537c9d5b1ee8">RefitWithTwo</a>( TH1D* tpi, <a class="code" href="classTTemplateFitAnalysedPulse.html">TTemplateFitAnalysedPulse</a>*&amp; tap_one, <a class="code" href="classTTemplateFitAnalysedPulse.html">TTemplateFitAnalysedPulse</a>*&amp; tap_two)<span class="keyword">const</span>;
<a name="l00035"></a>00035     <span class="keywordtype">void</span> <a class="code" href="classTemplateFitAPGenerator.html#a9d3c00e22ae56e73e6f7e2ec063ba7cd">InitializeSecondPulse</a>( TH1D* tpi, <span class="keyword">const</span> <a class="code" href="classTTemplateFitAnalysedPulse.html">TTemplateFitAnalysedPulse</a>* tap_one,
<a name="l00036"></a>00036           <span class="keywordtype">int</span>&amp; second_time, <span class="keywordtype">double</span>&amp; second_scale)<span class="keyword">const</span>;
<a name="l00037"></a>00037 
<a name="l00038"></a>00038   <span class="keyword">private</span>:
<a name="l00039"></a><a class="code" href="classTemplateFitAPGenerator.html#a6b5e22fcda8a44bd1de68f6f9e2c5e7f">00039</a>     <span class="keyword">static</span> <a class="code" href="classTemplateArchive.html" title="Utility class that manages reading and writing template histograms to a ROOT file...">TemplateArchive</a>* <a class="code" href="classTemplateFitAPGenerator.html#a6b5e22fcda8a44bd1de68f6f9e2c5e7f">fTemplateArchive</a>;
<a name="l00040"></a><a class="code" href="classTemplateFitAPGenerator.html#aef0743330da79a22feeef6988d94824a">00040</a>     <span class="keyword">static</span> <a class="code" href="classTemplateArchive.html" title="Utility class that manages reading and writing template histograms to a ROOT file...">TemplateArchive</a>* <a class="code" href="classTemplateFitAPGenerator.html#aef0743330da79a22feeef6988d94824a">fTemplateArchive2</a>;
<a name="l00041"></a><a class="code" href="classTemplateFitAPGenerator.html#a40842edbfdf26b8cee806276b5cfeab8">00041</a>     <span class="keywordtype">double</span> <a class="code" href="classTemplateFitAPGenerator.html#a51e5b2a5445129cbee41df268825d0f3">fIntegralMax</a>, <a class="code" href="classTemplateFitAPGenerator.html#a40842edbfdf26b8cee806276b5cfeab8">fIntegralMin</a>;
<a name="l00042"></a><a class="code" href="classTemplateFitAPGenerator.html#a080460ebec8536f1aa4f2ce4807d525e">00042</a>     <span class="keywordtype">double</span> <a class="code" href="classTemplateFitAPGenerator.html#a4dba47521074590e569c485712b5b83a">fIntegralRatioMax</a>, <a class="code" href="classTemplateFitAPGenerator.html#a080460ebec8536f1aa4f2ce4807d525e">fIntegralRatioMin</a>;
<a name="l00043"></a><a class="code" href="classTemplateFitAPGenerator.html#a73d19ee6e4ee0bb0a8a25f53664ded0c">00043</a>     <span class="keywordtype">double</span> <a class="code" href="classTemplateFitAPGenerator.html#aece4b62a9e42cdc454ec126627e3cf96">fTemplateAmp</a>, <a class="code" href="classTemplateFitAPGenerator.html#af27c6212bb2b4e94ad5a05e591c701a8">fTemplatePed</a>, <a class="code" href="classTemplateFitAPGenerator.html#a73d19ee6e4ee0bb0a8a25f53664ded0c">fTemplateTime</a>;
<a name="l00044"></a><a class="code" href="classTemplateFitAPGenerator.html#a0b8db67b10f7211ca99011032a2b77e8">00044</a>     <span class="keywordtype">double</span> <a class="code" href="classTemplateFitAPGenerator.html#ac96a54a68c460895c16e7aba616da48b">fTemplate2Amp</a>, <a class="code" href="classTemplateFitAPGenerator.html#a8e96d932da6558a34d5c840fbc4ad3e8">fTemplate2Ped</a>, <a class="code" href="classTemplateFitAPGenerator.html#a0b8db67b10f7211ca99011032a2b77e8">fTemplate2Time</a>;
<a name="l00045"></a><a class="code" href="classTemplateFitAPGenerator.html#a6da22d635cc6dbc7afc119860e7fa35d">00045</a>     <span class="keywordtype">double</span> <a class="code" href="classTemplateFitAPGenerator.html#a6da22d635cc6dbc7afc119860e7fa35d">fInitPedestal</a>;
<a name="l00046"></a><a class="code" href="classTemplateFitAPGenerator.html#a8b9c20f78a2c167cac28676f3e2a19f1">00046</a>     <span class="keywordtype">double</span> <a class="code" href="classTemplateFitAPGenerator.html#a8b9c20f78a2c167cac28676f3e2a19f1">fChi2MinToRefit</a>;
<a name="l00047"></a><a class="code" href="classTemplateFitAPGenerator.html#a207d154a228f36c28291569f2f23cabd">00047</a>     <a class="code" href="classTTemplate.html">TTemplate</a>* <a class="code" href="classTemplateFitAPGenerator.html#a207d154a228f36c28291569f2f23cabd">fTemplate</a>;
<a name="l00048"></a><a class="code" href="classTemplateFitAPGenerator.html#a24a8e263f2498c74eb5b9e99036339bd">00048</a>     <a class="code" href="classTTemplate.html">TTemplate</a>* <a class="code" href="classTemplateFitAPGenerator.html#a24a8e263f2498c74eb5b9e99036339bd">fTemplate2</a>;
<a name="l00049"></a><a class="code" href="classTemplateFitAPGenerator.html#a21eb666c51850b12ee011833acb687f1">00049</a>     <a class="code" href="classTemplateMultiFitter.html">TemplateMultiFitter</a>* <a class="code" href="classTemplateFitAPGenerator.html#a21eb666c51850b12ee011833acb687f1">fFitter</a>;
<a name="l00050"></a><a class="code" href="classTemplateFitAPGenerator.html#aeab1f95005537aed6ee42a4ad3fb5376">00050</a>     <a class="code" href="classTemplateMultiFitter.html">TemplateMultiFitter</a>* <a class="code" href="classTemplateFitAPGenerator.html#aeab1f95005537aed6ee42a4ad3fb5376">fDoubleFitter</a>;
<a name="l00051"></a><a class="code" href="classTemplateFitAPGenerator.html#aa06df351fb54c912d291e7a23a231594">00051</a>     <a class="code" href="structAlgorithm_1_1IntegralRatio.html">Algorithm::IntegralRatio</a>* <a class="code" href="classTemplateFitAPGenerator.html#aa06df351fb54c912d291e7a23a231594">fIntegralRatio</a>;
<a name="l00052"></a><a class="code" href="classTemplateFitAPGenerator.html#a626ce07524755854b75b2774ebc33b5f">00052</a>     <a class="code" href="structAlgorithm_1_1MaxBinAmplitude.html">Algorithm::MaxBinAmplitude</a> <a class="code" href="classTemplateFitAPGenerator.html#a626ce07524755854b75b2774ebc33b5f">fMaxBin</a>;
<a name="l00053"></a>00053 
<a name="l00054"></a>00054 };
<a name="l00055"></a>00055 
<a name="l00056"></a>00056 <span class="preprocessor">#endif //TEMPLATEFITAPGENERATOR_H__</span>
</pre></div></div>
<hr size="1"/><address style="text-align: right;"><small>Generated on 29 Apr 2015 for AlcapDAQ by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
