<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>AlcapDAQ:Rootana: cmKey Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li><a href="classes.html"><span>Data&nbsp;Structure&nbsp;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Data&nbsp;Fields</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>cmKey Class Reference</h1><!-- doxytag: class="cmKey" -->
<p><code>#include &lt;<a class="el" href="cmKey_8h_source.html">cmKey.h</a>&gt;</code></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcmKey.html#af6a7a3df7c3a5921a970ea63f1de3122">cmKey</a> (<a class="el" href="classcmExperiment.html">cmExperiment</a> *pExperiment, QString *strKeyName)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcmKey.html#a4fefc47c0fd6cf8777fc01813fb000c9">cmKey</a> (<a class="el" href="classcmKey.html">cmKey</a> *pRootKey, QString *strKeyName)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcmKey.html#abb1a37a21ece0f78696f13b74ccbae43">~cmKey</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__midasincludecode.html#ga0e1bcf128ad8422667adffd1dea59791">HNDLE</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcmKey.html#a09d804e8e10ca52eba22440bc36fde63">GetHdb</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns the Main handle of the ODB.  <a href="#a09d804e8e10ca52eba22440bc36fde63"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__midasincludecode.html#ga0e1bcf128ad8422667adffd1dea59791">HNDLE</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcmKey.html#af08ca112fa0290031939e66a20b2d4c8">GetHkey</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns the key.  <a href="#af08ca112fa0290031939e66a20b2d4c8"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__midasincludecode.html#ga239c7f0d40651c3e419c5b9651507d14">BOOL</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcmKey.html#abe5d595364f53f919a9a133dee313bed">IsValid</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns if the searched key is accessible or existing.  <a href="#abe5d595364f53f919a9a133dee313bed"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__midasincludecode.html#ga392e62da233ed3e2f7c3fd4f487a3896">INT</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcmKey.html#a55479141d5c517ded321f2402b376bff">GetType</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns the type of the key.  <a href="#a55479141d5c517ded321f2402b376bff"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__midasincludecode.html#ga392e62da233ed3e2f7c3fd4f487a3896">INT</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcmKey.html#a611d1bb5b5c23fc0c412101d9d5f8277">GetItemSize</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns the item size of the key.  <a href="#a611d1bb5b5c23fc0c412101d9d5f8277"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="unionWORD.html">WORD</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcmKey.html#a7830b6627e14b6802e3406d6cd06adc6">GetAccessMode</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns the access mode of the key.  <a href="#a7830b6627e14b6802e3406d6cd06adc6"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__midasincludecode.html#ga392e62da233ed3e2f7c3fd4f487a3896">INT</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcmKey.html#a3b773fd6320e045bef2eb850e8f6c78b">GetNumValues</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns the number of elements contained in the key.  <a href="#a3b773fd6320e045bef2eb850e8f6c78b"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__midasincludecode.html#ga392e62da233ed3e2f7c3fd4f487a3896">INT</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcmKey.html#aecc64c85be642cf8b20e489df7b90590">UpdateKey</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__midasincludecode.html#ga392e62da233ed3e2f7c3fd4f487a3896">INT</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcmKey.html#a5ba98efc7484b4f9d904c382e4b01a98">HotLink</a> (void *addr, <a class="el" href="unionWORD.html">WORD</a> access, void(*dispatcher)(<a class="el" href="group__midasincludecode.html#ga392e62da233ed3e2f7c3fd4f487a3896">INT</a>, <a class="el" href="group__midasincludecode.html#ga392e62da233ed3e2f7c3fd4f487a3896">INT</a>, void *), void *window)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__midasincludecode.html#ga392e62da233ed3e2f7c3fd4f487a3896">INT</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcmKey.html#aa4154cf82855727824da284dba17cc6b">Unlink</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__midasincludecode.html#ga392e62da233ed3e2f7c3fd4f487a3896">INT</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcmKey.html#ad53e2b62dd2e7b29c8c5673e354aaa7b">GetData</a> (void *<a class="el" href="mana_8cpp.html#a735984d41155bc1032e09bece8f8d66d">data</a>, <a class="el" href="group__midasincludecode.html#ga392e62da233ed3e2f7c3fd4f487a3896">INT</a> *size, <a class="el" href="midas_2include_2mvmestd_8h.html#a408a2366473807fbe658ba18e75dea66">DWORD</a> <a class="el" href="mana_8cpp.html#a9a59b4d9fa62abe25a78cc38137ffd8e">type</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__midasincludecode.html#ga392e62da233ed3e2f7c3fd4f487a3896">INT</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcmKey.html#a470021c4c56c4174d2053cd7e5dc0e4b">SetData</a> (void *<a class="el" href="mana_8cpp.html#a735984d41155bc1032e09bece8f8d66d">data</a>, <a class="el" href="group__midasincludecode.html#ga392e62da233ed3e2f7c3fd4f487a3896">INT</a> num_values, <a class="el" href="midas_2include_2mvmestd_8h.html#a408a2366473807fbe658ba18e75dea66">DWORD</a> <a class="el" href="mana_8cpp.html#a9a59b4d9fa62abe25a78cc38137ffd8e">type</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__midasincludecode.html#ga392e62da233ed3e2f7c3fd4f487a3896">INT</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcmKey.html#aa6edee37cc862a2414d1cde4c789ea09">SetDataIndex</a> (void *<a class="el" href="mana_8cpp.html#a735984d41155bc1032e09bece8f8d66d">data</a>, <a class="el" href="group__midasincludecode.html#ga392e62da233ed3e2f7c3fd4f487a3896">INT</a> <a class="el" href="mana_8cpp.html#a312c2cad451d6bb0536fb9ec2863be59">index</a>, <a class="el" href="midas_2include_2mvmestd_8h.html#a408a2366473807fbe658ba18e75dea66">DWORD</a> <a class="el" href="mana_8cpp.html#a9a59b4d9fa62abe25a78cc38137ffd8e">type</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="midas_2include_2mvmestd_8h.html#a408a2366473807fbe658ba18e75dea66">DWORD</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcmKey.html#a4ae0086d35a7955a7491637f3c3ef157">GetKeyTime</a> ()</td></tr>
<tr><td colspan="2"><h2>Private Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__midasincludecode.html#ga0e1bcf128ad8422667adffd1dea59791">HNDLE</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcmKey.html#aa2cd5e636f57d273a7f677103d47c552">m_hDB</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Main handle to the ODB of MIDAS.  <a href="#aa2cd5e636f57d273a7f677103d47c552"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__midasincludecode.html#ga0e1bcf128ad8422667adffd1dea59791">HNDLE</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcmKey.html#ae4c28ce66ef23a34cef585695b3070e5">m_hKey</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Handle to a key in the ODB.  <a href="#ae4c28ce66ef23a34cef585695b3070e5"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__midasincludecode.html#ga239c7f0d40651c3e419c5b9651507d14">BOOL</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcmKey.html#abe8c64ac3129996279d651aaa9c94a79">m_bValid</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Validator flag, showing if the searched key is accessible or existing.  <a href="#abe8c64ac3129996279d651aaa9c94a79"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="structKEY.html">KEY</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcmKey.html#a0ca6bb32e2a55d8d920a6c261b1eed5e">m_Key</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">MIDAS Structure to the key. Holding informations about the content of the key.  <a href="#a0ca6bb32e2a55d8d920a6c261b1eed5e"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classcmExperiment.html">cmExperiment</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcmKey.html#a0424b16729ea291c7fe78ef366d6fb5d">m_pExperiment</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Pointer to a MIDAS experiment object.  <a href="#a0424b16729ea291c7fe78ef366d6fb5d"></a><br/></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>

<p>Definition at line <a class="el" href="cmKey_8h_source.html#l00050">50</a> of file <a class="el" href="cmKey_8h_source.html">cmKey.h</a>.</p>
<hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="af6a7a3df7c3a5921a970ea63f1de3122"></a><!-- doxytag: member="cmKey::cmKey" ref="af6a7a3df7c3a5921a970ea63f1de3122" args="(cmExperiment *pExperiment, QString *strKeyName)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">cmKey::cmKey </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classcmExperiment.html">cmExperiment</a> *&nbsp;</td>
          <td class="paramname"> <em>pExperiment</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">QString *&nbsp;</td>
          <td class="paramname"> <em>strKeyName</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Constructs a <a class="el" href="classcmKey.html">cmKey</a> object, linked to a MIDAS experiment. It is used to establish the main entry key for all the other ones.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>pExperiment</em>&nbsp;</td><td>Pointer to a MIDAS experiment object, i.e. the connection to this experiment is already established (see <a class="el" href="classcmExperiment.html">cmExperiment</a>). </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>strKeyName</em>&nbsp;</td><td>Name of the key in the ODB, which one wants to link to. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="cmKey_8cpp_source.html#l00056">56</a> of file <a class="el" href="cmKey_8cpp_source.html">cmKey.cpp</a>.</p>

<p>References <a class="el" href="group__msectionh.html#ga2c6408e2f225703c9a666a2ab23d7680">db_find_key()</a>, <a class="el" href="group__msectionh.html#gab97e8d856c8089519a59d3e44c0c4e65">db_get_key()</a>, <a class="el" href="midas_8h_source.html#l01001">DB_SUCCESS</a>, <a class="el" href="cmExperiment_8h_source.html#l00093">cmExperiment::GetHdb()</a>, <a class="el" href="cmKey_8h_source.html#l00061">m_bValid</a>, <a class="el" href="cmKey_8h_source.html#l00059">m_hDB</a>, <a class="el" href="cmKey_8h_source.html#l00060">m_hKey</a>, <a class="el" href="cmKey_8h_source.html#l00062">m_Key</a>, and <a class="el" href="cmKey_8h_source.html#l00063">m_pExperiment</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00057"></a>00057 {
<a name="l00058"></a>00058   <a class="code" href="classcmKey.html#a0424b16729ea291c7fe78ef366d6fb5d" title="Pointer to a MIDAS experiment object.">m_pExperiment</a> = pExperiment;   <span class="comment">// pointer to the experiment</span>
<a name="l00059"></a>00059   <a class="code" href="classcmKey.html#aa2cd5e636f57d273a7f677103d47c552" title="Main handle to the ODB of MIDAS.">m_hDB</a> = pExperiment-&gt;<a class="code" href="classcmExperiment.html#a3b4b6dba216aabcb222a3a666e10bed7" title="Returns the main MIDAS handle to the ODB.">GetHdb</a>(); <span class="comment">// handle to the ODB</span>
<a name="l00060"></a>00060   <a class="code" href="classcmKey.html#abe8c64ac3129996279d651aaa9c94a79" title="Validator flag, showing if the searched key is accessible or existing.">m_bValid</a> = (<a class="code" href="group__msectionh.html#ga2c6408e2f225703c9a666a2ab23d7680">db_find_key</a>(<a class="code" href="classcmKey.html#aa2cd5e636f57d273a7f677103d47c552" title="Main handle to the ODB of MIDAS.">m_hDB</a>, 0, (<span class="keywordtype">char</span> *)strKeyName-&gt;ascii(), &amp;<a class="code" href="classcmKey.html#ae4c28ce66ef23a34cef585695b3070e5" title="Handle to a key in the ODB.">m_hKey</a>) == <a class="code" href="group__err23.html#ga4d6ab4d32144d851ddeb7931b81a63e3">DB_SUCCESS</a>);
<a name="l00061"></a>00061   <span class="keywordflow">if</span> (<a class="code" href="classcmKey.html#abe8c64ac3129996279d651aaa9c94a79" title="Validator flag, showing if the searched key is accessible or existing.">m_bValid</a>) {
<a name="l00062"></a>00062     <a class="code" href="group__msectionh.html#gab97e8d856c8089519a59d3e44c0c4e65">db_get_key</a>(<a class="code" href="classcmKey.html#aa2cd5e636f57d273a7f677103d47c552" title="Main handle to the ODB of MIDAS.">m_hDB</a>, <a class="code" href="classcmKey.html#ae4c28ce66ef23a34cef585695b3070e5" title="Handle to a key in the ODB.">m_hKey</a>, &amp;<a class="code" href="classcmKey.html#a0ca6bb32e2a55d8d920a6c261b1eed5e" title="MIDAS Structure to the key. Holding informations about the content of the key.">m_Key</a>);
<a name="l00063"></a>00063   } <span class="keywordflow">else</span> {
<a name="l00064"></a>00064     QMessageBox::warning(0, <span class="stringliteral">&quot;MIDAS&quot;</span>, <span class="stringliteral">&quot;Cannot find &quot;</span> + *strKeyName + <span class="stringliteral">&quot; entry in online database&quot;</span>,
<a name="l00065"></a>00065                          QMessageBox::Ok, QMessageBox::NoButton);
<a name="l00066"></a>00066   }
<a name="l00067"></a>00067 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a4fefc47c0fd6cf8777fc01813fb000c9"></a><!-- doxytag: member="cmKey::cmKey" ref="a4fefc47c0fd6cf8777fc01813fb000c9" args="(cmKey *pRootKey, QString *strKeyName)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">cmKey::cmKey </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classcmKey.html">cmKey</a> *&nbsp;</td>
          <td class="paramname"> <em>pRootKey</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">QString *&nbsp;</td>
          <td class="paramname"> <em>strKeyName</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Constructs a <a class="el" href="classcmKey.html">cmKey</a> object, linked to a MIDAS experiment. It is used to establish a hot-link to a <em>specific</em> sub-key.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>pRootKey</em>&nbsp;</td><td>Pointer to the root key. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>strKeyName</em>&nbsp;</td><td>Name of the key in the ODB, which one wants to link to. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="cmKey_8cpp_source.html#l00076">76</a> of file <a class="el" href="cmKey_8cpp_source.html">cmKey.cpp</a>.</p>

<p>References <a class="el" href="group__msectionh.html#ga2c6408e2f225703c9a666a2ab23d7680">db_find_key()</a>, <a class="el" href="group__msectionh.html#gab97e8d856c8089519a59d3e44c0c4e65">db_get_key()</a>, <a class="el" href="midas_8h_source.html#l01001">DB_SUCCESS</a>, <a class="el" href="cmKey_8h_source.html#l00068">GetHdb()</a>, <a class="el" href="cmKey_8h_source.html#l00072">GetHkey()</a>, <a class="el" href="cmKey_8h_source.html#l00061">m_bValid</a>, <a class="el" href="cmKey_8h_source.html#l00059">m_hDB</a>, <a class="el" href="cmKey_8h_source.html#l00060">m_hKey</a>, <a class="el" href="cmKey_8h_source.html#l00062">m_Key</a>, and <a class="el" href="cmKey_8h_source.html#l00063">m_pExperiment</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00077"></a>00077 {
<a name="l00078"></a>00078   <a class="code" href="classcmKey.html#a0424b16729ea291c7fe78ef366d6fb5d" title="Pointer to a MIDAS experiment object.">m_pExperiment</a> = pRootKey-&gt;<a class="code" href="classcmKey.html#a0424b16729ea291c7fe78ef366d6fb5d" title="Pointer to a MIDAS experiment object.">m_pExperiment</a>; <span class="comment">// pointer to the experiment</span>
<a name="l00079"></a>00079   <a class="code" href="classcmKey.html#aa2cd5e636f57d273a7f677103d47c552" title="Main handle to the ODB of MIDAS.">m_hDB</a> = pRootKey-&gt;<a class="code" href="classcmKey.html#a09d804e8e10ca52eba22440bc36fde63" title="Returns the Main handle of the ODB.">GetHdb</a>();              <span class="comment">// handle to the ODB</span>
<a name="l00080"></a>00080   <a class="code" href="classcmKey.html#abe8c64ac3129996279d651aaa9c94a79" title="Validator flag, showing if the searched key is accessible or existing.">m_bValid</a> = (<a class="code" href="group__msectionh.html#ga2c6408e2f225703c9a666a2ab23d7680">db_find_key</a>(<a class="code" href="classcmKey.html#aa2cd5e636f57d273a7f677103d47c552" title="Main handle to the ODB of MIDAS.">m_hDB</a>, pRootKey-&gt;<a class="code" href="classcmKey.html#af08ca112fa0290031939e66a20b2d4c8" title="Returns the key.">GetHkey</a>(),
<a name="l00081"></a>00081                           (<span class="keywordtype">char</span> *)strKeyName-&gt;ascii(), &amp;<a class="code" href="classcmKey.html#ae4c28ce66ef23a34cef585695b3070e5" title="Handle to a key in the ODB.">m_hKey</a>) == <a class="code" href="group__err23.html#ga4d6ab4d32144d851ddeb7931b81a63e3">DB_SUCCESS</a>);
<a name="l00082"></a>00082   <span class="keywordflow">if</span> (<a class="code" href="classcmKey.html#abe8c64ac3129996279d651aaa9c94a79" title="Validator flag, showing if the searched key is accessible or existing.">m_bValid</a>) {
<a name="l00083"></a>00083     <a class="code" href="group__msectionh.html#gab97e8d856c8089519a59d3e44c0c4e65">db_get_key</a>(<a class="code" href="classcmKey.html#aa2cd5e636f57d273a7f677103d47c552" title="Main handle to the ODB of MIDAS.">m_hDB</a>, <a class="code" href="classcmKey.html#ae4c28ce66ef23a34cef585695b3070e5" title="Handle to a key in the ODB.">m_hKey</a>, &amp;<a class="code" href="classcmKey.html#a0ca6bb32e2a55d8d920a6c261b1eed5e" title="MIDAS Structure to the key. Holding informations about the content of the key.">m_Key</a>);
<a name="l00084"></a>00084   } <span class="keywordflow">else</span> {
<a name="l00085"></a>00085     QMessageBox::warning(0, <span class="stringliteral">&quot;MIDAS&quot;</span>, <span class="stringliteral">&quot;Cannot find &quot;</span> + *strKeyName + <span class="stringliteral">&quot; entry in online database&quot;</span>,
<a name="l00086"></a>00086                          QMessageBox::Ok, QMessageBox::NoButton);
<a name="l00087"></a>00087   }
<a name="l00088"></a>00088 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="abb1a37a21ece0f78696f13b74ccbae43"></a><!-- doxytag: member="cmKey::~cmKey" ref="abb1a37a21ece0f78696f13b74ccbae43" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">cmKey::~cmKey </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Destroys the object. </p>

<p>Definition at line <a class="el" href="cmKey_8cpp_source.html#l00094">94</a> of file <a class="el" href="cmKey_8cpp_source.html">cmKey.cpp</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00095"></a>00095 {
<a name="l00096"></a>00096 }
</pre></div></p>

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a7830b6627e14b6802e3406d6cd06adc6"></a><!-- doxytag: member="cmKey::GetAccessMode" ref="a7830b6627e14b6802e3406d6cd06adc6" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="unionWORD.html">WORD</a> cmKey::GetAccessMode </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns the access mode of the key. </p>

<p>Definition at line <a class="el" href="cmKey_8h_source.html#l00088">88</a> of file <a class="el" href="cmKey_8h_source.html">cmKey.h</a>.</p>

<p>References <a class="el" href="midas_8h_source.html#l01321">KEY::access_mode</a>, and <a class="el" href="cmKey_8h_source.html#l00062">m_Key</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00088"></a>00088                         {
<a name="l00089"></a>00089       <span class="keywordflow">return</span> <a class="code" href="classcmKey.html#a0ca6bb32e2a55d8d920a6c261b1eed5e" title="MIDAS Structure to the key. Holding informations about the content of the key.">m_Key</a>.<a class="code" href="group__midasincludecode.html#ga68512ae899ef674617e67dbe51a71c7a">access_mode</a>;
<a name="l00090"></a>00090    };
</pre></div></p>

</div>
</div>
<a class="anchor" id="ad53e2b62dd2e7b29c8c5673e354aaa7b"></a><!-- doxytag: member="cmKey::GetData" ref="ad53e2b62dd2e7b29c8c5673e354aaa7b" args="(void *data, INT *size, DWORD type)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__midasincludecode.html#ga392e62da233ed3e2f7c3fd4f487a3896">INT</a> cmKey::GetData </td>
          <td>(</td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__midasincludecode.html#ga392e62da233ed3e2f7c3fd4f487a3896">INT</a> *&nbsp;</td>
          <td class="paramname"> <em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="midas_2include_2mvmestd_8h.html#a408a2366473807fbe658ba18e75dea66">DWORD</a>&nbsp;</td>
          <td class="paramname"> <em>type</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>The function returns single values or whole arrays which are contained in an ODB key. Since the data buffer is of type void, no type checking can be performed by the compiler. Therefore the type has to be explicitly supplied, which is checked against the type stored in the ODB.</p>
<p><b>Return:</b></p>
<ul>
<li>DB_SUCCESS on successful completion.</li>
<li>DB_INVALID_HANDLE if ODB or key is invalid.</li>
<li>DB_TRUNCATED if there is a size mismatch between the local structure and the ODB.</li>
<li>DB_TYPE_MISMATCH if there is a type discrepancy between the local structure and the ODB.</li>
</ul>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>data</em>&nbsp;</td><td>Pointer to the data structure. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>size</em>&nbsp;</td><td>Size of data buffer. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>type</em>&nbsp;</td><td>Type of key, one of TID_xxx (see MIDAS documentation) </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="cmKey_8cpp_source.html#l00170">170</a> of file <a class="el" href="cmKey_8cpp_source.html">cmKey.cpp</a>.</p>

<p>References <a class="el" href="group__msectionh.html#gad6e53374f24813cdba8713781683c556">db_get_data()</a>, <a class="el" href="cmKey_8h_source.html#l00059">m_hDB</a>, and <a class="el" href="cmKey_8h_source.html#l00060">m_hKey</a>.</p>

<p>Referenced by <a class="el" href="Qt__hvEdit_8cpp_source.html#l01512">Qt_hvEdit::updateODB_currentLimit()</a>, and <a class="el" href="Qt__hvEdit_8cpp_source.html#l01486">Qt_hvEdit::updateODB_demand()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00171"></a>00171 {
<a name="l00172"></a>00172   <span class="keywordflow">return</span> <a class="code" href="group__msectionh.html#gad6e53374f24813cdba8713781683c556">db_get_data</a>(<a class="code" href="classcmKey.html#aa2cd5e636f57d273a7f677103d47c552" title="Main handle to the ODB of MIDAS.">m_hDB</a>, <a class="code" href="classcmKey.html#ae4c28ce66ef23a34cef585695b3070e5" title="Handle to a key in the ODB.">m_hKey</a>, <a class="code" href="mana_8cpp.html#a735984d41155bc1032e09bece8f8d66d">data</a>, size, <a class="code" href="mana_8cpp.html#a9a59b4d9fa62abe25a78cc38137ffd8e">type</a>);
<a name="l00173"></a>00173 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a09d804e8e10ca52eba22440bc36fde63"></a><!-- doxytag: member="cmKey::GetHdb" ref="a09d804e8e10ca52eba22440bc36fde63" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__midasincludecode.html#ga0e1bcf128ad8422667adffd1dea59791">HNDLE</a> cmKey::GetHdb </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns the Main handle of the ODB. </p>

<p>Definition at line <a class="el" href="cmKey_8h_source.html#l00068">68</a> of file <a class="el" href="cmKey_8h_source.html">cmKey.h</a>.</p>

<p>References <a class="el" href="cmKey_8h_source.html#l00059">m_hDB</a>.</p>

<p>Referenced by <a class="el" href="cmKey_8cpp_source.html#l00076">cmKey()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00068"></a>00068                    {
<a name="l00069"></a>00069       <span class="keywordflow">return</span> <a class="code" href="classcmKey.html#aa2cd5e636f57d273a7f677103d47c552" title="Main handle to the ODB of MIDAS.">m_hDB</a>;
<a name="l00070"></a>00070    };
</pre></div></p>

</div>
</div>
<a class="anchor" id="af08ca112fa0290031939e66a20b2d4c8"></a><!-- doxytag: member="cmKey::GetHkey" ref="af08ca112fa0290031939e66a20b2d4c8" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__midasincludecode.html#ga0e1bcf128ad8422667adffd1dea59791">HNDLE</a> cmKey::GetHkey </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns the key. </p>

<p>Definition at line <a class="el" href="cmKey_8h_source.html#l00072">72</a> of file <a class="el" href="cmKey_8h_source.html">cmKey.h</a>.</p>

<p>References <a class="el" href="cmKey_8h_source.html#l00060">m_hKey</a>.</p>

<p>Referenced by <a class="el" href="cmKey_8cpp_source.html#l00076">cmKey()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00072"></a>00072                    {
<a name="l00073"></a>00073       <span class="keywordflow">return</span> <a class="code" href="classcmKey.html#ae4c28ce66ef23a34cef585695b3070e5" title="Handle to a key in the ODB.">m_hKey</a>;
<a name="l00074"></a>00074    };
</pre></div></p>

</div>
</div>
<a class="anchor" id="a611d1bb5b5c23fc0c412101d9d5f8277"></a><!-- doxytag: member="cmKey::GetItemSize" ref="a611d1bb5b5c23fc0c412101d9d5f8277" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__midasincludecode.html#ga392e62da233ed3e2f7c3fd4f487a3896">INT</a> cmKey::GetItemSize </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns the item size of the key. </p>

<p>Definition at line <a class="el" href="cmKey_8h_source.html#l00084">84</a> of file <a class="el" href="cmKey_8h_source.html">cmKey.h</a>.</p>

<p>References <a class="el" href="midas_8h_source.html#l01320">KEY::item_size</a>, and <a class="el" href="cmKey_8h_source.html#l00062">m_Key</a>.</p>

<p>Referenced by <a class="el" href="Qt__hvEdit_8cpp_source.html#l00190">Qt_hvEdit::updateChannelDefinitions()</a>, and <a class="el" href="Qt__hvEdit_8cpp_source.html#l00289">Qt_hvEdit::updateTable()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00084"></a>00084                      {
<a name="l00085"></a>00085       <span class="keywordflow">return</span> <a class="code" href="classcmKey.html#a0ca6bb32e2a55d8d920a6c261b1eed5e" title="MIDAS Structure to the key. Holding informations about the content of the key.">m_Key</a>.<a class="code" href="group__midasincludecode.html#gacd1951fdb8bf0dec79ef833f6dec9276">item_size</a>;
<a name="l00086"></a>00086    };
</pre></div></p>

</div>
</div>
<a class="anchor" id="a4ae0086d35a7955a7491637f3c3ef157"></a><!-- doxytag: member="cmKey::GetKeyTime" ref="a4ae0086d35a7955a7491637f3c3ef157" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="midas_2include_2mvmestd_8h.html#a408a2366473807fbe658ba18e75dea66">DWORD</a> cmKey::GetKeyTime </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Returns the time in seconds, when the key was last time modified.</p>
<p><b>Return:</b> Time when key was last time modified. </p>

<p>Definition at line <a class="el" href="cmKey_8cpp_source.html#l00220">220</a> of file <a class="el" href="cmKey_8cpp_source.html">cmKey.cpp</a>.</p>

<p>References <a class="el" href="group__msectionh.html#gab88340d8b3bd21153346a90aeeead25c">db_get_key_time()</a>, <a class="el" href="cmKey_8h_source.html#l00059">m_hDB</a>, and <a class="el" href="cmKey_8h_source.html#l00060">m_hKey</a>.</p>

<p>Referenced by <a class="el" href="Qt__hvEdit_8cpp_source.html#l00289">Qt_hvEdit::updateTable()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00221"></a>00221 {
<a name="l00222"></a>00222   <a class="code" href="group__mvmestdinclude.html#ga798af1e30bc65f319c1a246cecf59e39">DWORD</a> delta;
<a name="l00223"></a>00223 
<a name="l00224"></a>00224   <a class="code" href="group__msectionh.html#gab88340d8b3bd21153346a90aeeead25c">db_get_key_time</a>(<a class="code" href="classcmKey.html#aa2cd5e636f57d273a7f677103d47c552" title="Main handle to the ODB of MIDAS.">m_hDB</a>, <a class="code" href="classcmKey.html#ae4c28ce66ef23a34cef585695b3070e5" title="Handle to a key in the ODB.">m_hKey</a>, &amp;delta);
<a name="l00225"></a>00225   <span class="keywordflow">return</span> delta;
<a name="l00226"></a>00226 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a3b773fd6320e045bef2eb850e8f6c78b"></a><!-- doxytag: member="cmKey::GetNumValues" ref="a3b773fd6320e045bef2eb850e8f6c78b" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__midasincludecode.html#ga392e62da233ed3e2f7c3fd4f487a3896">INT</a> cmKey::GetNumValues </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns the number of elements contained in the key. </p>

<p>Definition at line <a class="el" href="cmKey_8h_source.html#l00092">92</a> of file <a class="el" href="cmKey_8h_source.html">cmKey.h</a>.</p>

<p>References <a class="el" href="cmKey_8h_source.html#l00062">m_Key</a>, and <a class="el" href="midas_8h_source.html#l01316">KEY::num_values</a>.</p>

<p>Referenced by <a class="el" href="Qt__hvEdit_8cpp_source.html#l00190">Qt_hvEdit::updateChannelDefinitions()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00092"></a>00092                       {
<a name="l00093"></a>00093       <span class="keywordflow">return</span> <a class="code" href="classcmKey.html#a0ca6bb32e2a55d8d920a6c261b1eed5e" title="MIDAS Structure to the key. Holding informations about the content of the key.">m_Key</a>.<a class="code" href="group__midasincludecode.html#ga2604fa0fc38ce19b011785f806185a02">num_values</a>;
<a name="l00094"></a>00094    };
</pre></div></p>

</div>
</div>
<a class="anchor" id="a55479141d5c517ded321f2402b376bff"></a><!-- doxytag: member="cmKey::GetType" ref="a55479141d5c517ded321f2402b376bff" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__midasincludecode.html#ga392e62da233ed3e2f7c3fd4f487a3896">INT</a> cmKey::GetType </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns the type of the key. </p>

<p>Definition at line <a class="el" href="cmKey_8h_source.html#l00080">80</a> of file <a class="el" href="cmKey_8h_source.html">cmKey.h</a>.</p>

<p>References <a class="el" href="cmKey_8h_source.html#l00062">m_Key</a>, and <a class="el" href="midas_8h_source.html#l01315">KEY::type</a>.</p>

<p>Referenced by <a class="el" href="Qt__hvEdit_8cpp_source.html#l00190">Qt_hvEdit::updateChannelDefinitions()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00080"></a>00080                  {
<a name="l00081"></a>00081       <span class="keywordflow">return</span> <a class="code" href="classcmKey.html#a0ca6bb32e2a55d8d920a6c261b1eed5e" title="MIDAS Structure to the key. Holding informations about the content of the key.">m_Key</a>.<a class="code" href="structKEY.html#a3360f9082d5083ea144f093d0cd774e3">type</a>;
<a name="l00082"></a>00082    };
</pre></div></p>

</div>
</div>
<a class="anchor" id="a5ba98efc7484b4f9d904c382e4b01a98"></a><!-- doxytag: member="cmKey::HotLink" ref="a5ba98efc7484b4f9d904c382e4b01a98" args="(void *addr, WORD access, void(*dispatcher)(INT, INT, void *), void *window)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__midasincludecode.html#ga392e62da233ed3e2f7c3fd4f487a3896">INT</a> cmKey::HotLink </td>
          <td>(</td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="unionWORD.html">WORD</a>&nbsp;</td>
          <td class="paramname"> <em>access</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void(*)(<a class="el" href="group__midasincludecode.html#ga392e62da233ed3e2f7c3fd4f487a3896">INT</a>, <a class="el" href="group__midasincludecode.html#ga392e62da233ed3e2f7c3fd4f487a3896">INT</a>, void *)&nbsp;</td>
          <td class="paramname"> <em>dispatcher</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>window</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Establishes a hot-link between a local data structure and the ODB, i.e. everytime this structure is changed in the ODB, it is automatically propageted to the structure and vice versa. Further is starts the cyclic timer needed for the MIDAS watch-dog process.</p>
<p><b>Return:</b></p>
<ul>
<li>DB_SUCCESS on successful completion.</li>
<li>DB_INVALID_HANDLE if ODB or key is invalid.</li>
<li>DB_STRUCT_SIZE_MISMATCH if the structure size doesn't match the sub-tree size</li>
<li>DB_NO_ACCESS if there is no READ/WRITE access to the sub-tree</li>
</ul>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>addr</em>&nbsp;</td><td>Address of the local structure to which a hot-link shall be established. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>access</em>&nbsp;</td><td>Access flags for this hot-link. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>dispatcher</em>&nbsp;</td><td>Callback function which is called, if the entries in the ODB have changed. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>window</em>&nbsp;</td><td>Pointer to the ... </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="cmKey_8cpp_source.html#l00131">131</a> of file <a class="el" href="cmKey_8cpp_source.html">cmKey.cpp</a>.</p>

<p>References <a class="el" href="group__msectionh.html#ga3495173a9725dc8c44167b71560aa290">db_open_record()</a>, <a class="el" href="cmKey_8h_source.html#l00059">m_hDB</a>, <a class="el" href="cmKey_8h_source.html#l00060">m_hKey</a>, <a class="el" href="cmKey_8h_source.html#l00062">m_Key</a>, <a class="el" href="cmKey_8h_source.html#l00063">m_pExperiment</a>, <a class="el" href="cmExperiment_8cpp_source.html#l00180">cmExperiment::StartTimer()</a>, and <a class="el" href="midas_8h_source.html#l01319">KEY::total_size</a>.</p>

<p>Referenced by <a class="el" href="Qt__hvEdit_8cpp_source.html#l00190">Qt_hvEdit::updateChannelDefinitions()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00132"></a>00132 {
<a name="l00133"></a>00133   <a class="code" href="classcmKey.html#a0424b16729ea291c7fe78ef366d6fb5d" title="Pointer to a MIDAS experiment object.">m_pExperiment</a>-&gt;<a class="code" href="classcmExperiment.html#ad468176265dab380e18caf13d5e1b8bf">StartTimer</a>(); <span class="comment">// start a cylcic timer event</span>
<a name="l00134"></a>00134 
<a name="l00135"></a>00135   <span class="comment">// establishes a hotlink</span>
<a name="l00136"></a>00136   <span class="keywordflow">return</span> <a class="code" href="group__msectionh.html#ga3495173a9725dc8c44167b71560aa290">db_open_record</a>(<a class="code" href="classcmKey.html#aa2cd5e636f57d273a7f677103d47c552" title="Main handle to the ODB of MIDAS.">m_hDB</a>, <a class="code" href="classcmKey.html#ae4c28ce66ef23a34cef585695b3070e5" title="Handle to a key in the ODB.">m_hKey</a>, addr, <a class="code" href="classcmKey.html#a0ca6bb32e2a55d8d920a6c261b1eed5e" title="MIDAS Structure to the key. Holding informations about the content of the key.">m_Key</a>.<a class="code" href="group__midasincludecode.html#ga553ba6fe87ca0b1dd08bcdc8fa15e6fa">total_size</a>, access, dispatcher, window);
<a name="l00137"></a>00137 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="abe5d595364f53f919a9a133dee313bed"></a><!-- doxytag: member="cmKey::IsValid" ref="abe5d595364f53f919a9a133dee313bed" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__midasincludecode.html#ga239c7f0d40651c3e419c5b9651507d14">BOOL</a> cmKey::IsValid </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns if the searched key is accessible or existing. </p>

<p>Definition at line <a class="el" href="cmKey_8h_source.html#l00076">76</a> of file <a class="el" href="cmKey_8h_source.html">cmKey.h</a>.</p>

<p>References <a class="el" href="cmKey_8h_source.html#l00061">m_bValid</a>.</p>

<p>Referenced by <a class="el" href="Qt__hvEdit_8cpp_source.html#l01340">Qt_hvEdit::openKeys()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00076"></a>00076                   {
<a name="l00077"></a>00077       <span class="keywordflow">return</span> <a class="code" href="classcmKey.html#abe8c64ac3129996279d651aaa9c94a79" title="Validator flag, showing if the searched key is accessible or existing.">m_bValid</a>;
<a name="l00078"></a>00078    };
</pre></div></p>

</div>
</div>
<a class="anchor" id="a470021c4c56c4174d2053cd7e5dc0e4b"></a><!-- doxytag: member="cmKey::SetData" ref="a470021c4c56c4174d2053cd7e5dc0e4b" args="(void *data, INT num_values, DWORD type)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__midasincludecode.html#ga392e62da233ed3e2f7c3fd4f487a3896">INT</a> cmKey::SetData </td>
          <td>(</td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__midasincludecode.html#ga392e62da233ed3e2f7c3fd4f487a3896">INT</a>&nbsp;</td>
          <td class="paramname"> <em>num_values</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="midas_2include_2mvmestd_8h.html#a408a2366473807fbe658ba18e75dea66">DWORD</a>&nbsp;</td>
          <td class="paramname"> <em>type</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Set key data from a handle. Adjust number of values if previous data has different size.</p>
<p><b>Return:</b></p>
<ul>
<li>DB_SUCCESS on successful completion.</li>
<li>DB_INVALID_HANDLE if ODB or key is invalid.</li>
<li>DB_TRUNCATED if there is a size mismatch between the local structure and the ODB.</li>
</ul>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>data</em>&nbsp;</td><td>Pointer to the data structure. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>num_values</em>&nbsp;</td><td>Number of data elements. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>type</em>&nbsp;</td><td>Type of key, one of TID_xxx (see MIDAS documentation) </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="cmKey_8cpp_source.html#l00188">188</a> of file <a class="el" href="cmKey_8cpp_source.html">cmKey.cpp</a>.</p>

<p>References <a class="el" href="group__msectionh.html#ga6b98aa5ac9036c49023c0cc9353922d4">db_set_data()</a>, <a class="el" href="midas_8h_source.html#l01320">KEY::item_size</a>, <a class="el" href="cmKey_8h_source.html#l00059">m_hDB</a>, <a class="el" href="cmKey_8h_source.html#l00060">m_hKey</a>, and <a class="el" href="cmKey_8h_source.html#l00062">m_Key</a>.</p>

<p>Referenced by <a class="el" href="Qt__hvEdit_8cpp_source.html#l01512">Qt_hvEdit::updateODB_currentLimit()</a>, and <a class="el" href="Qt__hvEdit_8cpp_source.html#l01486">Qt_hvEdit::updateODB_demand()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00189"></a>00189 {
<a name="l00190"></a>00190   <span class="keywordflow">return</span> <a class="code" href="group__msectionh.html#ga6b98aa5ac9036c49023c0cc9353922d4">db_set_data</a>(<a class="code" href="classcmKey.html#aa2cd5e636f57d273a7f677103d47c552" title="Main handle to the ODB of MIDAS.">m_hDB</a>, <a class="code" href="classcmKey.html#ae4c28ce66ef23a34cef585695b3070e5" title="Handle to a key in the ODB.">m_hKey</a>, <a class="code" href="mana_8cpp.html#a735984d41155bc1032e09bece8f8d66d">data</a>, num_values*<a class="code" href="classcmKey.html#a0ca6bb32e2a55d8d920a6c261b1eed5e" title="MIDAS Structure to the key. Holding informations about the content of the key.">m_Key</a>.<a class="code" href="group__midasincludecode.html#gacd1951fdb8bf0dec79ef833f6dec9276">item_size</a>, num_values, <a class="code" href="mana_8cpp.html#a9a59b4d9fa62abe25a78cc38137ffd8e">type</a>);
<a name="l00191"></a>00191 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="aa6edee37cc862a2414d1cde4c789ea09"></a><!-- doxytag: member="cmKey::SetDataIndex" ref="aa6edee37cc862a2414d1cde4c789ea09" args="(void *data, INT index, DWORD type)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__midasincludecode.html#ga392e62da233ed3e2f7c3fd4f487a3896">INT</a> cmKey::SetDataIndex </td>
          <td>(</td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__midasincludecode.html#ga392e62da233ed3e2f7c3fd4f487a3896">INT</a>&nbsp;</td>
          <td class="paramname"> <em>index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="midas_2include_2mvmestd_8h.html#a408a2366473807fbe658ba18e75dea66">DWORD</a>&nbsp;</td>
          <td class="paramname"> <em>type</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Set key data for a key which contains an array of values. This function sets individual values of a key containing an array. If the index is larger than the array size, the array is extended and the intermediate values are set to zero.</p>
<p><b>Return:</b></p>
<ul>
<li>DB_SUCCESS on successful completion.</li>
<li>DB_INVALID_HANDLE if ODB or key is invalid.</li>
<li>DB_TRUNCATED if there is a size mismatch between the local structure and the ODB.</li>
</ul>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>data</em>&nbsp;</td><td>Pointer to the data structure. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>index</em>&nbsp;</td><td>Index of the data element. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>type</em>&nbsp;</td><td>Type of key, one of TID_xxx (see MIDAS documentation) </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="cmKey_8cpp_source.html#l00209">209</a> of file <a class="el" href="cmKey_8cpp_source.html">cmKey.cpp</a>.</p>

<p>References <a class="el" href="group__msectionh.html#ga18f5e7743545b06fca4f3d5ce9889034">db_set_data_index()</a>, <a class="el" href="midas_8h_source.html#l01320">KEY::item_size</a>, <a class="el" href="cmKey_8h_source.html#l00059">m_hDB</a>, <a class="el" href="cmKey_8h_source.html#l00060">m_hKey</a>, and <a class="el" href="cmKey_8h_source.html#l00062">m_Key</a>.</p>

<p>Referenced by <a class="el" href="Qt__hvEdit_8cpp_source.html#l01512">Qt_hvEdit::updateODB_currentLimit()</a>, and <a class="el" href="Qt__hvEdit_8cpp_source.html#l01486">Qt_hvEdit::updateODB_demand()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00210"></a>00210 {
<a name="l00211"></a>00211   <span class="keywordflow">return</span> <a class="code" href="group__msectionh.html#ga18f5e7743545b06fca4f3d5ce9889034">db_set_data_index</a>(<a class="code" href="classcmKey.html#aa2cd5e636f57d273a7f677103d47c552" title="Main handle to the ODB of MIDAS.">m_hDB</a>, <a class="code" href="classcmKey.html#ae4c28ce66ef23a34cef585695b3070e5" title="Handle to a key in the ODB.">m_hKey</a>, <a class="code" href="mana_8cpp.html#a735984d41155bc1032e09bece8f8d66d">data</a>, <a class="code" href="classcmKey.html#a0ca6bb32e2a55d8d920a6c261b1eed5e" title="MIDAS Structure to the key. Holding informations about the content of the key.">m_Key</a>.<a class="code" href="group__midasincludecode.html#gacd1951fdb8bf0dec79ef833f6dec9276">item_size</a>, <a class="code" href="mana_8cpp.html#a312c2cad451d6bb0536fb9ec2863be59">index</a>, <a class="code" href="mana_8cpp.html#a9a59b4d9fa62abe25a78cc38137ffd8e">type</a>);
<a name="l00212"></a>00212 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="aa4154cf82855727824da284dba17cc6b"></a><!-- doxytag: member="cmKey::Unlink" ref="aa4154cf82855727824da284dba17cc6b" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__midasincludecode.html#ga392e62da233ed3e2f7c3fd4f487a3896">INT</a> cmKey::Unlink </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Closes the hot-link, i.e. disconnects the tight link between the local structure and the ODB.</p>
<p><b>Return:</b></p>
<ul>
<li>DB_SUCCESS on successful completion.</li>
<li>DB_INVALID_HANDLE if ODB or key is invalid. </li>
</ul>

<p>Definition at line <a class="el" href="cmKey_8cpp_source.html#l00148">148</a> of file <a class="el" href="cmKey_8cpp_source.html">cmKey.cpp</a>.</p>

<p>References <a class="el" href="group__msectionh.html#gae60eb33ad37ee9a9ce1cbc872db2fb19">db_close_record()</a>, <a class="el" href="cmKey_8h_source.html#l00059">m_hDB</a>, and <a class="el" href="cmKey_8h_source.html#l00060">m_hKey</a>.</p>

<p>Referenced by <a class="el" href="Qt__hvEdit_8cpp_source.html#l00190">Qt_hvEdit::updateChannelDefinitions()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00149"></a>00149 {
<a name="l00150"></a>00150   <span class="keywordflow">return</span> <a class="code" href="group__msectionh.html#gae60eb33ad37ee9a9ce1cbc872db2fb19">db_close_record</a>(<a class="code" href="classcmKey.html#aa2cd5e636f57d273a7f677103d47c552" title="Main handle to the ODB of MIDAS.">m_hDB</a>, <a class="code" href="classcmKey.html#ae4c28ce66ef23a34cef585695b3070e5" title="Handle to a key in the ODB.">m_hKey</a>);
<a name="l00151"></a>00151 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="aecc64c85be642cf8b20e489df7b90590"></a><!-- doxytag: member="cmKey::UpdateKey" ref="aecc64c85be642cf8b20e489df7b90590" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__midasincludecode.html#ga392e62da233ed3e2f7c3fd4f487a3896">INT</a> cmKey::UpdateKey </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Updates the key handle and the related info structure.</p>
<p><b>Return:</b></p>
<ul>
<li>DB_SUCCESS on successful completion.</li>
<li>DB_INVALID_HANDLE if ODB or key is invalid. </li>
</ul>

<p>Definition at line <a class="el" href="cmKey_8cpp_source.html#l00106">106</a> of file <a class="el" href="cmKey_8cpp_source.html">cmKey.cpp</a>.</p>

<p>References <a class="el" href="group__msectionh.html#gab97e8d856c8089519a59d3e44c0c4e65">db_get_key()</a>, <a class="el" href="cmKey_8h_source.html#l00059">m_hDB</a>, <a class="el" href="cmKey_8h_source.html#l00060">m_hKey</a>, and <a class="el" href="cmKey_8h_source.html#l00062">m_Key</a>.</p>

<p>Referenced by <a class="el" href="Qt__hvEdit_8cpp_source.html#l00190">Qt_hvEdit::updateChannelDefinitions()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00107"></a>00107 {
<a name="l00108"></a>00108   <span class="keywordflow">return</span> <a class="code" href="group__msectionh.html#gab97e8d856c8089519a59d3e44c0c4e65">db_get_key</a>(<a class="code" href="classcmKey.html#aa2cd5e636f57d273a7f677103d47c552" title="Main handle to the ODB of MIDAS.">m_hDB</a>, <a class="code" href="classcmKey.html#ae4c28ce66ef23a34cef585695b3070e5" title="Handle to a key in the ODB.">m_hKey</a>, &amp;<a class="code" href="classcmKey.html#a0ca6bb32e2a55d8d920a6c261b1eed5e" title="MIDAS Structure to the key. Holding informations about the content of the key.">m_Key</a>);
<a name="l00109"></a>00109 }
</pre></div></p>

</div>
</div>
<hr/><h2>Field Documentation</h2>
<a class="anchor" id="abe8c64ac3129996279d651aaa9c94a79"></a><!-- doxytag: member="cmKey::m_bValid" ref="abe8c64ac3129996279d651aaa9c94a79" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__midasincludecode.html#ga239c7f0d40651c3e419c5b9651507d14">BOOL</a> <a class="el" href="classcmKey.html#abe8c64ac3129996279d651aaa9c94a79">cmKey::m_bValid</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Validator flag, showing if the searched key is accessible or existing. </p>

<p>Definition at line <a class="el" href="cmKey_8h_source.html#l00061">61</a> of file <a class="el" href="cmKey_8h_source.html">cmKey.h</a>.</p>

<p>Referenced by <a class="el" href="cmKey_8cpp_source.html#l00056">cmKey()</a>, and <a class="el" href="cmKey_8h_source.html#l00076">IsValid()</a>.</p>

</div>
</div>
<a class="anchor" id="aa2cd5e636f57d273a7f677103d47c552"></a><!-- doxytag: member="cmKey::m_hDB" ref="aa2cd5e636f57d273a7f677103d47c552" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__midasincludecode.html#ga0e1bcf128ad8422667adffd1dea59791">HNDLE</a> <a class="el" href="classcmKey.html#aa2cd5e636f57d273a7f677103d47c552">cmKey::m_hDB</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Main handle to the ODB of MIDAS. </p>

<p>Definition at line <a class="el" href="cmKey_8h_source.html#l00059">59</a> of file <a class="el" href="cmKey_8h_source.html">cmKey.h</a>.</p>

<p>Referenced by <a class="el" href="cmKey_8cpp_source.html#l00056">cmKey()</a>, <a class="el" href="cmKey_8cpp_source.html#l00170">GetData()</a>, <a class="el" href="cmKey_8h_source.html#l00068">GetHdb()</a>, <a class="el" href="cmKey_8cpp_source.html#l00220">GetKeyTime()</a>, <a class="el" href="cmKey_8cpp_source.html#l00131">HotLink()</a>, <a class="el" href="cmKey_8cpp_source.html#l00188">SetData()</a>, <a class="el" href="cmKey_8cpp_source.html#l00209">SetDataIndex()</a>, <a class="el" href="cmKey_8cpp_source.html#l00148">Unlink()</a>, and <a class="el" href="cmKey_8cpp_source.html#l00106">UpdateKey()</a>.</p>

</div>
</div>
<a class="anchor" id="ae4c28ce66ef23a34cef585695b3070e5"></a><!-- doxytag: member="cmKey::m_hKey" ref="ae4c28ce66ef23a34cef585695b3070e5" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__midasincludecode.html#ga0e1bcf128ad8422667adffd1dea59791">HNDLE</a> <a class="el" href="classcmKey.html#ae4c28ce66ef23a34cef585695b3070e5">cmKey::m_hKey</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Handle to a key in the ODB. </p>

<p>Definition at line <a class="el" href="cmKey_8h_source.html#l00060">60</a> of file <a class="el" href="cmKey_8h_source.html">cmKey.h</a>.</p>

<p>Referenced by <a class="el" href="cmKey_8cpp_source.html#l00056">cmKey()</a>, <a class="el" href="cmKey_8cpp_source.html#l00170">GetData()</a>, <a class="el" href="cmKey_8h_source.html#l00072">GetHkey()</a>, <a class="el" href="cmKey_8cpp_source.html#l00220">GetKeyTime()</a>, <a class="el" href="cmKey_8cpp_source.html#l00131">HotLink()</a>, <a class="el" href="cmKey_8cpp_source.html#l00188">SetData()</a>, <a class="el" href="cmKey_8cpp_source.html#l00209">SetDataIndex()</a>, <a class="el" href="cmKey_8cpp_source.html#l00148">Unlink()</a>, and <a class="el" href="cmKey_8cpp_source.html#l00106">UpdateKey()</a>.</p>

</div>
</div>
<a class="anchor" id="a0ca6bb32e2a55d8d920a6c261b1eed5e"></a><!-- doxytag: member="cmKey::m_Key" ref="a0ca6bb32e2a55d8d920a6c261b1eed5e" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structKEY.html">KEY</a> <a class="el" href="classcmKey.html#a0ca6bb32e2a55d8d920a6c261b1eed5e">cmKey::m_Key</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>MIDAS Structure to the key. Holding informations about the content of the key. </p>

<p>Definition at line <a class="el" href="cmKey_8h_source.html#l00062">62</a> of file <a class="el" href="cmKey_8h_source.html">cmKey.h</a>.</p>

<p>Referenced by <a class="el" href="cmKey_8cpp_source.html#l00056">cmKey()</a>, <a class="el" href="cmKey_8h_source.html#l00088">GetAccessMode()</a>, <a class="el" href="cmKey_8h_source.html#l00084">GetItemSize()</a>, <a class="el" href="cmKey_8h_source.html#l00092">GetNumValues()</a>, <a class="el" href="cmKey_8h_source.html#l00080">GetType()</a>, <a class="el" href="cmKey_8cpp_source.html#l00131">HotLink()</a>, <a class="el" href="cmKey_8cpp_source.html#l00188">SetData()</a>, <a class="el" href="cmKey_8cpp_source.html#l00209">SetDataIndex()</a>, and <a class="el" href="cmKey_8cpp_source.html#l00106">UpdateKey()</a>.</p>

</div>
</div>
<a class="anchor" id="a0424b16729ea291c7fe78ef366d6fb5d"></a><!-- doxytag: member="cmKey::m_pExperiment" ref="a0424b16729ea291c7fe78ef366d6fb5d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classcmExperiment.html">cmExperiment</a>* <a class="el" href="classcmKey.html#a0424b16729ea291c7fe78ef366d6fb5d">cmKey::m_pExperiment</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Pointer to a MIDAS experiment object. </p>

<p>Definition at line <a class="el" href="cmKey_8h_source.html#l00063">63</a> of file <a class="el" href="cmKey_8h_source.html">cmKey.h</a>.</p>

<p>Referenced by <a class="el" href="cmKey_8cpp_source.html#l00056">cmKey()</a>, and <a class="el" href="cmKey_8cpp_source.html#l00131">HotLink()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>midas/gui/hvedit/qt/<a class="el" href="cmKey_8h_source.html">cmKey.h</a></li>
<li>midas/gui/hvedit/qt/<a class="el" href="cmKey_8cpp_source.html">cmKey.cpp</a></li>
</ul>
</div>
<hr size="1"/><address style="text-align: right;"><small>Generated on 6 Jun 2014 for AlcapDAQ:Rootana by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
