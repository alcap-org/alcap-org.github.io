<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>AlcapDAQ:Rootana: midas/mxml/strlcpy.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>midas/mxml/strlcpy.h File Reference</h1>
<p><a href="strlcpy_8h_source.html">Go to the source code of this file.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">size_t EXPRT&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="strlcpy_8h.html#af8c865b1f481801d8d1f0a8644be4bbc">strlcpy</a> (char *dst, const char *src, size_t <a class="el" href="slowcontrol_2vacuum__sensor_2frontend_8c.html#a439227feff9d7f55384e8780cfc2eb82">size</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">size_t EXPRT&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="strlcpy_8h.html#aa031012870e97fea95c0b78d51b4471b">strlcat</a> (char *dst, const char *src, size_t <a class="el" href="slowcontrol_2vacuum__sensor_2frontend_8c.html#a439227feff9d7f55384e8780cfc2eb82">size</a>)</td></tr>
</table>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="aa031012870e97fea95c0b78d51b4471b"></a><!-- doxytag: member="strlcpy.h::strlcat" ref="aa031012870e97fea95c0b78d51b4471b" args="(char *dst, const char *src, size_t size)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t EXPRT strlcat </td>
          <td>(</td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>dst</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>src</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&nbsp;</td>
          <td class="paramname"> <em>size</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mscb_8c_source.html#l00445">445</a> of file <a class="el" href="mscb_8c_source.html">mscb.c</a>.</p>

<p>References <a class="el" href="system_8c_source.html#l00966">d</a>, and <a class="el" href="camac_8c_source.html#l00506">n</a>.</p>

<p>Referenced by <a class="el" href="odb_8c_source.html#l05976">db_save_xml_key()</a>, <a class="el" href="mserver_8c_source.html#l00207">debug_print()</a>, <a class="el" href="mhttpd_8c_source.html#l01185">receive_message()</a>, <a class="el" href="mhttpd_8c_source.html#l01203">sendmail()</a>, <a class="el" href="mhttpd_8c_source.html#l03805">submit_elog()</a>, and <a class="el" href="odb_8c_source.html#l05933">xml_encode()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00446"></a>00446 {
<a name="l00447"></a>00447    <span class="keywordtype">char</span> *<a class="code" href="system_8c.html#a873684cefeb665f3d5e6b495de57fc0d">d</a> = dst;
<a name="l00448"></a>00448    <span class="keyword">const</span> <span class="keywordtype">char</span> *s = src;
<a name="l00449"></a>00449    <span class="keywordtype">size_t</span> <a class="code" href="camac_8c.html#a76f11d9a0a47b94f72c2d0e77fb32240">n</a> = <a class="code" href="ybos_8c.html#adfdd3a80d1d8ea7918a6d1ebee518102">size</a>;
<a name="l00450"></a>00450    <span class="keywordtype">size_t</span> dlen;
<a name="l00451"></a>00451 
<a name="l00452"></a>00452    <span class="comment">/* Find the end of dst and adjust bytes left but don&apos;t go past end */</span>
<a name="l00453"></a>00453    <span class="keywordflow">while</span> (n-- != 0 &amp;&amp; *d != <span class="charliteral">&apos;\0&apos;</span>)
<a name="l00454"></a>00454       d++;
<a name="l00455"></a>00455    dlen = d - dst;
<a name="l00456"></a>00456    n = <a class="code" href="ybos_8c.html#adfdd3a80d1d8ea7918a6d1ebee518102">size</a> - dlen;
<a name="l00457"></a>00457 
<a name="l00458"></a>00458    <span class="keywordflow">if</span> (n == 0)
<a name="l00459"></a>00459       <span class="keywordflow">return</span> (dlen + strlen(s));
<a name="l00460"></a>00460    <span class="keywordflow">while</span> (*s != <span class="charliteral">&apos;\0&apos;</span>) {
<a name="l00461"></a>00461       <span class="keywordflow">if</span> (n != 1) {
<a name="l00462"></a>00462          *d++ = *s;
<a name="l00463"></a>00463          n--;
<a name="l00464"></a>00464       }
<a name="l00465"></a>00465       s++;
<a name="l00466"></a>00466    }
<a name="l00467"></a>00467    *d = <span class="charliteral">&apos;\0&apos;</span>;
<a name="l00468"></a>00468 
<a name="l00469"></a>00469    <span class="keywordflow">return</span> (dlen + (s - src));   <span class="comment">/* count does not include NUL */</span>
<a name="l00470"></a>00470 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="af8c865b1f481801d8d1f0a8644be4bbc"></a><!-- doxytag: member="strlcpy.h::strlcpy" ref="af8c865b1f481801d8d1f0a8644be4bbc" args="(char *dst, const char *src, size_t size)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t EXPRT strlcpy </td>
          <td>(</td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>dst</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>src</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&nbsp;</td>
          <td class="paramname"> <em>size</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mscb_8c_source.html#l00414">414</a> of file <a class="el" href="mscb_8c_source.html">mscb.c</a>.</p>

<p>References <a class="el" href="system_8c_source.html#l00966">d</a>, and <a class="el" href="camac_8c_source.html#l00506">n</a>.</p>

<p>Referenced by <a class="el" href="midas_8c_source.html#l02229">cm_get_environment()</a>, <a class="el" href="midas_8c_source.html#l01771">cm_scan_experiments()</a>, <a class="el" href="odb_8c_source.html#l07266">db_create_record()</a>, <a class="el" href="odb_8c_source.html#l06308">db_sprintf()</a>, <a class="el" href="mhttpd_8c_source.html#l09841">decode_post()</a>, <a class="el" href="mhttpd_8c_source.html#l09142">interprete()</a>, <a class="el" href="mscb_8c_source.html#l01593">mscb_init()</a>, <a class="el" href="mscb_8c_source.html#l03438">mscb_select_device()</a>, <a class="el" href="mhttpd_8c_source.html#l01203">sendmail()</a>, <a class="el" href="mhttpd_8c_source.html#l01042">setparam()</a>, <a class="el" href="system_8c_source.html#l01232">ss_shell()</a>, and <a class="el" href="odb_8c_source.html#l05933">xml_encode()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00415"></a>00415 {
<a name="l00416"></a>00416    <span class="keywordtype">char</span> *<a class="code" href="system_8c.html#a873684cefeb665f3d5e6b495de57fc0d">d</a> = dst;
<a name="l00417"></a>00417    <span class="keyword">const</span> <span class="keywordtype">char</span> *s = src;
<a name="l00418"></a>00418    <span class="keywordtype">size_t</span> <a class="code" href="camac_8c.html#a76f11d9a0a47b94f72c2d0e77fb32240">n</a> = <a class="code" href="ybos_8c.html#adfdd3a80d1d8ea7918a6d1ebee518102">size</a>;
<a name="l00419"></a>00419 
<a name="l00420"></a>00420    <span class="comment">/* Copy as many bytes as will fit */</span>
<a name="l00421"></a>00421    <span class="keywordflow">if</span> (n != 0 &amp;&amp; --n != 0) {
<a name="l00422"></a>00422       <span class="keywordflow">do</span> {
<a name="l00423"></a>00423          <span class="keywordflow">if</span> ((*d++ = *s++) == 0)
<a name="l00424"></a>00424             <span class="keywordflow">break</span>;
<a name="l00425"></a>00425       } <span class="keywordflow">while</span> (--n != 0);
<a name="l00426"></a>00426    }
<a name="l00427"></a>00427 
<a name="l00428"></a>00428    <span class="comment">/* Not enough room in dst, add NUL and traverse rest of src */</span>
<a name="l00429"></a>00429    <span class="keywordflow">if</span> (n == 0) {
<a name="l00430"></a>00430       <span class="keywordflow">if</span> (<a class="code" href="ybos_8c.html#adfdd3a80d1d8ea7918a6d1ebee518102">size</a> != 0)
<a name="l00431"></a>00431          *d = <span class="charliteral">&apos;\0&apos;</span>;             <span class="comment">/* NUL-terminate dst */</span>
<a name="l00432"></a>00432       <span class="keywordflow">while</span> (*s++);
<a name="l00433"></a>00433    }
<a name="l00434"></a>00434 
<a name="l00435"></a>00435    <span class="keywordflow">return</span> (s - src - 1);        <span class="comment">/* count does not include NUL */</span>
<a name="l00436"></a>00436 }
</pre></div></p>

</div>
</div>
</div>
<hr size="1"/><address style="text-align: right;"><small>Generated on 6 Jun 2014 for AlcapDAQ:Rootana by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
