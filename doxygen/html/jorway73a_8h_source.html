<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>AlcapDAQ:Rootana: midas/drivers/bus/jorway73a.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<h1>midas/drivers/bus/jorway73a.h</h1><a href="jorway73a_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">/* ************************************************************** */</span>
<a name="l00002"></a>00002 <span class="comment">/*                                                                */</span>
<a name="l00003"></a>00003 <span class="comment">/*   camac_globals.h                                              */</span>
<a name="l00004"></a>00004 <span class="comment">/* -------------------------------------------------------------- */</span>
<a name="l00005"></a>00005 <span class="comment">/*</span>
<a name="l00006"></a>00006 <span class="comment">        16aug95 jms     stuff needed for sjy driver</span>
<a name="l00007"></a>00007 <span class="comment">        13sep95 das     added min/max defines</span>
<a name="l00008"></a>00008 <span class="comment">        22jul97 das     modified for linux</span>
<a name="l00009"></a>00009 <span class="comment">        31mar00 das     modified for SCSI bus decoding</span>
<a name="l00010"></a>00010 <span class="comment">        16oct01 gsh     added target_result to sjy_controller struct</span>
<a name="l00011"></a>00011 <span class="comment"></span>
<a name="l00012"></a>00012 <span class="comment"> $Log: jorway73a.h,v $</span>
<a name="l00013"></a>00013 <span class="comment"> Revision 1.1.1.1  2005/06/20 23:37:07  mucap</span>
<a name="l00014"></a>00014 <span class="comment"> Importing release 1.9.5 of the MIDAS source code as distributed by PSI.</span>
<a name="l00015"></a>00015 <span class="comment"> (Next, I&apos;ll commit our local customizations.)</span>
<a name="l00016"></a>00016 <span class="comment"></span>
<a name="l00017"></a>00017 <span class="comment"> Revision 1.2  2004/01/08 08:40:08  midas</span>
<a name="l00018"></a>00018 <span class="comment"> Implemented standard indentation</span>
<a name="l00019"></a>00019 <span class="comment"></span>
<a name="l00020"></a>00020 <span class="comment"> Revision 1.1  2002/05/08 22:21:39  pierre</span>
<a name="l00021"></a>00021 <span class="comment"> initial version</span>
<a name="l00022"></a>00022 <span class="comment"></span>
<a name="l00023"></a>00023 <span class="comment"> </span>
<a name="l00024"></a>00024 <span class="comment"> */</span>
<a name="l00025"></a>00025 
<a name="l00026"></a>00026 <span class="preprocessor">#include &lt;stdio.h&gt;</span>
<a name="l00027"></a>00027 <span class="preprocessor">#include &lt;errno.h&gt;</span>
<a name="l00028"></a>00028 <span class="preprocessor">#include &lt;fcntl.h&gt;</span>
<a name="l00029"></a>00029 
<a name="l00030"></a><a class="code" href="jorway73a_8h.html#a4f4bb67531a9bf6f0b9c6ad76aeba587">00030</a> <span class="keyword">typedef</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code" href="jorway73a_8h.html#a4f4bb67531a9bf6f0b9c6ad76aeba587">UCHAR</a>;
<a name="l00031"></a>00031 
<a name="l00032"></a>00032 <span class="preprocessor">#ifndef XDEFLG</span>
<a name="l00033"></a><a class="code" href="jorway73a_8h.html#a3e7e0c464728277994d608d99bd95b1a">00033</a> <span class="preprocessor"></span><span class="preprocessor">#define xdef extern</span>
<a name="l00034"></a>00034 <span class="preprocessor"></span><span class="preprocessor">#else</span>
<a name="l00035"></a>00035 <span class="preprocessor"></span><span class="preprocessor">#define xdef</span>
<a name="l00036"></a>00036 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00037"></a>00037 <span class="preprocessor"></span>
<a name="l00038"></a><a class="code" href="jorway73a_8h.html#aa85e2f9acb34636bb83d08414665f73a">00038</a> <span class="preprocessor">#define SJY_VERSION &quot;v1.5&quot;      </span><span class="comment">/* Version of sjy Linux port */</span>
<a name="l00039"></a>00039 
<a name="l00040"></a>00040 <span class="comment">/* SCSI command definitions */</span>
<a name="l00041"></a><a class="code" href="jorway73a_8h.html#a9b43b18ada752599850497e638cfc900">00041</a> <span class="preprocessor">#define INQUIRY_CMD         0x12</span>
<a name="l00042"></a><a class="code" href="jorway73a_8h.html#ad12cdb08a4854304008dd972477503d2">00042</a> <span class="preprocessor"></span><span class="preprocessor">#define INQUIRY_CMDLEN         6</span>
<a name="l00043"></a><a class="code" href="jorway73a_8h.html#ae5cff71db43dec42095a92793acef67a">00043</a> <span class="preprocessor"></span><span class="preprocessor">#define INQUIRY_REPLY_LEN     36</span>
<a name="l00044"></a><a class="code" href="jorway73a_8h.html#a5a81c342d4350e3e0f597be4c22f83bc">00044</a> <span class="preprocessor"></span><span class="preprocessor">#define INQUIRY_VENDOR         8        </span><span class="comment">/* Offset in reply data to vendor name */</span>
<a name="l00045"></a>00045 
<a name="l00046"></a><a class="code" href="jorway73a_8h.html#a1f7935b5a2b87b036c8dd4b17b106a69">00046</a> <span class="preprocessor">#define TESTUNITREADY_CMD    0x0</span>
<a name="l00047"></a><a class="code" href="jorway73a_8h.html#a513670ae627acc78cc128c1236ccf5c0">00047</a> <span class="preprocessor"></span><span class="preprocessor">#define TESTUNITREADY_CMDLEN   6</span>
<a name="l00048"></a>00048 <span class="preprocessor"></span>
<a name="l00049"></a><a class="code" href="jorway73a_8h.html#a124960eca55d1db5f5b3740aaecf20c5">00049</a> <span class="preprocessor">#define SENSEKEY               2        </span><span class="comment">/* Offset in sense buffer to sense key */</span>
<a name="l00050"></a><a class="code" href="jorway73a_8h.html#a23341b08faa22fce2b643daa0747ecd3">00050</a> <span class="preprocessor">#define ADD_SENSECODE         12        </span><span class="comment">/* Offset to additional sense code */</span>
<a name="l00051"></a>00051 
<a name="l00052"></a><a class="code" href="jorway73a_8h.html#aece055c47e8513782fe09c6f88d52888">00052</a> <span class="preprocessor">#define SENSE_CMD           0x03</span>
<a name="l00053"></a><a class="code" href="jorway73a_8h.html#a20938c36cf8bdcce71855f0a74344c29">00053</a> <span class="preprocessor"></span><span class="preprocessor">#define SENSE_CMDLEN           6</span>
<a name="l00054"></a>00054 <span class="preprocessor"></span>
<a name="l00055"></a>00055 
<a name="l00056"></a>00056 
<a name="l00057"></a>00057 <span class="comment">/* SCSI return statuses */</span>
<a name="l00058"></a><a class="code" href="jorway73a_8h.html#a013491703e205687f3e9205fed9b4334">00058</a> <span class="preprocessor">#define SJY_GOOD            0x00</span>
<a name="l00059"></a><a class="code" href="jorway73a_8h.html#a52ca2b8dd2a270cb2582da93e4790f6d">00059</a> <span class="preprocessor"></span><span class="preprocessor">#define SJY_CHECK_CONDITION 0x02</span>
<a name="l00060"></a><a class="code" href="jorway73a_8h.html#ab87832fe22b3d83a2a68f8883077a0c4">00060</a> <span class="preprocessor"></span><span class="preprocessor">#define SJY_CONDITION_MET   0x04</span>
<a name="l00061"></a>00061 <span class="preprocessor"></span>
<a name="l00062"></a>00062 <span class="comment">/* SCSI sense buffer length. The Jorway 411S is 16 bytes, the 73A is 18 bytes */</span>
<a name="l00063"></a><a class="code" href="jorway73a_8h.html#ac474b77e8d01885c6424d845d5fc3e49">00063</a> <span class="preprocessor">#define SJY_SENSE_LENGTH     18</span>
<a name="l00064"></a>00064 <span class="preprocessor"></span>
<a name="l00065"></a>00065 
<a name="l00066"></a>00066 <span class="comment">/* sense keys */</span>
<a name="l00067"></a><a class="code" href="jorway73a_8h.html#aa834d377dbb592544a684f1e1f5ffe36">00067</a> <span class="preprocessor">#define SJY_NO_SENSE        0x0</span>
<a name="l00068"></a><a class="code" href="jorway73a_8h.html#a486b13af111d60494fec8fced9560ac9">00068</a> <span class="preprocessor"></span><span class="preprocessor">#define SJY_NOT_READY       0x2</span>
<a name="l00069"></a><a class="code" href="jorway73a_8h.html#a7317c649b3ca0374d80764d478ce8479">00069</a> <span class="preprocessor"></span><span class="preprocessor">#define SJY_HARDWARE_ERROR  0x4</span>
<a name="l00070"></a><a class="code" href="jorway73a_8h.html#a2fe8af7e407bce52aad959b902f6216b">00070</a> <span class="preprocessor"></span><span class="preprocessor">#define SJY_ILLEGAL_REQUEST 0x5</span>
<a name="l00071"></a><a class="code" href="jorway73a_8h.html#a7aa17a629ddbe369297cd72736e3af09">00071</a> <span class="preprocessor"></span><span class="preprocessor">#define SJY_UNIT_ATTENTION  0x6</span>
<a name="l00072"></a><a class="code" href="jorway73a_8h.html#ada1268eb97513dc7718a6057755069b1">00072</a> <span class="preprocessor"></span><span class="preprocessor">#define SJY_SHORT_TRANSFER  0x9</span>
<a name="l00073"></a><a class="code" href="jorway73a_8h.html#a1c3ec548a6e9b413651eccfa59a54b69">00073</a> <span class="preprocessor"></span><span class="preprocessor">#define SJY_ABORTED_COMMAND 0xB</span>
<a name="l00074"></a>00074 <span class="preprocessor"></span>
<a name="l00075"></a>00075 <span class="comment">/* additional sense keys */</span>
<a name="l00076"></a><a class="code" href="jorway73a_8h.html#af2c6ac80f5695f8644677557d3021367">00076</a> <span class="preprocessor">#define SJY_NO_X            0x44</span>
<a name="l00077"></a><a class="code" href="jorway73a_8h.html#a5418ec10543df88aa19ad79fe4405fcd">00077</a> <span class="preprocessor"></span><span class="preprocessor">#define SJY_NO_Q            0x80</span>
<a name="l00078"></a>00078 <span class="preprocessor"></span>
<a name="l00079"></a>00079 
<a name="l00080"></a>00080 
<a name="l00081"></a>00081 <span class="comment">/* branch specific information */</span>
<a name="l00082"></a><a class="code" href="structSJY__CONTROLLER.html">00082</a> <span class="keyword">typedef</span> <span class="keyword">struct </span>{
<a name="l00083"></a><a class="code" href="structSJY__CONTROLLER.html#a68e422a3b6036ac67e22f0c4b1d6ec1b">00083</a>    <span class="keywordtype">int</span> fd;                      <span class="comment">/* file descriptor for branch */</span>
<a name="l00084"></a><a class="code" href="structSJY__CONTROLLER.html#ab4c172d309a87e863b12e6680096dca6">00084</a>    <span class="keywordtype">int</span> scsi_id;                 <span class="comment">/* SCSI id of JY411S */</span>
<a name="l00085"></a><a class="code" href="structSJY__CONTROLLER.html#af40442a6deafc9e8d82226bf899edff9">00085</a>    <span class="keywordtype">int</span> scsi_bus;                <span class="comment">/* SCSI bus number, or controller number */</span>
<a name="l00086"></a><a class="code" href="structSJY__CONTROLLER.html#a740859990b816d64b872b646fd09ea7f">00086</a>    <span class="keywordtype">int</span> <a class="code" href="minife_8c.html#a9c566f7d2ca91bd19145b0568c0c66aa">serial</a>;                  <span class="comment">/* serial=1, parallel=0 */</span>
<a name="l00087"></a><a class="code" href="structSJY__CONTROLLER.html#a8efe5331ab1a93746528887ea361f3bd">00087</a>    <span class="keywordtype">int</span> errn;                    <span class="comment">/* SCSI/CAMAC error */</span>
<a name="l00088"></a><a class="code" href="structSJY__CONTROLLER.html#a518c03b64309b9d2de5e1ce69a21cfcd">00088</a>    <span class="keywordtype">int</span> result;                  <span class="comment">/* SCSI command result */</span>
<a name="l00089"></a><a class="code" href="structSJY__CONTROLLER.html#a710433678e89290ef4a40354f573dd7c">00089</a>    <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> sense_buffer[<a class="code" href="jorway73a_8h.html#ac474b77e8d01885c6424d845d5fc3e49">SJY_SENSE_LENGTH</a>];        <span class="comment">/* SCSI sense buffer */</span>
<a name="l00090"></a><a class="code" href="structSJY__CONTROLLER.html#ae28328f55bc09b61571bb1bbe20119d6">00090</a>    <span class="keywordtype">int</span> target_status;           <span class="comment">/* Added by gh */</span>
<a name="l00091"></a>00091 } <a class="code" href="structSJY__CONTROLLER.html">SJY_CONTROLLER</a>;
<a name="l00092"></a>00092 
<a name="l00093"></a>00093 <span class="comment">/* branch argument masks. branch = SCSI id + (8*SCSI bus). */</span>
<a name="l00094"></a><a class="code" href="jorway73a_8h.html#a4bfe115debc7f472dd7dfe4ef9679ca0">00094</a> <span class="preprocessor">#define ID(branch)  (branch &amp; 0x0007)</span>
<a name="l00095"></a><a class="code" href="jorway73a_8h.html#a862084ca8bda595e2744a6d53d02917d">00095</a> <span class="preprocessor"></span><span class="preprocessor">#define BUS(branch) ((branch &amp; 0xFFF8)&gt;&gt;3)</span>
<a name="l00096"></a><a class="code" href="jorway73a_8h.html#a5ef013284ffb7b7ec3ba7da15b7afe12">00096</a> <span class="preprocessor"></span><span class="preprocessor">#define IDX(branch) ( ID(branch) + 8*BUS(branch) )</span>
<a name="l00097"></a>00097 <span class="preprocessor"></span>
<a name="l00098"></a>00098 
<a name="l00099"></a>00099 <span class="comment">/* Function Modifier    - D16/D24 */</span>
<a name="l00100"></a><a class="code" href="jorway73a_8h.html#aa5ae9c779d5eca2b0a1881c86fd7f6f2">00100</a> <span class="preprocessor">#define SJY_D24_BIT                     0x20</span>
<a name="l00101"></a>00101 <span class="preprocessor"></span>
<a name="l00102"></a>00102 
<a name="l00103"></a>00103 <span class="comment">/* note: SJY411S or SJY73A is defined in the build */</span>
<a name="l00104"></a>00104 
<a name="l00105"></a>00105 <span class="comment">/*</span>
<a name="l00106"></a>00106 <span class="comment">** Jorway 411S definitions</span>
<a name="l00107"></a>00107 <span class="comment">*/</span>
<a name="l00108"></a>00108 
<a name="l00109"></a>00109 <span class="preprocessor">#ifdef SJY411S</span>
<a name="l00110"></a>00110 <span class="preprocessor"></span>
<a name="l00111"></a>00111 <span class="preprocessor">#define SJY_MAX_SJY411S 32      </span><span class="comment">/* maximum number of Jorways on host computer */</span>
<a name="l00112"></a>00112 
<a name="l00113"></a>00113 <a class="code" href="jorway73a_8h.html#a3e7e0c464728277994d608d99bd95b1a">xdef</a> <a class="code" href="structSJY__CONTROLLER.html">SJY_CONTROLLER</a> <a class="code" href="jorway73a_8h.html#a7865bbd504262133b68ef11f3c862b23">sjy_controller</a>[SJY_MAX_SJY411S];
<a name="l00114"></a>00114 
<a name="l00115"></a>00115 <span class="comment">/* Valid ranges for sjy branch, crate, slot, subadd */</span>
<a name="l00116"></a>00116 <span class="preprocessor">#define SJY_BRANCH_MAX  SJY_MAX_SJY411S</span>
<a name="l00117"></a>00117 <span class="preprocessor"></span><span class="preprocessor">#define SJY_BRANCH_MIN  0</span>
<a name="l00118"></a>00118 <span class="preprocessor"></span><span class="preprocessor">#define SJY_CRATE_SER_MAX   62</span>
<a name="l00119"></a>00119 <span class="preprocessor"></span><span class="preprocessor">#define SJY_CRATE_PAR_MAX   7</span>
<a name="l00120"></a>00120 <span class="preprocessor"></span><span class="preprocessor">#define SJY_CRATE_MIN   1</span>
<a name="l00121"></a>00121 <span class="preprocessor"></span><span class="preprocessor">#define SJY_SLOT_MAX    30</span>
<a name="l00122"></a>00122 <span class="preprocessor"></span><span class="preprocessor">#define SJY_SLOT_MIN    1</span>
<a name="l00123"></a>00123 <span class="preprocessor"></span><span class="preprocessor">#define SJY_SUBADD_MAX  15</span>
<a name="l00124"></a>00124 <span class="preprocessor"></span><span class="preprocessor">#define SJY_SUBADD_MIN  0</span>
<a name="l00125"></a>00125 <span class="preprocessor"></span>
<a name="l00126"></a>00126 
<a name="l00127"></a>00127 <span class="comment">/* structures and definitions for Request Sense */</span>
<a name="l00128"></a>00128 <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="struct__SJB__SENSE.html">_SJB_SENSE</a> {
<a name="l00129"></a>00129    <a class="code" href="jorway73a_8h.html#a4f4bb67531a9bf6f0b9c6ad76aeba587">UCHAR</a> <a class="code" href="struct__SJB__SENSE.html#ad19a8b4c7c8792347eab53feee833472">errorCode</a>;
<a name="l00130"></a>00130    <a class="code" href="jorway73a_8h.html#a4f4bb67531a9bf6f0b9c6ad76aeba587">UCHAR</a> <a class="code" href="struct__SJB__SENSE.html#aa1d1eeca28500b85215d701456598308">segNumber</a>;
<a name="l00131"></a>00131    <a class="code" href="jorway73a_8h.html#a4f4bb67531a9bf6f0b9c6ad76aeba587">UCHAR</a> <a class="code" href="struct__SJB__SENSE.html#abdfc1d70737ab9e18b0491d4e8c79fa2">senseKey</a>;
<a name="l00132"></a>00132    <a class="code" href="jorway73a_8h.html#a4f4bb67531a9bf6f0b9c6ad76aeba587">UCHAR</a> reserved1;
<a name="l00133"></a>00133    <a class="code" href="jorway73a_8h.html#a4f4bb67531a9bf6f0b9c6ad76aeba587">UCHAR</a> wcda[3];
<a name="l00134"></a>00134    <a class="code" href="jorway73a_8h.html#a4f4bb67531a9bf6f0b9c6ad76aeba587">UCHAR</a> <a class="code" href="struct__SJB__SENSE.html#a3a38f87255af199fcfdccd88c12c6192">asl</a>;
<a name="l00135"></a>00135    <a class="code" href="jorway73a_8h.html#a4f4bb67531a9bf6f0b9c6ad76aeba587">UCHAR</a> mainReg;
<a name="l00136"></a>00136    <a class="code" href="jorway73a_8h.html#a4f4bb67531a9bf6f0b9c6ad76aeba587">UCHAR</a> serialReg[2];
<a name="l00137"></a>00137    <a class="code" href="jorway73a_8h.html#a4f4bb67531a9bf6f0b9c6ad76aeba587">UCHAR</a> reserved2;
<a name="l00138"></a>00138    <a class="code" href="jorway73a_8h.html#a4f4bb67531a9bf6f0b9c6ad76aeba587">UCHAR</a> <a class="code" href="struct__SJB__SENSE.html#ab2cba16c65fe3fad07d73c562dea8146">addSense</a>;
<a name="l00139"></a>00139    <a class="code" href="jorway73a_8h.html#a4f4bb67531a9bf6f0b9c6ad76aeba587">UCHAR</a> reserved3;
<a name="l00140"></a>00140    <a class="code" href="jorway73a_8h.html#a4f4bb67531a9bf6f0b9c6ad76aeba587">UCHAR</a> cna[2];
<a name="l00141"></a>00141 } <a class="code" href="struct__SJB__SENSE.html">SJB_SENSE</a>, *<a class="code" href="struct__SJB__SENSE.html">PSJB_SENSE</a>;
<a name="l00142"></a>00142 
<a name="l00143"></a>00143 <span class="preprocessor">#define CRATE(cna)              ((cna[0] &amp; 0xFE) &gt;&gt; 1)</span>
<a name="l00144"></a>00144 <span class="preprocessor"></span><span class="preprocessor">#define SLOT(cna)               (((cna[0] &amp; 0x01) &gt;&gt; 1) | ((cna[1] &amp; 0xF0) &gt;&gt; 4))</span>
<a name="l00145"></a>00145 <span class="preprocessor"></span><span class="preprocessor">#define ADD(cna)                (cna[1] &amp; 0x0F)</span>
<a name="l00146"></a>00146 <span class="preprocessor"></span><span class="preprocessor">#define WCD(wcda)               ((wcda[0] &lt;&lt; 16) | (wcda[1] &lt;&lt; 8) | (wcda[2]))</span>
<a name="l00147"></a>00147 <span class="preprocessor"></span>
<a name="l00148"></a>00148 
<a name="l00149"></a>00149 <span class="comment">/* CAMAC command codes for the SRB */</span>
<a name="l00150"></a>00150 <span class="preprocessor">#define SJY_NONDATA_CMD         0xC1</span>
<a name="l00151"></a>00151 <span class="preprocessor"></span><span class="preprocessor">#define SJY_DATA_CMD            0xE1</span>
<a name="l00152"></a>00152 <span class="preprocessor"></span><span class="preprocessor">#define SJY_SHORTXFER_DATA_CMD  SJY_NONDATA_CMD</span>
<a name="l00153"></a>00153 <span class="preprocessor"></span>
<a name="l00154"></a>00154 
<a name="l00155"></a>00155 <span class="comment">/*  Jorway 411S SRB layout</span>
<a name="l00156"></a>00156 <span class="comment"> *</span>
<a name="l00157"></a>00157 <span class="comment"> *      Non-Data Transfers</span>
<a name="l00158"></a>00158 <span class="comment"> *      b0      0xC1</span>
<a name="l00159"></a>00159 <span class="comment"> *      b1      F</span>
<a name="l00160"></a>00160 <span class="comment"> *      b2      N</span>
<a name="l00161"></a>00161 <span class="comment"> *      b3      A</span>
<a name="l00162"></a>00162 <span class="comment"> *      b4      C       | 0x80 for serial</span>
<a name="l00163"></a>00163 <span class="comment"> *      b5      0</span>
<a name="l00164"></a>00164 <span class="comment"> *</span>
<a name="l00165"></a>00165 <span class="comment"> *      Data Transfers</span>
<a name="l00166"></a>00166 <span class="comment"> *      b0      0x1E</span>
<a name="l00167"></a>00167 <span class="comment"> *      b1      0</span>
<a name="l00168"></a>00168 <span class="comment"> *      b2      F       | 0x20 for 24 bit functions</span>
<a name="l00169"></a>00169 <span class="comment"> *      b3      N</span>
<a name="l00170"></a>00170 <span class="comment"> *      b4      A       | (mode&lt;&lt;5)</span>
<a name="l00171"></a>00171 <span class="comment"> *      b5      C       | 0x80 for serial</span>
<a name="l00172"></a>00172 <span class="comment"> *      b6      xfrlen &gt;&gt;16                     bytes</span>
<a name="l00173"></a>00173 <span class="comment"> *      b7      xfrlen &gt;&gt; 8                     bytes</span>
<a name="l00174"></a>00174 <span class="comment"> *      b8      xfrlen                          bytes</span>
<a name="l00175"></a>00175 <span class="comment"> *      b9      0</span>
<a name="l00176"></a>00176 <span class="comment"> *</span>
<a name="l00177"></a>00177 <span class="comment"> */</span>
<a name="l00178"></a>00178 
<a name="l00179"></a>00179 <span class="comment">/* Crate Modifier       - Parallel/Serial */</span>
<a name="l00180"></a>00180 <span class="preprocessor">#define SJY_SERIAL_BIT          0x80</span>
<a name="l00181"></a>00181 <span class="preprocessor"></span>
<a name="l00182"></a>00182 <span class="comment">/* Slot Modifiers       - DMA Mode */</span>
<a name="l00183"></a>00183 <span class="preprocessor">#define SJY_Q_STOP              0x00</span>
<a name="l00184"></a>00184 <span class="preprocessor"></span><span class="preprocessor">#define SJY_ECA                 0x20</span>
<a name="l00185"></a>00185 <span class="preprocessor"></span><span class="preprocessor">#define SJY_Q_REPEAT            0x40</span>
<a name="l00186"></a>00186 <span class="preprocessor"></span><span class="preprocessor">#define SJY_ADD_SCAN            0x60</span>
<a name="l00187"></a>00187 <span class="preprocessor"></span><span class="preprocessor">#define SJY_ZEN_MODE            0x80</span>
<a name="l00188"></a>00188 <span class="preprocessor"></span><span class="preprocessor">#define SJY_EXT_SUB_SCAN        0xA0</span>
<a name="l00189"></a>00189 <span class="preprocessor"></span><span class="preprocessor">#define SJY_STOP_ON_WORD        0xE0</span>
<a name="l00190"></a>00190 <span class="preprocessor"></span><span class="preprocessor">#define SJY_MODE_MASK           0xE0</span>
<a name="l00191"></a>00191 <span class="preprocessor"></span><span class="preprocessor">#define SJY_D24_MODE            (SJY_D24_BIT&lt;&lt;24)</span>
<a name="l00192"></a>00192 <span class="preprocessor"></span>
<a name="l00193"></a>00193 <span class="preprocessor">#define SJY_CRATE(c)    (((c)&amp;SJY_SERIAL_BIT)?(c):(1&lt;&lt;((c)-1)))</span>
<a name="l00194"></a>00194 <span class="preprocessor"></span>
<a name="l00195"></a>00195 <span class="preprocessor">#endif                          </span><span class="comment">/* 411S */</span>
<a name="l00196"></a>00196 
<a name="l00197"></a>00197 
<a name="l00198"></a>00198 <span class="comment">/*</span>
<a name="l00199"></a>00199 <span class="comment">** Jorway 73A defintions</span>
<a name="l00200"></a>00200 <span class="comment">*/</span>
<a name="l00201"></a>00201 
<a name="l00202"></a>00202 <span class="preprocessor">#ifdef SJY73A</span>
<a name="l00203"></a>00203 <span class="preprocessor"></span>
<a name="l00204"></a>00204 <span class="comment">// &quot;Branch&quot; is used here synonymously with Controller SCSI ID</span>
<a name="l00205"></a>00205 <span class="comment">// for code reuse purposes</span>
<a name="l00206"></a><a class="code" href="jorway73a_8h.html#a31cfc40320ec7fadd4475297382a7247">00206</a> <span class="preprocessor">#define SJY_MAX_SJY73A  7       </span><span class="comment">/* maximum number of Jorways on host computer */</span>
<a name="l00207"></a>00207 
<a name="l00208"></a><a class="code" href="jorway73a_8h.html#a7865bbd504262133b68ef11f3c862b23">00208</a> <a class="code" href="jorway73a_8h.html#a3e7e0c464728277994d608d99bd95b1a">xdef</a> <a class="code" href="structSJY__CONTROLLER.html">SJY_CONTROLLER</a> <a class="code" href="jorway73a_8h.html#a7865bbd504262133b68ef11f3c862b23">sjy_controller</a>[<a class="code" href="jorway73a_8h.html#a31cfc40320ec7fadd4475297382a7247">SJY_MAX_SJY73A</a>];
<a name="l00209"></a>00209 
<a name="l00210"></a>00210 <span class="comment">/* Valid ranges for sjy branch, crate, slot, subadd */</span>
<a name="l00211"></a><a class="code" href="jorway73a_8h.html#a6c693b96884f3b4f857642ceb9b8fcd5">00211</a> <span class="preprocessor">#define SJY_BRANCH_MAX  SJY_MAX_SJY73A</span>
<a name="l00212"></a><a class="code" href="jorway73a_8h.html#a707d95a4eb0578a96843b697bb48dd2f">00212</a> <span class="preprocessor"></span><span class="preprocessor">#define SJY_BRANCH_MIN  0</span>
<a name="l00213"></a><a class="code" href="jorway73a_8h.html#aa8ad5345371f718d06090c1de8f12326">00213</a> <span class="preprocessor"></span><span class="preprocessor">#define SJY_SLOT_MAX    30</span>
<a name="l00214"></a><a class="code" href="jorway73a_8h.html#a0ef433d67017a66aa0cd46ffc142c0d6">00214</a> <span class="preprocessor"></span><span class="preprocessor">#define SJY_SLOT_MIN    1</span>
<a name="l00215"></a><a class="code" href="jorway73a_8h.html#ac43583a7fb61387628367f5de5076783">00215</a> <span class="preprocessor"></span><span class="preprocessor">#define SJY_SUBADD_MAX  15</span>
<a name="l00216"></a><a class="code" href="jorway73a_8h.html#a92f7093dbcd7b50983f5b258aecd0177">00216</a> <span class="preprocessor"></span><span class="preprocessor">#define SJY_SUBADD_MIN  0</span>
<a name="l00217"></a>00217 <span class="preprocessor"></span>
<a name="l00218"></a>00218 
<a name="l00219"></a>00219 <span class="comment">/* structures and definitions for Request Sense */</span>
<a name="l00220"></a><a class="code" href="struct__SJB__SENSE.html">00220</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="struct__SJB__SENSE.html">_SJB_SENSE</a> {
<a name="l00221"></a><a class="code" href="struct__SJB__SENSE.html#ad19a8b4c7c8792347eab53feee833472">00221</a>    <a class="code" href="jorway73a_8h.html#a4f4bb67531a9bf6f0b9c6ad76aeba587">UCHAR</a> <a class="code" href="struct__SJB__SENSE.html#ad19a8b4c7c8792347eab53feee833472">errorCode</a>;
<a name="l00222"></a><a class="code" href="struct__SJB__SENSE.html#aa1d1eeca28500b85215d701456598308">00222</a>    <a class="code" href="jorway73a_8h.html#a4f4bb67531a9bf6f0b9c6ad76aeba587">UCHAR</a> <a class="code" href="struct__SJB__SENSE.html#aa1d1eeca28500b85215d701456598308">segNumber</a>;
<a name="l00223"></a><a class="code" href="struct__SJB__SENSE.html#abdfc1d70737ab9e18b0491d4e8c79fa2">00223</a>    <a class="code" href="jorway73a_8h.html#a4f4bb67531a9bf6f0b9c6ad76aeba587">UCHAR</a> <a class="code" href="struct__SJB__SENSE.html#abdfc1d70737ab9e18b0491d4e8c79fa2">senseKey</a>;
<a name="l00224"></a><a class="code" href="struct__SJB__SENSE.html#ae01455413892c26ef8b1202358e037ab">00224</a>    <a class="code" href="jorway73a_8h.html#a4f4bb67531a9bf6f0b9c6ad76aeba587">UCHAR</a> <a class="code" href="struct__SJB__SENSE.html#ae01455413892c26ef8b1202358e037ab">fifoStatus</a>;
<a name="l00225"></a><a class="code" href="struct__SJB__SENSE.html#ab02cfb9eb57b752716c232212c88f42b">00225</a>    <a class="code" href="jorway73a_8h.html#a4f4bb67531a9bf6f0b9c6ad76aeba587">UCHAR</a> <a class="code" href="struct__SJB__SENSE.html#ab02cfb9eb57b752716c232212c88f42b">dmabc</a>[3];
<a name="l00226"></a><a class="code" href="struct__SJB__SENSE.html#a3a38f87255af199fcfdccd88c12c6192">00226</a>    <a class="code" href="jorway73a_8h.html#a4f4bb67531a9bf6f0b9c6ad76aeba587">UCHAR</a> <a class="code" href="struct__SJB__SENSE.html#a3a38f87255af199fcfdccd88c12c6192">asl</a>;
<a name="l00227"></a><a class="code" href="struct__SJB__SENSE.html#ac87965ecce7d9c0b4651ca02f4d54811">00227</a>    <a class="code" href="jorway73a_8h.html#a4f4bb67531a9bf6f0b9c6ad76aeba587">UCHAR</a> <a class="code" href="struct__SJB__SENSE.html#ac87965ecce7d9c0b4651ca02f4d54811">reserved8</a>;
<a name="l00228"></a><a class="code" href="struct__SJB__SENSE.html#afbc10e565659ae7f1cacee9482daa176">00228</a>    <a class="code" href="jorway73a_8h.html#a4f4bb67531a9bf6f0b9c6ad76aeba587">UCHAR</a> <a class="code" href="struct__SJB__SENSE.html#afbc10e565659ae7f1cacee9482daa176">reserved9</a>;
<a name="l00229"></a><a class="code" href="struct__SJB__SENSE.html#a54b3409598143f82921340f94735ed12">00229</a>    <a class="code" href="jorway73a_8h.html#a4f4bb67531a9bf6f0b9c6ad76aeba587">UCHAR</a> <a class="code" href="struct__SJB__SENSE.html#a54b3409598143f82921340f94735ed12">reserved10</a>;
<a name="l00230"></a><a class="code" href="struct__SJB__SENSE.html#a6838678769392b4af8a05ade9539c69a">00230</a>    <a class="code" href="jorway73a_8h.html#a4f4bb67531a9bf6f0b9c6ad76aeba587">UCHAR</a> <a class="code" href="struct__SJB__SENSE.html#a6838678769392b4af8a05ade9539c69a">reserved11</a>;
<a name="l00231"></a><a class="code" href="struct__SJB__SENSE.html#ab2cba16c65fe3fad07d73c562dea8146">00231</a>    <a class="code" href="jorway73a_8h.html#a4f4bb67531a9bf6f0b9c6ad76aeba587">UCHAR</a> <a class="code" href="struct__SJB__SENSE.html#ab2cba16c65fe3fad07d73c562dea8146">addSense</a>;
<a name="l00232"></a><a class="code" href="struct__SJB__SENSE.html#aab0c99016a169fa166c16672898c24c1">00232</a>    <a class="code" href="jorway73a_8h.html#a4f4bb67531a9bf6f0b9c6ad76aeba587">UCHAR</a> <a class="code" href="struct__SJB__SENSE.html#aab0c99016a169fa166c16672898c24c1">reserved13</a>;
<a name="l00233"></a><a class="code" href="struct__SJB__SENSE.html#aac1df071a704fd7c536546096ad9fa81">00233</a>    <a class="code" href="jorway73a_8h.html#a4f4bb67531a9bf6f0b9c6ad76aeba587">UCHAR</a> <a class="code" href="struct__SJB__SENSE.html#aac1df071a704fd7c536546096ad9fa81">reserved14</a>;
<a name="l00234"></a><a class="code" href="struct__SJB__SENSE.html#a4c29076793745d85a1d73da00cd7b8d1">00234</a>    <a class="code" href="jorway73a_8h.html#a4f4bb67531a9bf6f0b9c6ad76aeba587">UCHAR</a> <a class="code" href="struct__SJB__SENSE.html#a4c29076793745d85a1d73da00cd7b8d1">reserved15</a>;
<a name="l00235"></a><a class="code" href="struct__SJB__SENSE.html#abcf410cdbdc6cfe1b2df570089e215da">00235</a>    <a class="code" href="jorway73a_8h.html#a4f4bb67531a9bf6f0b9c6ad76aeba587">UCHAR</a> <a class="code" href="struct__SJB__SENSE.html#abcf410cdbdc6cfe1b2df570089e215da">reserved16</a>;
<a name="l00236"></a><a class="code" href="struct__SJB__SENSE.html#acf4acefa55f7575f2751a293a99cbc62">00236</a>    <a class="code" href="jorway73a_8h.html#a4f4bb67531a9bf6f0b9c6ad76aeba587">UCHAR</a> <a class="code" href="struct__SJB__SENSE.html#acf4acefa55f7575f2751a293a99cbc62">reserved17</a>;
<a name="l00237"></a>00237 } <a class="code" href="struct__SJB__SENSE.html">SJB_SENSE</a>, *PSJB_SENSE;
<a name="l00238"></a>00238 
<a name="l00239"></a><a class="code" href="jorway73a_8h.html#a26a23770ffc5d20d1a2c2af00fe35728">00239</a> <span class="preprocessor">#define DMABC(dmabc)            ((dmabc[0] &lt;&lt; 16) | (dmabc[1] &lt;&lt; 8) | (dmabc[2]))</span>
<a name="l00240"></a>00240 <span class="preprocessor"></span>
<a name="l00241"></a>00241 
<a name="l00242"></a>00242 <span class="comment">/* CAMAC command codes for the SRB */</span>
<a name="l00243"></a><a class="code" href="jorway73a_8h.html#af35abc9ab1dcaf42287a9fdb2299d37d">00243</a> <span class="preprocessor">#define SJY_NONDATA_CMD                 0x01</span>
<a name="l00244"></a><a class="code" href="jorway73a_8h.html#a3c545a41be73afcaf3a8ccfef9eeaa83">00244</a> <span class="preprocessor"></span><span class="preprocessor">#define SJY_SHORTXFER_DATA_CMD          0x01</span>
<a name="l00245"></a><a class="code" href="jorway73a_8h.html#aa87531dd8450cf97b498767f5a1910a5">00245</a> <span class="preprocessor"></span><span class="preprocessor">#define SJY_LONGXFER_DATA_CMD           0x21</span>
<a name="l00246"></a>00246 <span class="preprocessor"></span>
<a name="l00247"></a>00247 
<a name="l00248"></a>00248 <span class="comment">/*  Jorway 73A SRB layout</span>
<a name="l00249"></a>00249 <span class="comment"> *</span>
<a name="l00250"></a>00250 <span class="comment"> *      Non-Data Transfers</span>
<a name="l00251"></a>00251 <span class="comment"> *      b0      0x01</span>
<a name="l00252"></a>00252 <span class="comment"> *      b1      F</span>
<a name="l00253"></a>00253 <span class="comment"> *      b2      N</span>
<a name="l00254"></a>00254 <span class="comment"> *      b3      A</span>
<a name="l00255"></a>00255 <span class="comment"> *      b4      0</span>
<a name="l00256"></a>00256 <span class="comment"> *      b5      0</span>
<a name="l00257"></a>00257 <span class="comment"> *</span>
<a name="l00258"></a>00258 <span class="comment"> *      Short Data Transfers (&lt;256 bytes)</span>
<a name="l00259"></a>00259 <span class="comment"> *      b0      0x01</span>
<a name="l00260"></a>00260 <span class="comment"> *      b1      F</span>
<a name="l00261"></a>00261 <span class="comment"> *      b2      N       | (mode&lt;&lt;6) | 0x20 for 24 bit functions</span>
<a name="l00262"></a>00262 <span class="comment"> *      b3      A</span>
<a name="l00263"></a>00263 <span class="comment"> *      b4      xfrlen</span>
<a name="l00264"></a>00264 <span class="comment"> *      b5      0</span>
<a name="l00265"></a>00265 <span class="comment"> *</span>
<a name="l00266"></a>00266 <span class="comment"> *      Long Data Transfers</span>
<a name="l00267"></a>00267 <span class="comment"> *      b0      0x21</span>
<a name="l00268"></a>00268 <span class="comment"> *      b1      0</span>
<a name="l00269"></a>00269 <span class="comment"> *      b2      F</span>
<a name="l00270"></a>00270 <span class="comment"> *      b3      N       | (mode&lt;&lt;6) | 0x20 for 24 bit functions</span>
<a name="l00271"></a>00271 <span class="comment"> *      b4      A</span>
<a name="l00272"></a>00272 <span class="comment"> *      b5      0</span>
<a name="l00273"></a>00273 <span class="comment"> *      b6      xfrlen &gt;&gt;16                     bytes</span>
<a name="l00274"></a>00274 <span class="comment"> *      b7      xfrlen &gt;&gt; 8                     bytes</span>
<a name="l00275"></a>00275 <span class="comment"> *      b8      xfrlen                          bytes</span>
<a name="l00276"></a>00276 <span class="comment"> *      b9      0</span>
<a name="l00277"></a>00277 <span class="comment"> */</span>
<a name="l00278"></a>00278 
<a name="l00279"></a>00279 <span class="comment">/* Crate Modifier       - Parallel/Serial. The 73A is a type A (parallel) controller only */</span>
<a name="l00280"></a><a class="code" href="jorway73a_8h.html#a9bb5601dad0c20188ec7c59826fa84c4">00280</a> <span class="preprocessor">#define SJY_SERIAL_BIT          0x00</span>
<a name="l00281"></a>00281 <span class="preprocessor"></span>
<a name="l00282"></a>00282 <span class="comment">/* Slot Modifiers       - DMA Mode */</span>
<a name="l00283"></a><a class="code" href="jorway73a_8h.html#ab877659030a6d4f8c5ce1a9721931e71">00283</a> <span class="preprocessor">#define SJY_STOP_ON_WORD        0x00</span>
<a name="l00284"></a><a class="code" href="jorway73a_8h.html#ae204e54c42abe72bcd5721f8c070ea77">00284</a> <span class="preprocessor"></span><span class="preprocessor">#define SJY_ADD_SCAN            0x40</span>
<a name="l00285"></a><a class="code" href="jorway73a_8h.html#ac2b9f0af6193f92b82c6ba98ded73586">00285</a> <span class="preprocessor"></span><span class="preprocessor">#define SJY_Q_STOP              0x80</span>
<a name="l00286"></a><a class="code" href="jorway73a_8h.html#a265108074a183035550ee1985abd3f06">00286</a> <span class="preprocessor"></span><span class="preprocessor">#define SJY_Q_REPEAT            0xC0</span>
<a name="l00287"></a><a class="code" href="jorway73a_8h.html#a6cae6a6d14cdd21dc2a4ebec7a136dac">00287</a> <span class="preprocessor"></span><span class="preprocessor">#define SJY_MODE_MASK           0xC0</span>
<a name="l00288"></a><a class="code" href="jorway73a_8h.html#a9de43c528c125741c258d75222a0d0ae">00288</a> <span class="preprocessor"></span><span class="preprocessor">#define SJY_D24_MODE            (SJY_D24_BIT&lt;&lt;16)</span>
<a name="l00289"></a>00289 <span class="preprocessor"></span>
<a name="l00290"></a><a class="code" href="jorway73a_8h.html#a982e88c51c66aa464d467bce24b6abbd">00290</a> <span class="preprocessor">#define SJY_CRATE(c)            0</span>
<a name="l00291"></a>00291 <span class="preprocessor"></span>
<a name="l00292"></a>00292 <span class="preprocessor">#endif                          </span><span class="comment">/* 73A */</span>
<a name="l00293"></a>00293 
<a name="l00294"></a>00294 
<a name="l00295"></a>00295 <span class="comment">/* Clear DMA mode in SRB */</span>
<a name="l00296"></a><a class="code" href="jorway73a_8h.html#a4645a51f34a1a4198935adfe94176360">00296</a> <span class="preprocessor">#define SJY_CLEAR_MODE(cmd)             (cmd &amp; ~(SJY_MODE_MASK&lt;&lt;16))</span>
<a name="l00297"></a>00297 <span class="preprocessor"></span>
<a name="l00298"></a>00298 <span class="comment">/* Encode function, station, address, crate for SRB */</span>
<a name="l00299"></a><a class="code" href="jorway73a_8h.html#a8b33016fe8e90f639e49ce31b8e9bf9b">00299</a> <span class="preprocessor">#define SJY_CAMAC_EXT(f,n,a,c)   ( (SJY_CRATE(c)) | ((a)&lt;&lt;8) | ((n)&lt;&lt;16) | ((f)&lt;&lt;24) )</span>
<a name="l00300"></a>00300 <span class="preprocessor"></span>
<a name="l00301"></a>00301 
<a name="l00302"></a>00302 
<a name="l00303"></a>00303 <span class="comment">/* define maximum configuration */</span>
<a name="l00304"></a><a class="code" href="jorway73a_8h.html#af6e832e0566ba35039971c88b6cc89d5">00304</a> <span class="preprocessor">#define SCSI_MAXCTLR    4       // typical # of PCI slots/PC</span>
<a name="l00305"></a><a class="code" href="jorway73a_8h.html#a8359c7fcad325cd34c364c09bff1cca6">00305</a> <span class="preprocessor"></span><span class="preprocessor">#define SCSI_MAXTARG    7       // for an AHA-2940</span>
<a name="l00306"></a><a class="code" href="jorway73a_8h.html#a286786994c536c040358d8414d06c4ff">00306</a> <span class="preprocessor"></span><span class="preprocessor">#define SCSI_SENSE_LEN  32</span>
<a name="l00307"></a>00307 <span class="preprocessor"></span>
<a name="l00308"></a>00308 
<a name="l00309"></a>00309 <span class="comment">/* sjy interface (to generic scsi driver) functions */</span>
<a name="l00310"></a>00310 <span class="keywordtype">int</span> <a class="code" href="jorway73a_8c.html#a9e64e5e231f1948397c994ff2ba9b768">sjy_get_qx</a>(<span class="keywordtype">int</span> <a class="code" href="caen170a_8c.html#a5b23e03d232f1c0e5e35b3700581a9e4">branch</a>);
<a name="l00311"></a>00311 <span class="keywordtype">int</span> <a class="code" href="jorway73a_8c.html#a747d8b2e874a5416bc88493fa21a60cd">sjy_read</a>(<span class="keywordtype">int</span> <a class="code" href="caen170a_8c.html#a5b23e03d232f1c0e5e35b3700581a9e4">branch</a>, <span class="keywordtype">int</span> <a class="code" href="jorway73a_8c.html#a11d3b696651733f98e58d14ad8fa7a1d">cmd</a>, <span class="keywordtype">void</span> *dataBuffer, <span class="keywordtype">int</span> xfrlen);
<a name="l00312"></a>00312 <span class="keywordtype">int</span> <a class="code" href="jorway73a_8c.html#a260ae21605888a68ed82db8dd25bcac4">sjy_write</a>(<span class="keywordtype">int</span> <a class="code" href="caen170a_8c.html#a5b23e03d232f1c0e5e35b3700581a9e4">branch</a>, <span class="keywordtype">int</span> <a class="code" href="jorway73a_8c.html#a11d3b696651733f98e58d14ad8fa7a1d">cmd</a>, <span class="keywordtype">void</span> *dataBuffer, <span class="keywordtype">int</span> xfrlen);
<a name="l00313"></a>00313 <span class="keywordtype">int</span> <a class="code" href="jorway73a_8c.html#aa606b4f43279fe1deb0f4a7e567c2bf8">sjy_nondata</a>(<span class="keywordtype">int</span> <a class="code" href="caen170a_8c.html#a5b23e03d232f1c0e5e35b3700581a9e4">branch</a>, <span class="keywordtype">int</span> <a class="code" href="jorway73a_8c.html#a11d3b696651733f98e58d14ad8fa7a1d">cmd</a>);
<a name="l00314"></a>00314 <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *<a class="code" href="jorway73a_8c.html#a98532319de57f3181b1486ab7a3ccae0">sjy_inquiry</a>(<span class="keywordtype">int</span> <a class="code" href="caen170a_8c.html#a5b23e03d232f1c0e5e35b3700581a9e4">branch</a>);
<a name="l00315"></a>00315 <span class="keywordtype">int</span> <a class="code" href="jorway73a_8c.html#abaa46601bf81617267a3bacefb9c9571">sjy_tur</a>(<span class="keywordtype">int</span> <a class="code" href="caen170a_8c.html#a5b23e03d232f1c0e5e35b3700581a9e4">branch</a>);
<a name="l00316"></a>00316 <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *<a class="code" href="jorway73a_8c.html#ac49188b0e974187159abf586ac202535">sjy_reqSense</a>(<span class="keywordtype">int</span> <a class="code" href="caen170a_8c.html#a5b23e03d232f1c0e5e35b3700581a9e4">branch</a>);
<a name="l00317"></a>00317 
<a name="l00318"></a>00318 <span class="keywordtype">int</span> <a class="code" href="jorway73a_8c.html#a13053d959bb40e97cfabd4089e70e8ec">sjy_notify_camac_data</a>(<span class="keywordtype">int</span> <a class="code" href="caen170a_8c.html#a5b23e03d232f1c0e5e35b3700581a9e4">branch</a>, <span class="keywordtype">int</span> xfrlen, <span class="keywordtype">int</span> <a class="code" href="patch__mevb_8cpp.html#a015eb90e0de9f16e87bd149d4b9ce959">status</a>);
<a name="l00319"></a>00319 <span class="keywordtype">int</span> <a class="code" href="jorway73a_8c.html#af75bfa9a3a209871ec6e27c4916df2d5">sjy_notify_camac_nondata</a>(<span class="keywordtype">int</span> <a class="code" href="caen170a_8c.html#a5b23e03d232f1c0e5e35b3700581a9e4">branch</a>, <span class="keywordtype">int</span> xfrlen, <span class="keywordtype">int</span> <a class="code" href="patch__mevb_8cpp.html#a015eb90e0de9f16e87bd149d4b9ce959">status</a>);
<a name="l00320"></a>00320 
<a name="l00321"></a>00321 <span class="keywordtype">void</span> <a class="code" href="jorway73a_8h.html#a8851bfc8c2491af31542a4c026ab3c51">sjy_printerror</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> ErrorCode);
<a name="l00322"></a>00322 
<a name="l00323"></a>00323 <span class="preprocessor">#ifndef CAMAC_MURMUR_MSG_C_HEADER</span>
<a name="l00324"></a>00324 <span class="preprocessor"></span><span class="preprocessor">#define CAMAC_MURMUR_MSG_C_HEADER</span>
<a name="l00325"></a>00325 <span class="preprocessor"></span><span class="comment">/******************************************************************</span>
<a name="l00326"></a>00326 <span class="comment">**</span>
<a name="l00327"></a>00327 <span class="comment">**                    MURMUR Message Utility</span>
<a name="l00328"></a>00328 <span class="comment">**</span>
<a name="l00329"></a>00329 <span class="comment">** File: ../include/camac_murmur_msg_c.h</span>
<a name="l00330"></a>00330 <span class="comment">** Created: Mon Oct 16 10:49:12 1995</span>
<a name="l00331"></a>00331 <span class="comment">** Message Input File: ../include/camac_murmur.msg</span>
<a name="l00332"></a>00332 <span class="comment">** By User: streets</span>
<a name="l00333"></a>00333 <span class="comment">**</span>
<a name="l00334"></a>00334 <span class="comment">******************************************************************/</span>
<a name="l00335"></a>00335 <span class="comment">/*  CAMAC Murmur message definitions    das 1aug95 */</span>
<a name="l00336"></a>00336 <span class="comment">/*  */</span>
<a name="l00337"></a>00337 <span class="comment">/*  29aug95 das added VME_CLOSE_FAIL for cdchn( ,FALSE, ) */</span>
<a name="l00338"></a>00338 <span class="comment">/*  11oct95 jms made NO_Q informational */</span>
<a name="l00339"></a>00339 <span class="comment">/*              added SCSI_CLOSE_FAIL */</span>
<a name="l00340"></a><a class="code" href="jorway73a_8h.html#a355e05db6e2701451618514a59d000fd">00340</a> <span class="preprocessor">#define CAM_facnum 0X95</span>
<a name="l00341"></a><a class="code" href="jorway73a_8h.html#a1ac3848cc49cd53d6f10f175d60a388b">00341</a> <span class="preprocessor"></span><span class="preprocessor">#define    CAM_S_SUCCESS    0X80254009</span>
<a name="l00342"></a><a class="code" href="jorway73a_8h.html#af3b837a7b53067e13798e274b5eb2d6d">00342</a> <span class="preprocessor"></span><span class="preprocessor">#define    CAM_S_NO_Q    0X80254013</span>
<a name="l00343"></a><a class="code" href="jorway73a_8h.html#aeb5930406ae129afe5439a8cbb9bea3c">00343</a> <span class="preprocessor"></span><span class="preprocessor">#define    CAM_S_INVLD_CRATE    0X8025401C</span>
<a name="l00344"></a><a class="code" href="jorway73a_8h.html#a674e2b9208ac7518c826b10e9cfa90fe">00344</a> <span class="preprocessor"></span><span class="preprocessor">#define    CAM_S_INVLD_ARG    0X80254024</span>
<a name="l00345"></a><a class="code" href="jorway73a_8h.html#a85696b5b981d7393c12d51be835dea0f">00345</a> <span class="preprocessor"></span><span class="preprocessor">#define    CAM_S_NO_DMD    0X8025402C</span>
<a name="l00346"></a><a class="code" href="jorway73a_8h.html#a159e5bc69171374a48a7189aa4a14780">00346</a> <span class="preprocessor"></span><span class="preprocessor">#define    CAM_S_INVLD_DMD    0X80254034</span>
<a name="l00347"></a><a class="code" href="jorway73a_8h.html#a7223452d9bb8673f1815b679ac1e86eb">00347</a> <span class="preprocessor"></span><span class="preprocessor">#define    CAM_S_NO_RESPONSE    0X8025403C</span>
<a name="l00348"></a><a class="code" href="jorway73a_8h.html#ae7deea5a15143a6416608c80619aeebf">00348</a> <span class="preprocessor"></span><span class="preprocessor">#define    CAM_S_NO_X    0X80254044</span>
<a name="l00349"></a><a class="code" href="jorway73a_8h.html#a4eb067051cf0f590a53326a21ceee59c">00349</a> <span class="preprocessor"></span><span class="preprocessor">#define    CAM_S_VME_OPEN_FAIL    0X8025404C</span>
<a name="l00350"></a><a class="code" href="jorway73a_8h.html#a15efce88a43f5c6bae3ba96904a3e05c">00350</a> <span class="preprocessor"></span><span class="preprocessor">#define    CAM_S_MMAP_FAIL    0X80254054</span>
<a name="l00351"></a><a class="code" href="jorway73a_8h.html#aa17d92ecacf9147e61c078f172641f3c">00351</a> <span class="preprocessor"></span><span class="preprocessor">#define    CAM_S_DEV_OPEN_FAIL    0X8025405C</span>
<a name="l00352"></a><a class="code" href="jorway73a_8h.html#a535b85f08efa0cc43a01a0ea11ab5a44">00352</a> <span class="preprocessor"></span><span class="preprocessor">#define    CAM_S_DEV_IO_ERROR    0X80254064</span>
<a name="l00353"></a><a class="code" href="jorway73a_8h.html#ab00027438f0ff85c29802d8113dbd220">00353</a> <span class="preprocessor"></span><span class="preprocessor">#define    CAM_S_SEM_FAIL    0X8025406C</span>
<a name="l00354"></a><a class="code" href="jorway73a_8h.html#a200b91a73af5bea360d3210c88aeb545">00354</a> <span class="preprocessor"></span><span class="preprocessor">#define    CAM_S_GETSEM_FAIL    0X80254074</span>
<a name="l00355"></a><a class="code" href="jorway73a_8h.html#ad5503abe4c6d4a3ccf55b6ff3d5356d8">00355</a> <span class="preprocessor"></span><span class="preprocessor">#define    CAM_S_PUTSEM_FAIL    0X8025407C</span>
<a name="l00356"></a><a class="code" href="jorway73a_8h.html#a41b625c282f10f6477f1b363bf0c6965">00356</a> <span class="preprocessor"></span><span class="preprocessor">#define    CAM_S_INVLD_BRANCH    0X80254084</span>
<a name="l00357"></a><a class="code" href="jorway73a_8h.html#a903b21130b31eb02f4cc26527b7941c1">00357</a> <span class="preprocessor"></span><span class="preprocessor">#define    CAM_S_PARALLEL    0X8025408C</span>
<a name="l00358"></a><a class="code" href="jorway73a_8h.html#acbf2db7dc62a6f3178359e739e467821">00358</a> <span class="preprocessor"></span><span class="preprocessor">#define    CAM_S_SER_OR_PAR_ONLY    0X80254094</span>
<a name="l00359"></a><a class="code" href="jorway73a_8h.html#a48fbfae36ee769bc7b3453aac0012d14">00359</a> <span class="preprocessor"></span><span class="preprocessor">#define    CAM_S_RPC_FAIL    0X8025409C</span>
<a name="l00360"></a><a class="code" href="jorway73a_8h.html#a4dfe88b7ce41b41e99252c43b4784881">00360</a> <span class="preprocessor"></span><span class="preprocessor">#define    CAM_S_NO_ROUTE    0X802540A4</span>
<a name="l00361"></a><a class="code" href="jorway73a_8h.html#ac665abf9c13173ee47da1cbe25c3a84d">00361</a> <span class="preprocessor"></span><span class="preprocessor">#define    CAM_S_INVLD_SLOT    0X802540AC</span>
<a name="l00362"></a><a class="code" href="jorway73a_8h.html#aa8ff831c9358b6e86a460097364c8fac">00362</a> <span class="preprocessor"></span><span class="preprocessor">#define    CAM_S_INVLD_SUBADD    0X802540B4</span>
<a name="l00363"></a><a class="code" href="jorway73a_8h.html#ad9eef4f1be1fb6336242796e1b2efd1c">00363</a> <span class="preprocessor"></span><span class="preprocessor">#define    CAM_S_VME_CLOSE_FAIL    0X802540BC</span>
<a name="l00364"></a><a class="code" href="jorway73a_8h.html#a1e1f094d3201da2f95ee1954152285cd">00364</a> <span class="preprocessor"></span><span class="preprocessor">#define    CAM_S_SCSI_CLOSE_FAIL    0X802540C4</span>
<a name="l00365"></a>00365 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
</pre></div></div>
<hr size="1"/><address style="text-align: right;"><small>Generated on 6 Jun 2014 for AlcapDAQ:Rootana by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
